(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function jl(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const Xt={},Rs=[],kn=()=>{},Pp=()=>!1,Ea=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Hl=e=>e.startsWith("onUpdate:"),Ie=Object.assign,Vl=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Ip=Object.prototype.hasOwnProperty,Zt=(e,t)=>Ip.call(e,t),_t=Array.isArray,Os=e=>so(e)==="[object Map]",Ks=e=>so(e)==="[object Set]",Kc=e=>so(e)==="[object Date]",St=e=>typeof e=="function",fe=e=>typeof e=="string",Mn=e=>typeof e=="symbol",te=e=>e!==null&&typeof e=="object",Oh=e=>(te(e)||St(e))&&St(e.then)&&St(e.catch),Mh=Object.prototype.toString,so=e=>Mh.call(e),Sp=e=>so(e).slice(8,-1),Dh=e=>so(e)==="[object Object]",Wl=e=>fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Nr=jl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pa=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},Cp=/-(\w)/g,cn=Pa(e=>e.replace(Cp,(t,i)=>i?i.toUpperCase():"")),xp=/\B([A-Z])/g,ss=Pa(e=>e.replace(xp,"-$1").toLowerCase()),Ia=Pa(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ga=Pa(e=>e?`on${Ia(e)}`:""),Ci=(e,t)=>!Object.is(e,t),Yo=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},Nh=(e,t,i,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:i})},oa=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let qc;const Sa=()=>qc||(qc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zl(e){if(_t(e)){const t={};for(let i=0;i<e.length;i++){const r=e[i],o=fe(r)?Rp(r):Zl(r);if(o)for(const c in o)t[c]=o[c]}return t}else if(fe(e)||te(e))return e}const Ap=/;(?![^(]*\))/g,Lp=/:([^]+)/,kp=/\/\*[^]*?\*\//g;function Rp(e){const t={};return e.replace(kp,"").split(Ap).forEach(i=>{if(i){const r=i.split(Lp);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ca(e){let t="";if(fe(e))t=e;else if(_t(e))for(let i=0;i<e.length;i++){const r=Ca(e[i]);r&&(t+=r+" ")}else if(te(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const Op="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mp=jl(Op);function Bh(e){return!!e||e===""}function Dp(e,t){if(e.length!==t.length)return!1;let i=!0;for(let r=0;i&&r<e.length;r++)i=ro(e[r],t[r]);return i}function ro(e,t){if(e===t)return!0;let i=Kc(e),r=Kc(t);if(i||r)return i&&r?e.getTime()===t.getTime():!1;if(i=Mn(e),r=Mn(t),i||r)return e===t;if(i=_t(e),r=_t(t),i||r)return i&&r?Dp(e,t):!1;if(i=te(e),r=te(t),i||r){if(!i||!r)return!1;const o=Object.keys(e).length,c=Object.keys(t).length;if(o!==c)return!1;for(const u in e){const d=e.hasOwnProperty(u),m=t.hasOwnProperty(u);if(d&&!m||!d&&m||!ro(e[u],t[u]))return!1}}return String(e)===String(t)}function $l(e,t){return e.findIndex(i=>ro(i,t))}const zh=e=>!!(e&&e.__v_isRef===!0),Ht=e=>fe(e)?e:e==null?"":_t(e)||te(e)&&(e.toString===Mh||!St(e.toString))?zh(e)?Ht(e.value):JSON.stringify(e,Uh,2):String(e),Uh=(e,t)=>zh(t)?Uh(e,t.value):Os(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[r,o],c)=>(i[Ka(r,c)+" =>"]=o,i),{})}:Ks(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>Ka(i))}:Mn(t)?Ka(t):te(t)&&!_t(t)&&!Dh(t)?String(t):t,Ka=(e,t="")=>{var i;return Mn(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qe;class Np{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=qe,!t&&qe&&(this.index=(qe.scopes||(qe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=qe;try{return qe=this,t()}finally{qe=i}}}on(){qe=this}off(){qe=this.parent}stop(t){if(this._active){this._active=!1;let i,r;for(i=0,r=this.effects.length;i<r;i++)this.effects[i].stop();for(this.effects.length=0,i=0,r=this.cleanups.length;i<r;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,r=this.scopes.length;i<r;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Bp(){return qe}let Qt;const qa=new WeakSet;class Fh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,qe&&qe.active&&qe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,qa.has(this)&&(qa.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Hh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Jc(this),Vh(this);const t=Qt,i=bn;Qt=this,bn=!0;try{return this.fn()}finally{Wh(this),Qt=t,bn=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ql(t);this.deps=this.depsTail=void 0,Jc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?qa.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ml(this)&&this.run()}get dirty(){return ml(this)}}let jh=0,Br,zr;function Hh(e,t=!1){if(e.flags|=8,t){e.next=zr,zr=e;return}e.next=Br,Br=e}function Gl(){jh++}function Kl(){if(--jh>0)return;if(zr){let t=zr;for(zr=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;Br;){let t=Br;for(Br=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=i}}if(e)throw e}function Vh(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Wh(e){let t,i=e.depsTail,r=i;for(;r;){const o=r.prevDep;r.version===-1?(r===i&&(i=o),ql(r),zp(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=i}function ml(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Zh(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Zh(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Gr))return;e.globalVersion=Gr;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!ml(e)){e.flags&=-3;return}const i=Qt,r=bn;Qt=e,bn=!0;try{Vh(e);const o=e.fn(e._value);(t.version===0||Ci(o,e._value))&&(e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Qt=i,bn=r,Wh(e),e.flags&=-3}}function ql(e,t=!1){const{dep:i,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),i.subs===e&&(i.subs=r,!r&&i.computed)){i.computed.flags&=-5;for(let c=i.computed.deps;c;c=c.nextDep)ql(c,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function zp(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}let bn=!0;const $h=[];function ki(){$h.push(bn),bn=!1}function Ri(){const e=$h.pop();bn=e===void 0?!0:e}function Jc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=Qt;Qt=void 0;try{t()}finally{Qt=i}}}let Gr=0;class Up{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Jl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Qt||!bn||Qt===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==Qt)i=this.activeLink=new Up(Qt,this),Qt.deps?(i.prevDep=Qt.depsTail,Qt.depsTail.nextDep=i,Qt.depsTail=i):Qt.deps=Qt.depsTail=i,Gh(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const r=i.nextDep;r.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=r),i.prevDep=Qt.depsTail,i.nextDep=void 0,Qt.depsTail.nextDep=i,Qt.depsTail=i,Qt.deps===i&&(Qt.deps=r)}return i}trigger(t){this.version++,Gr++,this.notify(t)}notify(t){Gl();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{Kl()}}}function Gh(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Gh(r)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const _l=new WeakMap,Ji=Symbol(""),gl=Symbol(""),Kr=Symbol("");function be(e,t,i){if(bn&&Qt){let r=_l.get(e);r||_l.set(e,r=new Map);let o=r.get(i);o||(r.set(i,o=new Jl),o.map=r,o.key=i),o.track()}}function Jn(e,t,i,r,o,c){const u=_l.get(e);if(!u){Gr++;return}const d=m=>{m&&m.trigger()};if(Gl(),t==="clear")u.forEach(d);else{const m=_t(e),y=m&&Wl(i);if(m&&i==="length"){const b=Number(r);u.forEach((w,R)=>{(R==="length"||R===Kr||!Mn(R)&&R>=b)&&d(w)})}else switch((i!==void 0||u.has(void 0))&&d(u.get(i)),y&&d(u.get(Kr)),t){case"add":m?y&&d(u.get("length")):(d(u.get(Ji)),Os(e)&&d(u.get(gl)));break;case"delete":m||(d(u.get(Ji)),Os(e)&&d(u.get(gl)));break;case"set":Os(e)&&d(u.get(Ji));break}}Kl()}function As(e){const t=Wt(e);return t===e?t:(be(t,"iterate",Kr),ln(e)?t:t.map(Te))}function xa(e){return be(e=Wt(e),"iterate",Kr),e}const Fp={__proto__:null,[Symbol.iterator](){return Ja(this,Symbol.iterator,Te)},concat(...e){return As(this).concat(...e.map(t=>_t(t)?As(t):t))},entries(){return Ja(this,"entries",e=>(e[1]=Te(e[1]),e))},every(e,t){return Gn(this,"every",e,t,void 0,arguments)},filter(e,t){return Gn(this,"filter",e,t,i=>i.map(Te),arguments)},find(e,t){return Gn(this,"find",e,t,Te,arguments)},findIndex(e,t){return Gn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Gn(this,"findLast",e,t,Te,arguments)},findLastIndex(e,t){return Gn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Gn(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ya(this,"includes",e)},indexOf(...e){return Ya(this,"indexOf",e)},join(e){return As(this).join(e)},lastIndexOf(...e){return Ya(this,"lastIndexOf",e)},map(e,t){return Gn(this,"map",e,t,void 0,arguments)},pop(){return Ar(this,"pop")},push(...e){return Ar(this,"push",e)},reduce(e,...t){return Yc(this,"reduce",e,t)},reduceRight(e,...t){return Yc(this,"reduceRight",e,t)},shift(){return Ar(this,"shift")},some(e,t){return Gn(this,"some",e,t,void 0,arguments)},splice(...e){return Ar(this,"splice",e)},toReversed(){return As(this).toReversed()},toSorted(e){return As(this).toSorted(e)},toSpliced(...e){return As(this).toSpliced(...e)},unshift(...e){return Ar(this,"unshift",e)},values(){return Ja(this,"values",Te)}};function Ja(e,t,i){const r=xa(e),o=r[t]();return r!==e&&!ln(e)&&(o._next=o.next,o.next=()=>{const c=o._next();return c.value&&(c.value=i(c.value)),c}),o}const jp=Array.prototype;function Gn(e,t,i,r,o,c){const u=xa(e),d=u!==e&&!ln(e),m=u[t];if(m!==jp[t]){const w=m.apply(e,c);return d?Te(w):w}let y=i;u!==e&&(d?y=function(w,R){return i.call(this,Te(w),R,e)}:i.length>2&&(y=function(w,R){return i.call(this,w,R,e)}));const b=m.call(u,y,r);return d&&o?o(b):b}function Yc(e,t,i,r){const o=xa(e);let c=i;return o!==e&&(ln(e)?i.length>3&&(c=function(u,d,m){return i.call(this,u,d,m,e)}):c=function(u,d,m){return i.call(this,u,Te(d),m,e)}),o[t](c,...r)}function Ya(e,t,i){const r=Wt(e);be(r,"iterate",Kr);const o=r[t](...i);return(o===-1||o===!1)&&Ql(i[0])?(i[0]=Wt(i[0]),r[t](...i)):o}function Ar(e,t,i=[]){ki(),Gl();const r=Wt(e)[t].apply(e,i);return Kl(),Ri(),r}const Hp=jl("__proto__,__v_isRef,__isVue"),Kh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Mn));function Vp(e){Mn(e)||(e=String(e));const t=Wt(this);return be(t,"has",e),t.hasOwnProperty(e)}class qh{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,r){if(i==="__v_skip")return t.__v_skip;const o=this._isReadonly,c=this._isShallow;if(i==="__v_isReactive")return!o;if(i==="__v_isReadonly")return o;if(i==="__v_isShallow")return c;if(i==="__v_raw")return r===(o?c?Qp:Qh:c?Xh:Yh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const u=_t(t);if(!o){let m;if(u&&(m=Fp[i]))return m;if(i==="hasOwnProperty")return Vp}const d=Reflect.get(t,i,Pe(t)?t:r);return(Mn(i)?Kh.has(i):Hp(i))||(o||be(t,"get",i),c)?d:Pe(d)?u&&Wl(i)?d:d.value:te(d)?o?ef(d):Aa(d):d}}class Jh extends qh{constructor(t=!1){super(!1,t)}set(t,i,r,o){let c=t[i];if(!this._isShallow){const m=Xi(c);if(!ln(r)&&!Xi(r)&&(c=Wt(c),r=Wt(r)),!_t(t)&&Pe(c)&&!Pe(r))return m?!1:(c.value=r,!0)}const u=_t(t)&&Wl(i)?Number(i)<t.length:Zt(t,i),d=Reflect.set(t,i,r,Pe(t)?t:o);return t===Wt(o)&&(u?Ci(r,c)&&Jn(t,"set",i,r):Jn(t,"add",i,r)),d}deleteProperty(t,i){const r=Zt(t,i);t[i];const o=Reflect.deleteProperty(t,i);return o&&r&&Jn(t,"delete",i,void 0),o}has(t,i){const r=Reflect.has(t,i);return(!Mn(i)||!Kh.has(i))&&be(t,"has",i),r}ownKeys(t){return be(t,"iterate",_t(t)?"length":Ji),Reflect.ownKeys(t)}}class Wp extends qh{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const Zp=new Jh,$p=new Wp,Gp=new Jh(!0);const vl=e=>e,$o=e=>Reflect.getPrototypeOf(e);function Kp(e,t,i){return function(...r){const o=this.__v_raw,c=Wt(o),u=Os(c),d=e==="entries"||e===Symbol.iterator&&u,m=e==="keys"&&u,y=o[e](...r),b=i?vl:t?yl:Te;return!t&&be(c,"iterate",m?gl:Ji),{next(){const{value:w,done:R}=y.next();return R?{value:w,done:R}:{value:d?[b(w[0]),b(w[1])]:b(w),done:R}},[Symbol.iterator](){return this}}}}function Go(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function qp(e,t){const i={get(o){const c=this.__v_raw,u=Wt(c),d=Wt(o);e||(Ci(o,d)&&be(u,"get",o),be(u,"get",d));const{has:m}=$o(u),y=t?vl:e?yl:Te;if(m.call(u,o))return y(c.get(o));if(m.call(u,d))return y(c.get(d));c!==u&&c.get(o)},get size(){const o=this.__v_raw;return!e&&be(Wt(o),"iterate",Ji),Reflect.get(o,"size",o)},has(o){const c=this.__v_raw,u=Wt(c),d=Wt(o);return e||(Ci(o,d)&&be(u,"has",o),be(u,"has",d)),o===d?c.has(o):c.has(o)||c.has(d)},forEach(o,c){const u=this,d=u.__v_raw,m=Wt(d),y=t?vl:e?yl:Te;return!e&&be(m,"iterate",Ji),d.forEach((b,w)=>o.call(c,y(b),y(w),u))}};return Ie(i,e?{add:Go("add"),set:Go("set"),delete:Go("delete"),clear:Go("clear")}:{add(o){!t&&!ln(o)&&!Xi(o)&&(o=Wt(o));const c=Wt(this);return $o(c).has.call(c,o)||(c.add(o),Jn(c,"add",o,o)),this},set(o,c){!t&&!ln(c)&&!Xi(c)&&(c=Wt(c));const u=Wt(this),{has:d,get:m}=$o(u);let y=d.call(u,o);y||(o=Wt(o),y=d.call(u,o));const b=m.call(u,o);return u.set(o,c),y?Ci(c,b)&&Jn(u,"set",o,c):Jn(u,"add",o,c),this},delete(o){const c=Wt(this),{has:u,get:d}=$o(c);let m=u.call(c,o);m||(o=Wt(o),m=u.call(c,o)),d&&d.call(c,o);const y=c.delete(o);return m&&Jn(c,"delete",o,void 0),y},clear(){const o=Wt(this),c=o.size!==0,u=o.clear();return c&&Jn(o,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(o=>{i[o]=Kp(o,e,t)}),i}function Yl(e,t){const i=qp(e,t);return(r,o,c)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Zt(i,o)&&o in r?i:r,o,c)}const Jp={get:Yl(!1,!1)},Yp={get:Yl(!1,!0)},Xp={get:Yl(!0,!1)};const Yh=new WeakMap,Xh=new WeakMap,Qh=new WeakMap,Qp=new WeakMap;function tm(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function em(e){return e.__v_skip||!Object.isExtensible(e)?0:tm(Sp(e))}function Aa(e){return Xi(e)?e:Xl(e,!1,Zp,Jp,Yh)}function tf(e){return Xl(e,!1,Gp,Yp,Xh)}function ef(e){return Xl(e,!0,$p,Xp,Qh)}function Xl(e,t,i,r,o){if(!te(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const c=o.get(e);if(c)return c;const u=em(e);if(u===0)return e;const d=new Proxy(e,u===2?r:i);return o.set(e,d),d}function Ms(e){return Xi(e)?Ms(e.__v_raw):!!(e&&e.__v_isReactive)}function Xi(e){return!!(e&&e.__v_isReadonly)}function ln(e){return!!(e&&e.__v_isShallow)}function Ql(e){return e?!!e.__v_raw:!1}function Wt(e){const t=e&&e.__v_raw;return t?Wt(t):e}function nm(e){return!Zt(e,"__v_skip")&&Object.isExtensible(e)&&Nh(e,"__v_skip",!0),e}const Te=e=>te(e)?Aa(e):e,yl=e=>te(e)?ef(e):e;function Pe(e){return e?e.__v_isRef===!0:!1}function Yi(e){return nf(e,!1)}function im(e){return nf(e,!0)}function nf(e,t){return Pe(e)?e:new sm(e,t)}class sm{constructor(t,i){this.dep=new Jl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:Wt(t),this._value=i?t:Te(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,r=this.__v_isShallow||ln(t)||Xi(t);t=r?t:Wt(t),Ci(t,i)&&(this._rawValue=t,this._value=r?t:Te(t),this.dep.trigger())}}function Ds(e){return Pe(e)?e.value:e}const rm={get:(e,t,i)=>t==="__v_raw"?e:Ds(Reflect.get(e,t,i)),set:(e,t,i,r)=>{const o=e[t];return Pe(o)&&!Pe(i)?(o.value=i,!0):Reflect.set(e,t,i,r)}};function sf(e){return Ms(e)?e:new Proxy(e,rm)}class om{constructor(t,i,r){this.fn=t,this.setter=i,this._value=void 0,this.dep=new Jl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Gr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Qt!==this)return Hh(this,!0),!0}get value(){const t=this.dep.track();return Zh(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function am(e,t,i=!1){let r,o;return St(e)?r=e:(r=e.get,o=e.set),new om(r,o,i)}const Ko={},aa=new WeakMap;let Gi;function lm(e,t=!1,i=Gi){if(i){let r=aa.get(i);r||aa.set(i,r=[]),r.push(e)}}function cm(e,t,i=Xt){const{immediate:r,deep:o,once:c,scheduler:u,augmentJob:d,call:m}=i,y=st=>o?st:ln(st)||o===!1||o===0?Yn(st,1):Yn(st);let b,w,R,z,$=!1,Z=!1;if(Pe(e)?(w=()=>e.value,$=ln(e)):Ms(e)?(w=()=>y(e),$=!0):_t(e)?(Z=!0,$=e.some(st=>Ms(st)||ln(st)),w=()=>e.map(st=>{if(Pe(st))return st.value;if(Ms(st))return y(st);if(St(st))return m?m(st,2):st()})):St(e)?t?w=m?()=>m(e,2):e:w=()=>{if(R){ki();try{R()}finally{Ri()}}const st=Gi;Gi=b;try{return m?m(e,3,[z]):e(z)}finally{Gi=st}}:w=kn,t&&o){const st=w,Ct=o===!0?1/0:o;w=()=>Yn(st(),Ct)}const at=Bp(),ct=()=>{b.stop(),at&&at.active&&Vl(at.effects,b)};if(c&&t){const st=t;t=(...Ct)=>{st(...Ct),ct()}}let rt=Z?new Array(e.length).fill(Ko):Ko;const Q=st=>{if(!(!(b.flags&1)||!b.dirty&&!st))if(t){const Ct=b.run();if(o||$||(Z?Ct.some((Dt,A)=>Ci(Dt,rt[A])):Ci(Ct,rt))){R&&R();const Dt=Gi;Gi=b;try{const A=[Ct,rt===Ko?void 0:Z&&rt[0]===Ko?[]:rt,z];m?m(t,3,A):t(...A),rt=Ct}finally{Gi=Dt}}}else b.run()};return d&&d(Q),b=new Fh(w),b.scheduler=u?()=>u(Q,!1):Q,z=st=>lm(st,!1,b),R=b.onStop=()=>{const st=aa.get(b);if(st){if(m)m(st,4);else for(const Ct of st)Ct();aa.delete(b)}},t?r?Q(!0):rt=b.run():u?u(Q.bind(null,!0),!0):b.run(),ct.pause=b.pause.bind(b),ct.resume=b.resume.bind(b),ct.stop=ct,ct}function Yn(e,t=1/0,i){if(t<=0||!te(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,Pe(e))Yn(e.value,t,i);else if(_t(e))for(let r=0;r<e.length;r++)Yn(e[r],t,i);else if(Ks(e)||Os(e))e.forEach(r=>{Yn(r,t,i)});else if(Dh(e)){for(const r in e)Yn(e[r],t,i);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Yn(e[r],t,i)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function oo(e,t,i,r){try{return r?e(...r):e()}catch(o){La(o,t,i)}}function Dn(e,t,i,r){if(St(e)){const o=oo(e,t,i,r);return o&&Oh(o)&&o.catch(c=>{La(c,t,i)}),o}if(_t(e)){const o=[];for(let c=0;c<e.length;c++)o.push(Dn(e[c],t,i,r));return o}}function La(e,t,i,r=!0){const o=t?t.vnode:null,{errorHandler:c,throwUnhandledErrorInProduction:u}=t&&t.appContext.config||Xt;if(t){let d=t.parent;const m=t.proxy,y=`https://vuejs.org/error-reference/#runtime-${i}`;for(;d;){const b=d.ec;if(b){for(let w=0;w<b.length;w++)if(b[w](e,m,y)===!1)return}d=d.parent}if(c){ki(),oo(c,null,10,[e,m,y]),Ri();return}}um(e,i,o,r,u)}function um(e,t,i,r=!0,o=!1){if(o)throw e;console.error(e)}const Re=[];let An=-1;const Ns=[];let yi=null,Ls=0;const rf=Promise.resolve();let la=null;function tc(e){const t=la||rf;return e?t.then(this?e.bind(this):e):t}function hm(e){let t=An+1,i=Re.length;for(;t<i;){const r=t+i>>>1,o=Re[r],c=qr(o);c<e||c===e&&o.flags&2?t=r+1:i=r}return t}function ec(e){if(!(e.flags&1)){const t=qr(e),i=Re[Re.length-1];!i||!(e.flags&2)&&t>=qr(i)?Re.push(e):Re.splice(hm(t),0,e),e.flags|=1,of()}}function of(){la||(la=rf.then(lf))}function fm(e){_t(e)?Ns.push(...e):yi&&e.id===-1?yi.splice(Ls+1,0,e):e.flags&1||(Ns.push(e),e.flags|=1),of()}function Xc(e,t,i=An+1){for(;i<Re.length;i++){const r=Re[i];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Re.splice(i,1),i--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function af(e){if(Ns.length){const t=[...new Set(Ns)].sort((i,r)=>qr(i)-qr(r));if(Ns.length=0,yi){yi.push(...t);return}for(yi=t,Ls=0;Ls<yi.length;Ls++){const i=yi[Ls];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}yi=null,Ls=0}}const qr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function lf(e){try{for(An=0;An<Re.length;An++){const t=Re[An];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),oo(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;An<Re.length;An++){const t=Re[An];t&&(t.flags&=-2)}An=-1,Re.length=0,af(),la=null,(Re.length||Ns.length)&&lf()}}let Ye=null,cf=null;function ca(e){const t=Ye;return Ye=e,cf=e&&e.type.__scopeId||null,t}function Si(e,t=Ye,i){if(!t||e._n)return e;const r=(...o)=>{r._d&&lu(-1);const c=ca(t);let u;try{u=e(...o)}finally{ca(c),r._d&&lu(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function se(e,t){if(Ye===null)return e;const i=Ma(Ye),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[c,u,d,m=Xt]=t[o];c&&(St(c)&&(c={mounted:c,updated:c}),c.deep&&Yn(u),r.push({dir:c,instance:i,value:u,oldValue:void 0,arg:d,modifiers:m}))}return e}function Zi(e,t,i,r){const o=e.dirs,c=t&&t.dirs;for(let u=0;u<o.length;u++){const d=o[u];c&&(d.oldValue=c[u].value);let m=d.dir[r];m&&(ki(),Dn(m,i,8,[e.el,d,e,t]),Ri())}}const dm=Symbol("_vte"),pm=e=>e.__isTeleport;function nc(e,t){e.shapeFlag&6&&e.component?(e.transition=t,nc(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function uf(e,t){return St(e)?Ie({name:e.name},t,{setup:e}):e}function hf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ua(e,t,i,r,o=!1){if(_t(e)){e.forEach(($,Z)=>ua($,t&&(_t(t)?t[Z]:t),i,r,o));return}if(Ur(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ua(e,t,i,r.component.subTree);return}const c=r.shapeFlag&4?Ma(r.component):r.el,u=o?null:c,{i:d,r:m}=e,y=t&&t.r,b=d.refs===Xt?d.refs={}:d.refs,w=d.setupState,R=Wt(w),z=w===Xt?()=>!1:$=>Zt(R,$);if(y!=null&&y!==m&&(fe(y)?(b[y]=null,z(y)&&(w[y]=null)):Pe(y)&&(y.value=null)),St(m))oo(m,d,12,[u,b]);else{const $=fe(m),Z=Pe(m);if($||Z){const at=()=>{if(e.f){const ct=$?z(m)?w[m]:b[m]:m.value;o?_t(ct)&&Vl(ct,c):_t(ct)?ct.includes(c)||ct.push(c):$?(b[m]=[c],z(m)&&(w[m]=b[m])):(m.value=[c],e.k&&(b[e.k]=m.value))}else $?(b[m]=u,z(m)&&(w[m]=u)):Z&&(m.value=u,e.k&&(b[e.k]=u))};u?(at.id=-1,Ke(at,i)):at()}}}Sa().requestIdleCallback;Sa().cancelIdleCallback;const Ur=e=>!!e.type.__asyncLoader,ff=e=>e.type.__isKeepAlive;function mm(e,t){df(e,"a",t)}function _m(e,t){df(e,"da",t)}function df(e,t,i=Ee){const r=e.__wdc||(e.__wdc=()=>{let o=i;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(ka(t,r,i),i){let o=i.parent;for(;o&&o.parent;)ff(o.parent.vnode)&&gm(r,t,i,o),o=o.parent}}function gm(e,t,i,r){const o=ka(t,e,r,!0);pf(()=>{Vl(r[t],o)},i)}function ka(e,t,i=Ee,r=!1){if(i){const o=i[e]||(i[e]=[]),c=t.__weh||(t.__weh=(...u)=>{ki();const d=ao(i),m=Dn(t,i,e,u);return d(),Ri(),m});return r?o.unshift(c):o.push(c),c}}const ri=e=>(t,i=Ee)=>{(!Yr||e==="sp")&&ka(e,(...r)=>t(...r),i)},vm=ri("bm"),ym=ri("m"),wm=ri("bu"),bm=ri("u"),Tm=ri("bum"),pf=ri("um"),Em=ri("sp"),Pm=ri("rtg"),Im=ri("rtc");function Sm(e,t=Ee){ka("ec",e,t)}const Cm="components";function gn(e,t){return Am(Cm,e,!0,t)||e}const xm=Symbol.for("v-ndc");function Am(e,t,i=!0,r=!1){const o=Ye||Ee;if(o){const c=o.type;{const d=m_(c,!1);if(d&&(d===t||d===cn(t)||d===Ia(cn(t))))return c}const u=Qc(o[e]||c[e],t)||Qc(o.appContext[e],t);return!u&&r?c:u}}function Qc(e,t){return e&&(e[t]||e[cn(t)]||e[Ia(cn(t))])}function js(e,t,i,r){let o;const c=i,u=_t(e);if(u||fe(e)){const d=u&&Ms(e);let m=!1;d&&(m=!ln(e),e=xa(e)),o=new Array(e.length);for(let y=0,b=e.length;y<b;y++)o[y]=t(m?Te(e[y]):e[y],y,void 0,c)}else if(typeof e=="number"){o=new Array(e);for(let d=0;d<e;d++)o[d]=t(d+1,d,void 0,c)}else if(te(e))if(e[Symbol.iterator])o=Array.from(e,(d,m)=>t(d,m,void 0,c));else{const d=Object.keys(e);o=new Array(d.length);for(let m=0,y=d.length;m<y;m++){const b=d[m];o[m]=t(e[b],b,m,c)}}else o=[];return o}const wl=e=>e?Df(e)?Ma(e):wl(e.parent):null,Fr=Ie(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wl(e.parent),$root:e=>wl(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>_f(e),$forceUpdate:e=>e.f||(e.f=()=>{ec(e.update)}),$nextTick:e=>e.n||(e.n=tc.bind(e.proxy)),$watch:e=>Jm.bind(e)}),Xa=(e,t)=>e!==Xt&&!e.__isScriptSetup&&Zt(e,t),Lm={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:r,data:o,props:c,accessCache:u,type:d,appContext:m}=e;let y;if(t[0]!=="$"){const z=u[t];if(z!==void 0)switch(z){case 1:return r[t];case 2:return o[t];case 4:return i[t];case 3:return c[t]}else{if(Xa(r,t))return u[t]=1,r[t];if(o!==Xt&&Zt(o,t))return u[t]=2,o[t];if((y=e.propsOptions[0])&&Zt(y,t))return u[t]=3,c[t];if(i!==Xt&&Zt(i,t))return u[t]=4,i[t];bl&&(u[t]=0)}}const b=Fr[t];let w,R;if(b)return t==="$attrs"&&be(e.attrs,"get",""),b(e);if((w=d.__cssModules)&&(w=w[t]))return w;if(i!==Xt&&Zt(i,t))return u[t]=4,i[t];if(R=m.config.globalProperties,Zt(R,t))return R[t]},set({_:e},t,i){const{data:r,setupState:o,ctx:c}=e;return Xa(o,t)?(o[t]=i,!0):r!==Xt&&Zt(r,t)?(r[t]=i,!0):Zt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(c[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:r,appContext:o,propsOptions:c}},u){let d;return!!i[u]||e!==Xt&&Zt(e,u)||Xa(t,u)||(d=c[0])&&Zt(d,u)||Zt(r,u)||Zt(Fr,u)||Zt(o.config.globalProperties,u)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:Zt(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function tu(e){return _t(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let bl=!0;function km(e){const t=_f(e),i=e.proxy,r=e.ctx;bl=!1,t.beforeCreate&&eu(t.beforeCreate,e,"bc");const{data:o,computed:c,methods:u,watch:d,provide:m,inject:y,created:b,beforeMount:w,mounted:R,beforeUpdate:z,updated:$,activated:Z,deactivated:at,beforeDestroy:ct,beforeUnmount:rt,destroyed:Q,unmounted:st,render:Ct,renderTracked:Dt,renderTriggered:A,errorCaptured:E,serverPrefetch:C,expose:k,inheritAttrs:x,components:O,directives:I,filters:ee}=t;if(y&&Rm(y,r,null),u)for(const xt in u){const tt=u[xt];St(tt)&&(r[xt]=tt.bind(i))}if(o){const xt=o.call(i,i);te(xt)&&(e.data=Aa(xt))}if(bl=!0,c)for(const xt in c){const tt=c[xt],we=St(tt)?tt.bind(i,i):St(tt.get)?tt.get.bind(i,i):kn,ft=!St(tt)&&St(tt.set)?tt.set.bind(i):kn,Nt=vn({get:we,set:ft});Object.defineProperty(r,xt,{enumerable:!0,configurable:!0,get:()=>Nt.value,set:Lt=>Nt.value=Lt})}if(d)for(const xt in d)mf(d[xt],r,i,xt);if(m){const xt=St(m)?m.call(i):m;Reflect.ownKeys(xt).forEach(tt=>{Xo(tt,xt[tt])})}b&&eu(b,e,"c");function Ft(xt,tt){_t(tt)?tt.forEach(we=>xt(we.bind(i))):tt&&xt(tt.bind(i))}if(Ft(vm,w),Ft(ym,R),Ft(wm,z),Ft(bm,$),Ft(mm,Z),Ft(_m,at),Ft(Sm,E),Ft(Im,Dt),Ft(Pm,A),Ft(Tm,rt),Ft(pf,st),Ft(Em,C),_t(k))if(k.length){const xt=e.exposed||(e.exposed={});k.forEach(tt=>{Object.defineProperty(xt,tt,{get:()=>i[tt],set:we=>i[tt]=we})})}else e.exposed||(e.exposed={});Ct&&e.render===kn&&(e.render=Ct),x!=null&&(e.inheritAttrs=x),O&&(e.components=O),I&&(e.directives=I),C&&hf(e)}function Rm(e,t,i=kn){_t(e)&&(e=Tl(e));for(const r in e){const o=e[r];let c;te(o)?"default"in o?c=Rn(o.from||r,o.default,!0):c=Rn(o.from||r):c=Rn(o),Pe(c)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>c.value,set:u=>c.value=u}):t[r]=c}}function eu(e,t,i){Dn(_t(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,i)}function mf(e,t,i,r){let o=r.includes(".")?Lf(i,r):()=>i[r];if(fe(e)){const c=t[e];St(c)&&Qo(o,c)}else if(St(e))Qo(o,e.bind(i));else if(te(e))if(_t(e))e.forEach(c=>mf(c,t,i,r));else{const c=St(e.handler)?e.handler.bind(i):t[e.handler];St(c)&&Qo(o,c,e)}}function _f(e){const t=e.type,{mixins:i,extends:r}=t,{mixins:o,optionsCache:c,config:{optionMergeStrategies:u}}=e.appContext,d=c.get(t);let m;return d?m=d:!o.length&&!i&&!r?m=t:(m={},o.length&&o.forEach(y=>ha(m,y,u,!0)),ha(m,t,u)),te(t)&&c.set(t,m),m}function ha(e,t,i,r=!1){const{mixins:o,extends:c}=t;c&&ha(e,c,i,!0),o&&o.forEach(u=>ha(e,u,i,!0));for(const u in t)if(!(r&&u==="expose")){const d=Om[u]||i&&i[u];e[u]=d?d(e[u],t[u]):t[u]}return e}const Om={data:nu,props:iu,emits:iu,methods:Rr,computed:Rr,beforeCreate:Le,created:Le,beforeMount:Le,mounted:Le,beforeUpdate:Le,updated:Le,beforeDestroy:Le,beforeUnmount:Le,destroyed:Le,unmounted:Le,activated:Le,deactivated:Le,errorCaptured:Le,serverPrefetch:Le,components:Rr,directives:Rr,watch:Dm,provide:nu,inject:Mm};function nu(e,t){return t?e?function(){return Ie(St(e)?e.call(this,this):e,St(t)?t.call(this,this):t)}:t:e}function Mm(e,t){return Rr(Tl(e),Tl(t))}function Tl(e){if(_t(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Le(e,t){return e?[...new Set([].concat(e,t))]:t}function Rr(e,t){return e?Ie(Object.create(null),e,t):t}function iu(e,t){return e?_t(e)&&_t(t)?[...new Set([...e,...t])]:Ie(Object.create(null),tu(e),tu(t??{})):t}function Dm(e,t){if(!e)return t;if(!t)return e;const i=Ie(Object.create(null),e);for(const r in t)i[r]=Le(e[r],t[r]);return i}function gf(){return{app:null,config:{isNativeTag:Pp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nm=0;function Bm(e,t){return function(r,o=null){St(r)||(r=Ie({},r)),o!=null&&!te(o)&&(o=null);const c=gf(),u=new WeakSet,d=[];let m=!1;const y=c.app={_uid:Nm++,_component:r,_props:o,_container:null,_context:c,_instance:null,version:g_,get config(){return c.config},set config(b){},use(b,...w){return u.has(b)||(b&&St(b.install)?(u.add(b),b.install(y,...w)):St(b)&&(u.add(b),b(y,...w))),y},mixin(b){return c.mixins.includes(b)||c.mixins.push(b),y},component(b,w){return w?(c.components[b]=w,y):c.components[b]},directive(b,w){return w?(c.directives[b]=w,y):c.directives[b]},mount(b,w,R){if(!m){const z=y._ceVNode||ne(r,o);return z.appContext=c,R===!0?R="svg":R===!1&&(R=void 0),e(z,b,R),m=!0,y._container=b,b.__vue_app__=y,Ma(z.component)}},onUnmount(b){d.push(b)},unmount(){m&&(Dn(d,y._instance,16),e(null,y._container),delete y._container.__vue_app__)},provide(b,w){return c.provides[b]=w,y},runWithContext(b){const w=Bs;Bs=y;try{return b()}finally{Bs=w}}};return y}}let Bs=null;function Xo(e,t){if(Ee){let i=Ee.provides;const r=Ee.parent&&Ee.parent.provides;r===i&&(i=Ee.provides=Object.create(r)),i[e]=t}}function Rn(e,t,i=!1){const r=Ee||Ye;if(r||Bs){const o=Bs?Bs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return i&&St(t)?t.call(r&&r.proxy):t}}const vf={},yf=()=>Object.create(vf),wf=e=>Object.getPrototypeOf(e)===vf;function zm(e,t,i,r=!1){const o={},c=yf();e.propsDefaults=Object.create(null),bf(e,t,o,c);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);i?e.props=r?o:tf(o):e.type.props?e.props=o:e.props=c,e.attrs=c}function Um(e,t,i,r){const{props:o,attrs:c,vnode:{patchFlag:u}}=e,d=Wt(o),[m]=e.propsOptions;let y=!1;if((r||u>0)&&!(u&16)){if(u&8){const b=e.vnode.dynamicProps;for(let w=0;w<b.length;w++){let R=b[w];if(Ra(e.emitsOptions,R))continue;const z=t[R];if(m)if(Zt(c,R))z!==c[R]&&(c[R]=z,y=!0);else{const $=cn(R);o[$]=El(m,d,$,z,e,!1)}else z!==c[R]&&(c[R]=z,y=!0)}}}else{bf(e,t,o,c)&&(y=!0);let b;for(const w in d)(!t||!Zt(t,w)&&((b=ss(w))===w||!Zt(t,b)))&&(m?i&&(i[w]!==void 0||i[b]!==void 0)&&(o[w]=El(m,d,w,void 0,e,!0)):delete o[w]);if(c!==d)for(const w in c)(!t||!Zt(t,w))&&(delete c[w],y=!0)}y&&Jn(e.attrs,"set","")}function bf(e,t,i,r){const[o,c]=e.propsOptions;let u=!1,d;if(t)for(let m in t){if(Nr(m))continue;const y=t[m];let b;o&&Zt(o,b=cn(m))?!c||!c.includes(b)?i[b]=y:(d||(d={}))[b]=y:Ra(e.emitsOptions,m)||(!(m in r)||y!==r[m])&&(r[m]=y,u=!0)}if(c){const m=Wt(i),y=d||Xt;for(let b=0;b<c.length;b++){const w=c[b];i[w]=El(o,m,w,y[w],e,!Zt(y,w))}}return u}function El(e,t,i,r,o,c){const u=e[i];if(u!=null){const d=Zt(u,"default");if(d&&r===void 0){const m=u.default;if(u.type!==Function&&!u.skipFactory&&St(m)){const{propsDefaults:y}=o;if(i in y)r=y[i];else{const b=ao(o);r=y[i]=m.call(null,t),b()}}else r=m;o.ce&&o.ce._setProp(i,r)}u[0]&&(c&&!d?r=!1:u[1]&&(r===""||r===ss(i))&&(r=!0))}return r}const Fm=new WeakMap;function Tf(e,t,i=!1){const r=i?Fm:t.propsCache,o=r.get(e);if(o)return o;const c=e.props,u={},d=[];let m=!1;if(!St(e)){const b=w=>{m=!0;const[R,z]=Tf(w,t,!0);Ie(u,R),z&&d.push(...z)};!i&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!c&&!m)return te(e)&&r.set(e,Rs),Rs;if(_t(c))for(let b=0;b<c.length;b++){const w=cn(c[b]);su(w)&&(u[w]=Xt)}else if(c)for(const b in c){const w=cn(b);if(su(w)){const R=c[b],z=u[w]=_t(R)||St(R)?{type:R}:Ie({},R),$=z.type;let Z=!1,at=!0;if(_t($))for(let ct=0;ct<$.length;++ct){const rt=$[ct],Q=St(rt)&&rt.name;if(Q==="Boolean"){Z=!0;break}else Q==="String"&&(at=!1)}else Z=St($)&&$.name==="Boolean";z[0]=Z,z[1]=at,(Z||Zt(z,"default"))&&d.push(w)}}const y=[u,d];return te(e)&&r.set(e,y),y}function su(e){return e[0]!=="$"&&!Nr(e)}const Ef=e=>e[0]==="_"||e==="$stable",ic=e=>_t(e)?e.map(Ln):[Ln(e)],jm=(e,t,i)=>{if(t._n)return t;const r=Si((...o)=>ic(t(...o)),i);return r._c=!1,r},Pf=(e,t,i)=>{const r=e._ctx;for(const o in e){if(Ef(o))continue;const c=e[o];if(St(c))t[o]=jm(o,c,r);else if(c!=null){const u=ic(c);t[o]=()=>u}}},If=(e,t)=>{const i=ic(t);e.slots.default=()=>i},Sf=(e,t,i)=>{for(const r in t)(i||r!=="_")&&(e[r]=t[r])},Hm=(e,t,i)=>{const r=e.slots=yf();if(e.vnode.shapeFlag&32){const o=t._;o?(Sf(r,t,i),i&&Nh(r,"_",o,!0)):Pf(t,r)}else t&&If(e,t)},Vm=(e,t,i)=>{const{vnode:r,slots:o}=e;let c=!0,u=Xt;if(r.shapeFlag&32){const d=t._;d?i&&d===1?c=!1:Sf(o,t,i):(c=!t.$stable,Pf(t,o)),u=t}else t&&(If(e,t),u={default:1});if(c)for(const d in o)!Ef(d)&&u[d]==null&&delete o[d]},Ke=i_;function Wm(e){return Zm(e)}function Zm(e,t){const i=Sa();i.__VUE__=!0;const{insert:r,remove:o,patchProp:c,createElement:u,createText:d,createComment:m,setText:y,setElementText:b,parentNode:w,nextSibling:R,setScopeId:z=kn,insertStaticContent:$}=e,Z=(T,P,M,H=null,W=null,V=null,X=void 0,Y=null,q=!!P.dynamicChildren)=>{if(T===P)return;T&&!Lr(T,P)&&(H=j(T),Lt(T,W,V,!0),T=null),P.patchFlag===-2&&(q=!1,P.dynamicChildren=null);const{type:K,ref:pt,shapeFlag:it}=P;switch(K){case Oa:at(T,P,M,H);break;case Qi:ct(T,P,M,H);break;case tl:T==null&&rt(P,M,H,X);break;case Oe:O(T,P,M,H,W,V,X,Y,q);break;default:it&1?Ct(T,P,M,H,W,V,X,Y,q):it&6?I(T,P,M,H,W,V,X,Y,q):(it&64||it&128)&&K.process(T,P,M,H,W,V,X,Y,q,lt)}pt!=null&&W&&ua(pt,T&&T.ref,V,P||T,!P)},at=(T,P,M,H)=>{if(T==null)r(P.el=d(P.children),M,H);else{const W=P.el=T.el;P.children!==T.children&&y(W,P.children)}},ct=(T,P,M,H)=>{T==null?r(P.el=m(P.children||""),M,H):P.el=T.el},rt=(T,P,M,H)=>{[T.el,T.anchor]=$(T.children,P,M,H,T.el,T.anchor)},Q=({el:T,anchor:P},M,H)=>{let W;for(;T&&T!==P;)W=R(T),r(T,M,H),T=W;r(P,M,H)},st=({el:T,anchor:P})=>{let M;for(;T&&T!==P;)M=R(T),o(T),T=M;o(P)},Ct=(T,P,M,H,W,V,X,Y,q)=>{P.type==="svg"?X="svg":P.type==="math"&&(X="mathml"),T==null?Dt(P,M,H,W,V,X,Y,q):C(T,P,W,V,X,Y,q)},Dt=(T,P,M,H,W,V,X,Y)=>{let q,K;const{props:pt,shapeFlag:it,transition:ut,dirs:mt}=T;if(q=T.el=u(T.type,V,pt&&pt.is,pt),it&8?b(q,T.children):it&16&&E(T.children,q,null,H,W,Qa(T,V),X,Y),mt&&Zi(T,null,H,"created"),A(q,T,T.scopeId,X,H),pt){for(const Et in pt)Et!=="value"&&!Nr(Et)&&c(q,Et,null,pt[Et],V,H);"value"in pt&&c(q,"value",null,pt.value,V),(K=pt.onVnodeBeforeMount)&&xn(K,H,T)}mt&&Zi(T,null,H,"beforeMount");const dt=$m(W,ut);dt&&ut.beforeEnter(q),r(q,P,M),((K=pt&&pt.onVnodeMounted)||dt||mt)&&Ke(()=>{K&&xn(K,H,T),dt&&ut.enter(q),mt&&Zi(T,null,H,"mounted")},W)},A=(T,P,M,H,W)=>{if(M&&z(T,M),H)for(let V=0;V<H.length;V++)z(T,H[V]);if(W){let V=W.subTree;if(P===V||Rf(V.type)&&(V.ssContent===P||V.ssFallback===P)){const X=W.vnode;A(T,X,X.scopeId,X.slotScopeIds,W.parent)}}},E=(T,P,M,H,W,V,X,Y,q=0)=>{for(let K=q;K<T.length;K++){const pt=T[K]=Y?wi(T[K]):Ln(T[K]);Z(null,pt,P,M,H,W,V,X,Y)}},C=(T,P,M,H,W,V,X)=>{const Y=P.el=T.el;let{patchFlag:q,dynamicChildren:K,dirs:pt}=P;q|=T.patchFlag&16;const it=T.props||Xt,ut=P.props||Xt;let mt;if(M&&$i(M,!1),(mt=ut.onVnodeBeforeUpdate)&&xn(mt,M,P,T),pt&&Zi(P,T,M,"beforeUpdate"),M&&$i(M,!0),(it.innerHTML&&ut.innerHTML==null||it.textContent&&ut.textContent==null)&&b(Y,""),K?k(T.dynamicChildren,K,Y,M,H,Qa(P,W),V):X||tt(T,P,Y,null,M,H,Qa(P,W),V,!1),q>0){if(q&16)x(Y,it,ut,M,W);else if(q&2&&it.class!==ut.class&&c(Y,"class",null,ut.class,W),q&4&&c(Y,"style",it.style,ut.style,W),q&8){const dt=P.dynamicProps;for(let Et=0;Et<dt.length;Et++){const Ot=dt[Et],me=it[Ot],ce=ut[Ot];(ce!==me||Ot==="value")&&c(Y,Ot,me,ce,W,M)}}q&1&&T.children!==P.children&&b(Y,P.children)}else!X&&K==null&&x(Y,it,ut,M,W);((mt=ut.onVnodeUpdated)||pt)&&Ke(()=>{mt&&xn(mt,M,P,T),pt&&Zi(P,T,M,"updated")},H)},k=(T,P,M,H,W,V,X)=>{for(let Y=0;Y<P.length;Y++){const q=T[Y],K=P[Y],pt=q.el&&(q.type===Oe||!Lr(q,K)||q.shapeFlag&70)?w(q.el):M;Z(q,K,pt,null,H,W,V,X,!0)}},x=(T,P,M,H,W)=>{if(P!==M){if(P!==Xt)for(const V in P)!Nr(V)&&!(V in M)&&c(T,V,P[V],null,W,H);for(const V in M){if(Nr(V))continue;const X=M[V],Y=P[V];X!==Y&&V!=="value"&&c(T,V,Y,X,W,H)}"value"in M&&c(T,"value",P.value,M.value,W)}},O=(T,P,M,H,W,V,X,Y,q)=>{const K=P.el=T?T.el:d(""),pt=P.anchor=T?T.anchor:d("");let{patchFlag:it,dynamicChildren:ut,slotScopeIds:mt}=P;mt&&(Y=Y?Y.concat(mt):mt),T==null?(r(K,M,H),r(pt,M,H),E(P.children||[],M,pt,W,V,X,Y,q)):it>0&&it&64&&ut&&T.dynamicChildren?(k(T.dynamicChildren,ut,M,W,V,X,Y),(P.key!=null||W&&P===W.subTree)&&Cf(T,P,!0)):tt(T,P,M,pt,W,V,X,Y,q)},I=(T,P,M,H,W,V,X,Y,q)=>{P.slotScopeIds=Y,T==null?P.shapeFlag&512?W.ctx.activate(P,M,H,X,q):ee(P,M,H,W,V,X,q):De(T,P,q)},ee=(T,P,M,H,W,V,X)=>{const Y=T.component=u_(T,H,W);if(ff(T)&&(Y.ctx.renderer=lt),h_(Y,!1,X),Y.asyncDep){if(W&&W.registerDep(Y,Ft,X),!T.el){const q=Y.subTree=ne(Qi);ct(null,q,P,M)}}else Ft(Y,T,P,M,W,V,X)},De=(T,P,M)=>{const H=P.component=T.component;if(e_(T,P,M))if(H.asyncDep&&!H.asyncResolved){xt(H,P,M);return}else H.next=P,H.update();else P.el=T.el,H.vnode=P},Ft=(T,P,M,H,W,V,X)=>{const Y=()=>{if(T.isMounted){let{next:it,bu:ut,u:mt,parent:dt,vnode:Et}=T;{const _e=xf(T);if(_e){it&&(it.el=Et.el,xt(T,it,X)),_e.asyncDep.then(()=>{T.isUnmounted||Y()});return}}let Ot=it,me;$i(T,!1),it?(it.el=Et.el,xt(T,it,X)):it=Et,ut&&Yo(ut),(me=it.props&&it.props.onVnodeBeforeUpdate)&&xn(me,dt,it,Et),$i(T,!0);const ce=ou(T),Se=T.subTree;T.subTree=ce,Z(Se,ce,w(Se.el),j(Se),T,W,V),it.el=ce.el,Ot===null&&n_(T,ce.el),mt&&Ke(mt,W),(me=it.props&&it.props.onVnodeUpdated)&&Ke(()=>xn(me,dt,it,Et),W)}else{let it;const{el:ut,props:mt}=P,{bm:dt,m:Et,parent:Ot,root:me,type:ce}=T,Se=Ur(P);$i(T,!1),dt&&Yo(dt),!Se&&(it=mt&&mt.onVnodeBeforeMount)&&xn(it,Ot,P),$i(T,!0);{me.ce&&me.ce._injectChildStyle(ce);const _e=T.subTree=ou(T);Z(null,_e,M,H,T,W,V),P.el=_e.el}if(Et&&Ke(Et,W),!Se&&(it=mt&&mt.onVnodeMounted)){const _e=P;Ke(()=>xn(it,Ot,_e),W)}(P.shapeFlag&256||Ot&&Ur(Ot.vnode)&&Ot.vnode.shapeFlag&256)&&T.a&&Ke(T.a,W),T.isMounted=!0,P=M=H=null}};T.scope.on();const q=T.effect=new Fh(Y);T.scope.off();const K=T.update=q.run.bind(q),pt=T.job=q.runIfDirty.bind(q);pt.i=T,pt.id=T.uid,q.scheduler=()=>ec(pt),$i(T,!0),K()},xt=(T,P,M)=>{P.component=T;const H=T.vnode.props;T.vnode=P,T.next=null,Um(T,P.props,H,M),Vm(T,P.children,M),ki(),Xc(T),Ri()},tt=(T,P,M,H,W,V,X,Y,q=!1)=>{const K=T&&T.children,pt=T?T.shapeFlag:0,it=P.children,{patchFlag:ut,shapeFlag:mt}=P;if(ut>0){if(ut&128){ft(K,it,M,H,W,V,X,Y,q);return}else if(ut&256){we(K,it,M,H,W,V,X,Y,q);return}}mt&8?(pt&16&&gt(K,W,V),it!==K&&b(M,it)):pt&16?mt&16?ft(K,it,M,H,W,V,X,Y,q):gt(K,W,V,!0):(pt&8&&b(M,""),mt&16&&E(it,M,H,W,V,X,Y,q))},we=(T,P,M,H,W,V,X,Y,q)=>{T=T||Rs,P=P||Rs;const K=T.length,pt=P.length,it=Math.min(K,pt);let ut;for(ut=0;ut<it;ut++){const mt=P[ut]=q?wi(P[ut]):Ln(P[ut]);Z(T[ut],mt,M,null,W,V,X,Y,q)}K>pt?gt(T,W,V,!0,!1,it):E(P,M,H,W,V,X,Y,q,it)},ft=(T,P,M,H,W,V,X,Y,q)=>{let K=0;const pt=P.length;let it=T.length-1,ut=pt-1;for(;K<=it&&K<=ut;){const mt=T[K],dt=P[K]=q?wi(P[K]):Ln(P[K]);if(Lr(mt,dt))Z(mt,dt,M,null,W,V,X,Y,q);else break;K++}for(;K<=it&&K<=ut;){const mt=T[it],dt=P[ut]=q?wi(P[ut]):Ln(P[ut]);if(Lr(mt,dt))Z(mt,dt,M,null,W,V,X,Y,q);else break;it--,ut--}if(K>it){if(K<=ut){const mt=ut+1,dt=mt<pt?P[mt].el:H;for(;K<=ut;)Z(null,P[K]=q?wi(P[K]):Ln(P[K]),M,dt,W,V,X,Y,q),K++}}else if(K>ut)for(;K<=it;)Lt(T[K],W,V,!0),K++;else{const mt=K,dt=K,Et=new Map;for(K=dt;K<=ut;K++){const ue=P[K]=q?wi(P[K]):Ln(P[K]);ue.key!=null&&Et.set(ue.key,K)}let Ot,me=0;const ce=ut-dt+1;let Se=!1,_e=0;const hn=new Array(ce);for(K=0;K<ce;K++)hn[K]=0;for(K=mt;K<=it;K++){const ue=T[K];if(me>=ce){Lt(ue,W,V,!0);continue}let Ne;if(ue.key!=null)Ne=Et.get(ue.key);else for(Ot=dt;Ot<=ut;Ot++)if(hn[Ot-dt]===0&&Lr(ue,P[Ot])){Ne=Ot;break}Ne===void 0?Lt(ue,W,V,!0):(hn[Ne-dt]=K+1,Ne>=_e?_e=Ne:Se=!0,Z(ue,P[Ne],M,null,W,V,X,Y,q),me++)}const Nn=Se?Gm(hn):Rs;for(Ot=Nn.length-1,K=ce-1;K>=0;K--){const ue=dt+K,Ne=P[ue],Pn=ue+1<pt?P[ue+1].el:H;hn[K]===0?Z(null,Ne,M,Pn,W,V,X,Y,q):Se&&(Ot<0||K!==Nn[Ot]?Nt(Ne,M,Pn,2):Ot--)}}},Nt=(T,P,M,H,W=null)=>{const{el:V,type:X,transition:Y,children:q,shapeFlag:K}=T;if(K&6){Nt(T.component.subTree,P,M,H);return}if(K&128){T.suspense.move(P,M,H);return}if(K&64){X.move(T,P,M,lt);return}if(X===Oe){r(V,P,M);for(let it=0;it<q.length;it++)Nt(q[it],P,M,H);r(T.anchor,P,M);return}if(X===tl){Q(T,P,M);return}if(H!==2&&K&1&&Y)if(H===0)Y.beforeEnter(V),r(V,P,M),Ke(()=>Y.enter(V),W);else{const{leave:it,delayLeave:ut,afterLeave:mt}=Y,dt=()=>r(V,P,M),Et=()=>{it(V,()=>{dt(),mt&&mt()})};ut?ut(V,dt,Et):Et()}else r(V,P,M)},Lt=(T,P,M,H=!1,W=!1)=>{const{type:V,props:X,ref:Y,children:q,dynamicChildren:K,shapeFlag:pt,patchFlag:it,dirs:ut,cacheIndex:mt}=T;if(it===-2&&(W=!1),Y!=null&&ua(Y,null,M,T,!0),mt!=null&&(P.renderCache[mt]=void 0),pt&256){P.ctx.deactivate(T);return}const dt=pt&1&&ut,Et=!Ur(T);let Ot;if(Et&&(Ot=X&&X.onVnodeBeforeUnmount)&&xn(Ot,P,T),pt&6)At(T.component,M,H);else{if(pt&128){T.suspense.unmount(M,H);return}dt&&Zi(T,null,P,"beforeUnmount"),pt&64?T.type.remove(T,P,M,lt,H):K&&!K.hasOnce&&(V!==Oe||it>0&&it&64)?gt(K,P,M,!1,!0):(V===Oe&&it&384||!W&&pt&16)&&gt(q,P,M),H&&kt(T)}(Et&&(Ot=X&&X.onVnodeUnmounted)||dt)&&Ke(()=>{Ot&&xn(Ot,P,T),dt&&Zi(T,null,P,"unmounted")},M)},kt=T=>{const{type:P,el:M,anchor:H,transition:W}=T;if(P===Oe){Gt(M,H);return}if(P===tl){st(T);return}const V=()=>{o(M),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(T.shapeFlag&1&&W&&!W.persisted){const{leave:X,delayLeave:Y}=W,q=()=>X(M,V);Y?Y(T.el,V,q):q()}else V()},Gt=(T,P)=>{let M;for(;T!==P;)M=R(T),o(T),T=M;o(P)},At=(T,P,M)=>{const{bum:H,scope:W,job:V,subTree:X,um:Y,m:q,a:K}=T;ru(q),ru(K),H&&Yo(H),W.stop(),V&&(V.flags|=8,Lt(X,T,P,M)),Y&&Ke(Y,P),Ke(()=>{T.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},gt=(T,P,M,H=!1,W=!1,V=0)=>{for(let X=V;X<T.length;X++)Lt(T[X],P,M,H,W)},j=T=>{if(T.shapeFlag&6)return j(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const P=R(T.anchor||T.el),M=P&&P[dm];return M?R(M):P};let et=!1;const nt=(T,P,M)=>{T==null?P._vnode&&Lt(P._vnode,null,null,!0):Z(P._vnode||null,T,P,null,null,null,M),P._vnode=T,et||(et=!0,Xc(),af(),et=!1)},lt={p:Z,um:Lt,m:Nt,r:kt,mt:ee,mc:E,pc:tt,pbc:k,n:j,o:e};return{render:nt,hydrate:void 0,createApp:Bm(nt)}}function Qa({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function $i({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function $m(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Cf(e,t,i=!1){const r=e.children,o=t.children;if(_t(r)&&_t(o))for(let c=0;c<r.length;c++){const u=r[c];let d=o[c];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=o[c]=wi(o[c]),d.el=u.el),!i&&d.patchFlag!==-2&&Cf(u,d)),d.type===Oa&&(d.el=u.el)}}function Gm(e){const t=e.slice(),i=[0];let r,o,c,u,d;const m=e.length;for(r=0;r<m;r++){const y=e[r];if(y!==0){if(o=i[i.length-1],e[o]<y){t[r]=o,i.push(r);continue}for(c=0,u=i.length-1;c<u;)d=c+u>>1,e[i[d]]<y?c=d+1:u=d;y<e[i[c]]&&(c>0&&(t[r]=i[c-1]),i[c]=r)}}for(c=i.length,u=i[c-1];c-- >0;)i[c]=u,u=t[u];return i}function xf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:xf(t)}function ru(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Km=Symbol.for("v-scx"),qm=()=>Rn(Km);function Qo(e,t,i){return Af(e,t,i)}function Af(e,t,i=Xt){const{immediate:r,deep:o,flush:c,once:u}=i,d=Ie({},i),m=t&&r||!t&&c!=="post";let y;if(Yr){if(c==="sync"){const z=qm();y=z.__watcherHandles||(z.__watcherHandles=[])}else if(!m){const z=()=>{};return z.stop=kn,z.resume=kn,z.pause=kn,z}}const b=Ee;d.call=(z,$,Z)=>Dn(z,b,$,Z);let w=!1;c==="post"?d.scheduler=z=>{Ke(z,b&&b.suspense)}:c!=="sync"&&(w=!0,d.scheduler=(z,$)=>{$?z():ec(z)}),d.augmentJob=z=>{t&&(z.flags|=4),w&&(z.flags|=2,b&&(z.id=b.uid,z.i=b))};const R=cm(e,t,d);return Yr&&(y?y.push(R):m&&R()),R}function Jm(e,t,i){const r=this.proxy,o=fe(e)?e.includes(".")?Lf(r,e):()=>r[e]:e.bind(r,r);let c;St(t)?c=t:(c=t.handler,i=t);const u=ao(this),d=Af(o,c.bind(r),i);return u(),d}function Lf(e,t){const i=t.split(".");return()=>{let r=e;for(let o=0;o<i.length&&r;o++)r=r[i[o]];return r}}const Ym=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${cn(t)}Modifiers`]||e[`${ss(t)}Modifiers`];function Xm(e,t,...i){if(e.isUnmounted)return;const r=e.vnode.props||Xt;let o=i;const c=t.startsWith("update:"),u=c&&Ym(r,t.slice(7));u&&(u.trim&&(o=i.map(b=>fe(b)?b.trim():b)),u.number&&(o=i.map(oa)));let d,m=r[d=Ga(t)]||r[d=Ga(cn(t))];!m&&c&&(m=r[d=Ga(ss(t))]),m&&Dn(m,e,6,o);const y=r[d+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,Dn(y,e,6,o)}}function kf(e,t,i=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const c=e.emits;let u={},d=!1;if(!St(e)){const m=y=>{const b=kf(y,t,!0);b&&(d=!0,Ie(u,b))};!i&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}return!c&&!d?(te(e)&&r.set(e,null),null):(_t(c)?c.forEach(m=>u[m]=null):Ie(u,c),te(e)&&r.set(e,u),u)}function Ra(e,t){return!e||!Ea(t)?!1:(t=t.slice(2).replace(/Once$/,""),Zt(e,t[0].toLowerCase()+t.slice(1))||Zt(e,ss(t))||Zt(e,t))}function ou(e){const{type:t,vnode:i,proxy:r,withProxy:o,propsOptions:[c],slots:u,attrs:d,emit:m,render:y,renderCache:b,props:w,data:R,setupState:z,ctx:$,inheritAttrs:Z}=e,at=ca(e);let ct,rt;try{if(i.shapeFlag&4){const st=o||r,Ct=st;ct=Ln(y.call(Ct,st,b,w,z,R,$)),rt=d}else{const st=t;ct=Ln(st.length>1?st(w,{attrs:d,slots:u,emit:m}):st(w,null)),rt=t.props?d:Qm(d)}}catch(st){jr.length=0,La(st,e,1),ct=ne(Qi)}let Q=ct;if(rt&&Z!==!1){const st=Object.keys(rt),{shapeFlag:Ct}=Q;st.length&&Ct&7&&(c&&st.some(Hl)&&(rt=t_(rt,c)),Q=Hs(Q,rt,!1,!0))}return i.dirs&&(Q=Hs(Q,null,!1,!0),Q.dirs=Q.dirs?Q.dirs.concat(i.dirs):i.dirs),i.transition&&nc(Q,i.transition),ct=Q,ca(at),ct}const Qm=e=>{let t;for(const i in e)(i==="class"||i==="style"||Ea(i))&&((t||(t={}))[i]=e[i]);return t},t_=(e,t)=>{const i={};for(const r in e)(!Hl(r)||!(r.slice(9)in t))&&(i[r]=e[r]);return i};function e_(e,t,i){const{props:r,children:o,component:c}=e,{props:u,children:d,patchFlag:m}=t,y=c.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&m>=0){if(m&1024)return!0;if(m&16)return r?au(r,u,y):!!u;if(m&8){const b=t.dynamicProps;for(let w=0;w<b.length;w++){const R=b[w];if(u[R]!==r[R]&&!Ra(y,R))return!0}}}else return(o||d)&&(!d||!d.$stable)?!0:r===u?!1:r?u?au(r,u,y):!0:!!u;return!1}function au(e,t,i){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const c=r[o];if(t[c]!==e[c]&&!Ra(i,c))return!0}return!1}function n_({vnode:e,parent:t},i){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=i,t=t.parent;else break}}const Rf=e=>e.__isSuspense;function i_(e,t){t&&t.pendingBranch?_t(e)?t.effects.push(...e):t.effects.push(e):fm(e)}const Oe=Symbol.for("v-fgt"),Oa=Symbol.for("v-txt"),Qi=Symbol.for("v-cmt"),tl=Symbol.for("v-stc"),jr=[];let Xe=null;function bt(e=!1){jr.push(Xe=e?null:[])}function s_(){jr.pop(),Xe=jr[jr.length-1]||null}let Jr=1;function lu(e,t=!1){Jr+=e,e<0&&Xe&&t&&(Xe.hasOnce=!0)}function Of(e){return e.dynamicChildren=Jr>0?Xe||Rs:null,s_(),Jr>0&&Xe&&Xe.push(e),e}function Pt(e,t,i,r,o,c){return Of(D(e,t,i,r,o,c,!0))}function Pl(e,t,i,r,o){return Of(ne(e,t,i,r,o,!0))}function fa(e){return e?e.__v_isVNode===!0:!1}function Lr(e,t){return e.type===t.type&&e.key===t.key}const Mf=({key:e})=>e??null,ta=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?fe(e)||Pe(e)||St(e)?{i:Ye,r:e,k:t,f:!!i}:e:null);function D(e,t=null,i=null,r=0,o=null,c=e===Oe?0:1,u=!1,d=!1){const m={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Mf(t),ref:t&&ta(t),scopeId:cf,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ye};return d?(sc(m,i),c&128&&e.normalize(m)):i&&(m.shapeFlag|=fe(i)?8:16),Jr>0&&!u&&Xe&&(m.patchFlag>0||c&6)&&m.patchFlag!==32&&Xe.push(m),m}const ne=r_;function r_(e,t=null,i=null,r=0,o=null,c=!1){if((!e||e===xm)&&(e=Qi),fa(e)){const d=Hs(e,t,!0);return i&&sc(d,i),Jr>0&&!c&&Xe&&(d.shapeFlag&6?Xe[Xe.indexOf(e)]=d:Xe.push(d)),d.patchFlag=-2,d}if(__(e)&&(e=e.__vccOpts),t){t=o_(t);let{class:d,style:m}=t;d&&!fe(d)&&(t.class=Ca(d)),te(m)&&(Ql(m)&&!_t(m)&&(m=Ie({},m)),t.style=Zl(m))}const u=fe(e)?1:Rf(e)?128:pm(e)?64:te(e)?4:St(e)?2:0;return D(e,t,i,r,o,u,c,!0)}function o_(e){return e?Ql(e)||wf(e)?Ie({},e):e:null}function Hs(e,t,i=!1,r=!1){const{props:o,ref:c,patchFlag:u,children:d,transition:m}=e,y=t?a_(o||{},t):o,b={__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&Mf(y),ref:t&&t.ref?i&&c?_t(c)?c.concat(ta(t)):[c,ta(t)]:ta(t):c,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Oe?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:m,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Hs(e.ssContent),ssFallback:e.ssFallback&&Hs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return m&&r&&nc(b,m.clone(b)),b}function He(e=" ",t=0){return ne(Oa,null,e,t)}function pe(e="",t=!1){return t?(bt(),Pl(Qi,null,e)):ne(Qi,null,e)}function Ln(e){return e==null||typeof e=="boolean"?ne(Qi):_t(e)?ne(Oe,null,e.slice()):fa(e)?wi(e):ne(Oa,null,String(e))}function wi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Hs(e)}function sc(e,t){let i=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(_t(t))i=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),sc(e,o()),o._c&&(o._d=!0));return}else{i=32;const o=t._;!o&&!wf(t)?t._ctx=Ye:o===3&&Ye&&(Ye.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else St(t)?(t={default:t,_ctx:Ye},i=32):(t=String(t),r&64?(i=16,t=[He(t)]):i=8);e.children=t,e.shapeFlag|=i}function a_(...e){const t={};for(let i=0;i<e.length;i++){const r=e[i];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Ca([t.class,r.class]));else if(o==="style")t.style=Zl([t.style,r.style]);else if(Ea(o)){const c=t[o],u=r[o];u&&c!==u&&!(_t(c)&&c.includes(u))&&(t[o]=c?[].concat(c,u):u)}else o!==""&&(t[o]=r[o])}return t}function xn(e,t,i,r=null){Dn(e,t,7,[i,r])}const l_=gf();let c_=0;function u_(e,t,i){const r=e.type,o=(t?t.appContext:e.appContext)||l_,c={uid:c_++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Np(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Tf(r,o),emitsOptions:kf(r,o),emit:null,emitted:null,propsDefaults:Xt,inheritAttrs:r.inheritAttrs,ctx:Xt,data:Xt,props:Xt,attrs:Xt,slots:Xt,refs:Xt,setupState:Xt,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=t?t.root:c,c.emit=Xm.bind(null,c),e.ce&&e.ce(c),c}let Ee=null,da,Il;{const e=Sa(),t=(i,r)=>{let o;return(o=e[i])||(o=e[i]=[]),o.push(r),c=>{o.length>1?o.forEach(u=>u(c)):o[0](c)}};da=t("__VUE_INSTANCE_SETTERS__",i=>Ee=i),Il=t("__VUE_SSR_SETTERS__",i=>Yr=i)}const ao=e=>{const t=Ee;return da(e),e.scope.on(),()=>{e.scope.off(),da(t)}},cu=()=>{Ee&&Ee.scope.off(),da(null)};function Df(e){return e.vnode.shapeFlag&4}let Yr=!1;function h_(e,t=!1,i=!1){t&&Il(t);const{props:r,children:o}=e.vnode,c=Df(e);zm(e,r,c,t),Hm(e,o,i);const u=c?f_(e,t):void 0;return t&&Il(!1),u}function f_(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Lm);const{setup:r}=i;if(r){ki();const o=e.setupContext=r.length>1?p_(e):null,c=ao(e),u=oo(r,e,0,[e.props,o]),d=Oh(u);if(Ri(),c(),(d||e.sp)&&!Ur(e)&&hf(e),d){if(u.then(cu,cu),t)return u.then(m=>{uu(e,m)}).catch(m=>{La(m,e,0)});e.asyncDep=u}else uu(e,u)}else Nf(e)}function uu(e,t,i){St(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:te(t)&&(e.setupState=sf(t)),Nf(e)}function Nf(e,t,i){const r=e.type;e.render||(e.render=r.render||kn);{const o=ao(e);ki();try{km(e)}finally{Ri(),o()}}}const d_={get(e,t){return be(e,"get",""),e[t]}};function p_(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,d_),slots:e.slots,emit:e.emit,expose:t}}function Ma(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(sf(nm(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in Fr)return Fr[i](e)},has(t,i){return i in t||i in Fr}})):e.proxy}function m_(e,t=!0){return St(e)?e.displayName||e.name:e.name||t&&e.__name}function __(e){return St(e)&&"__vccOpts"in e}const vn=(e,t)=>am(e,t,Yr);function Bf(e,t,i){const r=arguments.length;return r===2?te(t)&&!_t(t)?fa(t)?ne(e,null,[t]):ne(e,t):ne(e,null,t):(r>3?i=Array.prototype.slice.call(arguments,2):r===3&&fa(i)&&(i=[i]),ne(e,t,i))}const g_="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sl;const hu=typeof window<"u"&&window.trustedTypes;if(hu)try{Sl=hu.createPolicy("vue",{createHTML:e=>e})}catch{}const zf=Sl?e=>Sl.createHTML(e):e=>e,v_="http://www.w3.org/2000/svg",y_="http://www.w3.org/1998/Math/MathML",qn=typeof document<"u"?document:null,fu=qn&&qn.createElement("template"),w_={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,r)=>{const o=t==="svg"?qn.createElementNS(v_,e):t==="mathml"?qn.createElementNS(y_,e):i?qn.createElement(e,{is:i}):qn.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>qn.createTextNode(e),createComment:e=>qn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>qn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,r,o,c){const u=i?i.previousSibling:t.lastChild;if(o&&(o===c||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),i),!(o===c||!(o=o.nextSibling)););else{fu.innerHTML=zf(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const d=fu.content;if(r==="svg"||r==="mathml"){const m=d.firstChild;for(;m.firstChild;)d.appendChild(m.firstChild);d.removeChild(m)}t.insertBefore(d,i)}return[u?u.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},b_=Symbol("_vtc");function T_(e,t,i){const r=e[b_];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const du=Symbol("_vod"),E_=Symbol("_vsh"),P_=Symbol(""),I_=/(^|;)\s*display\s*:/;function S_(e,t,i){const r=e.style,o=fe(i);let c=!1;if(i&&!o){if(t)if(fe(t))for(const u of t.split(";")){const d=u.slice(0,u.indexOf(":")).trim();i[d]==null&&ea(r,d,"")}else for(const u in t)i[u]==null&&ea(r,u,"");for(const u in i)u==="display"&&(c=!0),ea(r,u,i[u])}else if(o){if(t!==i){const u=r[P_];u&&(i+=";"+u),r.cssText=i,c=I_.test(i)}}else t&&e.removeAttribute("style");du in e&&(e[du]=c?r.display:"",e[E_]&&(r.display="none"))}const pu=/\s*!important$/;function ea(e,t,i){if(_t(i))i.forEach(r=>ea(e,t,r));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const r=C_(e,t);pu.test(i)?e.setProperty(ss(r),i.replace(pu,""),"important"):e[r]=i}}const mu=["Webkit","Moz","ms"],el={};function C_(e,t){const i=el[t];if(i)return i;let r=cn(t);if(r!=="filter"&&r in e)return el[t]=r;r=Ia(r);for(let o=0;o<mu.length;o++){const c=mu[o]+r;if(c in e)return el[t]=c}return t}const _u="http://www.w3.org/1999/xlink";function gu(e,t,i,r,o,c=Mp(t)){r&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(_u,t.slice(6,t.length)):e.setAttributeNS(_u,t,i):i==null||c&&!Bh(i)?e.removeAttribute(t):e.setAttribute(t,c?"":Mn(i)?String(i):i)}function vu(e,t,i,r,o){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?zf(i):i);return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){const d=c==="OPTION"?e.getAttribute("value")||"":e.value,m=i==null?e.type==="checkbox"?"on":"":String(i);(d!==m||!("_value"in e))&&(e.value=m),i==null&&e.removeAttribute(t),e._value=i;return}let u=!1;if(i===""||i==null){const d=typeof e[t];d==="boolean"?i=Bh(i):i==null&&d==="string"?(i="",u=!0):d==="number"&&(i=0,u=!0)}try{e[t]=i}catch{}u&&e.removeAttribute(o||t)}function Ti(e,t,i,r){e.addEventListener(t,i,r)}function x_(e,t,i,r){e.removeEventListener(t,i,r)}const yu=Symbol("_vei");function A_(e,t,i,r,o=null){const c=e[yu]||(e[yu]={}),u=c[t];if(r&&u)u.value=r;else{const[d,m]=L_(t);if(r){const y=c[t]=O_(r,o);Ti(e,d,y,m)}else u&&(x_(e,d,u,m),c[t]=void 0)}}const wu=/(?:Once|Passive|Capture)$/;function L_(e){let t;if(wu.test(e)){t={};let r;for(;r=e.match(wu);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ss(e.slice(2)),t]}let nl=0;const k_=Promise.resolve(),R_=()=>nl||(k_.then(()=>nl=0),nl=Date.now());function O_(e,t){const i=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=i.attached)return;Dn(M_(r,i.value),t,5,[r])};return i.value=e,i.attached=R_(),i}function M_(e,t){if(_t(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const bu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,D_=(e,t,i,r,o,c)=>{const u=o==="svg";t==="class"?T_(e,r,u):t==="style"?S_(e,i,r):Ea(t)?Hl(t)||A_(e,t,i,r,c):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):N_(e,t,r,u))?(vu(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&gu(e,t,r,u,c,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!fe(r))?vu(e,cn(t),r,c,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),gu(e,t,r,u))};function N_(e,t,i,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&bu(t)&&St(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return bu(t)&&fe(i)?!1:t in e}const Vs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return _t(t)?i=>Yo(t,i):t};function B_(e){e.target.composing=!0}function Tu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ei=Symbol("_assign"),le={created(e,{modifiers:{lazy:t,trim:i,number:r}},o){e[ei]=Vs(o);const c=r||o.props&&o.props.type==="number";Ti(e,t?"change":"input",u=>{if(u.target.composing)return;let d=e.value;i&&(d=d.trim()),c&&(d=oa(d)),e[ei](d)}),i&&Ti(e,"change",()=>{e.value=e.value.trim()}),t||(Ti(e,"compositionstart",B_),Ti(e,"compositionend",Tu),Ti(e,"change",Tu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:r,trim:o,number:c}},u){if(e[ei]=Vs(u),e.composing)return;const d=(c||e.type==="number")&&!/^0\d/.test(e.value)?oa(e.value):e.value,m=t??"";d!==m&&(document.activeElement===e&&e.type!=="range"&&(r&&t===i||o&&e.value.trim()===m)||(e.value=m))}},Uf={deep:!0,created(e,t,i){e[ei]=Vs(i),Ti(e,"change",()=>{const r=e._modelValue,o=Xr(e),c=e.checked,u=e[ei];if(_t(r)){const d=$l(r,o),m=d!==-1;if(c&&!m)u(r.concat(o));else if(!c&&m){const y=[...r];y.splice(d,1),u(y)}}else if(Ks(r)){const d=new Set(r);c?d.add(o):d.delete(o),u(d)}else u(Ff(e,c))})},mounted:Eu,beforeUpdate(e,t,i){e[ei]=Vs(i),Eu(e,t,i)}};function Eu(e,{value:t,oldValue:i},r){e._modelValue=t;let o;if(_t(t))o=$l(t,r.props.value)>-1;else if(Ks(t))o=t.has(r.props.value);else{if(t===i)return;o=ro(t,Ff(e,!0))}e.checked!==o&&(e.checked=o)}const z_={deep:!0,created(e,{value:t,modifiers:{number:i}},r){const o=Ks(t);Ti(e,"change",()=>{const c=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>i?oa(Xr(u)):Xr(u));e[ei](e.multiple?o?new Set(c):c:c[0]),e._assigning=!0,tc(()=>{e._assigning=!1})}),e[ei]=Vs(r)},mounted(e,{value:t}){Pu(e,t)},beforeUpdate(e,t,i){e[ei]=Vs(i)},updated(e,{value:t}){e._assigning||Pu(e,t)}};function Pu(e,t){const i=e.multiple,r=_t(t);if(!(i&&!r&&!Ks(t))){for(let o=0,c=e.options.length;o<c;o++){const u=e.options[o],d=Xr(u);if(i)if(r){const m=typeof d;m==="string"||m==="number"?u.selected=t.some(y=>String(y)===String(d)):u.selected=$l(t,d)>-1}else u.selected=t.has(d);else if(ro(Xr(u),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Xr(e){return"_value"in e?e._value:e.value}function Ff(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const U_=["ctrl","shift","alt","meta"],F_={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>U_.some(i=>e[`${i}Key`]&&!t.includes(i))},rc=(e,t)=>{const i=e._withMods||(e._withMods={}),r=t.join(".");return i[r]||(i[r]=(o,...c)=>{for(let u=0;u<t.length;u++){const d=F_[t[u]];if(d&&d(o,t))return}return e(o,...c)})},j_=Ie({patchProp:D_},w_);let Iu;function H_(){return Iu||(Iu=Wm(j_))}const V_=(...e)=>{const t=H_().createApp(...e),{mount:i}=t;return t.mount=r=>{const o=Z_(r);if(!o)return;const c=t._component;!St(c)&&!c.render&&!c.template&&(c.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const u=i(o,!1,W_(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function W_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Z_(e){return fe(e)?document.querySelector(e):e}const Qe=(e,t)=>{const i=e.__vccOpts||e;for(const[r,o]of t)i[r]=o;return i},$_={name:"App"};function G_(e,t,i,r,o,c){const u=gn("router-view");return bt(),Pt("div",null,[ne(u)])}const K_=Qe($_,[["render",G_]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ks=typeof document<"u";function jf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function q_(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&jf(e.default)}const Vt=Object.assign;function il(e,t){const i={};for(const r in t){const o=t[r];i[r]=En(o)?o.map(e):e(o)}return i}const Hr=()=>{},En=Array.isArray,Hf=/#/g,J_=/&/g,Y_=/\//g,X_=/=/g,Q_=/\?/g,Vf=/\+/g,tg=/%5B/g,eg=/%5D/g,Wf=/%5E/g,ng=/%60/g,Zf=/%7B/g,ig=/%7C/g,$f=/%7D/g,sg=/%20/g;function oc(e){return encodeURI(""+e).replace(ig,"|").replace(tg,"[").replace(eg,"]")}function rg(e){return oc(e).replace(Zf,"{").replace($f,"}").replace(Wf,"^")}function Cl(e){return oc(e).replace(Vf,"%2B").replace(sg,"+").replace(Hf,"%23").replace(J_,"%26").replace(ng,"`").replace(Zf,"{").replace($f,"}").replace(Wf,"^")}function og(e){return Cl(e).replace(X_,"%3D")}function ag(e){return oc(e).replace(Hf,"%23").replace(Q_,"%3F")}function lg(e){return e==null?"":ag(e).replace(Y_,"%2F")}function Qr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const cg=/\/$/,ug=e=>e.replace(cg,"");function sl(e,t,i="/"){let r,o={},c="",u="";const d=t.indexOf("#");let m=t.indexOf("?");return d<m&&d>=0&&(m=-1),m>-1&&(r=t.slice(0,m),c=t.slice(m+1,d>-1?d:t.length),o=e(c)),d>-1&&(r=r||t.slice(0,d),u=t.slice(d,t.length)),r=pg(r??t,i),{fullPath:r+(c&&"?")+c+u,path:r,query:o,hash:Qr(u)}}function hg(e,t){const i=t.query?e(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}function Su(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function fg(e,t,i){const r=t.matched.length-1,o=i.matched.length-1;return r>-1&&r===o&&Ws(t.matched[r],i.matched[o])&&Gf(t.params,i.params)&&e(t.query)===e(i.query)&&t.hash===i.hash}function Ws(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Gf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!dg(e[i],t[i]))return!1;return!0}function dg(e,t){return En(e)?Cu(e,t):En(t)?Cu(t,e):e===t}function Cu(e,t){return En(t)?e.length===t.length&&e.every((i,r)=>i===t[r]):e.length===1&&e[0]===t}function pg(e,t){if(e.startsWith("/"))return e;if(!e)return t;const i=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let c=i.length-1,u,d;for(u=0;u<r.length;u++)if(d=r[u],d!==".")if(d==="..")c>1&&c--;else break;return i.slice(0,c).join("/")+"/"+r.slice(u).join("/")}const gi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var to;(function(e){e.pop="pop",e.push="push"})(to||(to={}));var Vr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Vr||(Vr={}));function mg(e){if(!e)if(ks){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ug(e)}const _g=/^[^#]+#/;function gg(e,t){return e.replace(_g,"#")+t}function vg(e,t){const i=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-i.left-(t.left||0),top:r.top-i.top-(t.top||0)}}const Da=()=>({left:window.scrollX,top:window.scrollY});function yg(e){let t;if("el"in e){const i=e.el,r=typeof i=="string"&&i.startsWith("#"),o=typeof i=="string"?r?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!o)return;t=vg(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function xu(e,t){return(history.state?history.state.position-t:-1)+e}const xl=new Map;function wg(e,t){xl.set(e,t)}function bg(e){const t=xl.get(e);return xl.delete(e),t}let Tg=()=>location.protocol+"//"+location.host;function Kf(e,t){const{pathname:i,search:r,hash:o}=t,c=e.indexOf("#");if(c>-1){let d=o.includes(e.slice(c))?e.slice(c).length:1,m=o.slice(d);return m[0]!=="/"&&(m="/"+m),Su(m,"")}return Su(i,e)+r+o}function Eg(e,t,i,r){let o=[],c=[],u=null;const d=({state:R})=>{const z=Kf(e,location),$=i.value,Z=t.value;let at=0;if(R){if(i.value=z,t.value=R,u&&u===$){u=null;return}at=Z?R.position-Z.position:0}else r(z);o.forEach(ct=>{ct(i.value,$,{delta:at,type:to.pop,direction:at?at>0?Vr.forward:Vr.back:Vr.unknown})})};function m(){u=i.value}function y(R){o.push(R);const z=()=>{const $=o.indexOf(R);$>-1&&o.splice($,1)};return c.push(z),z}function b(){const{history:R}=window;R.state&&R.replaceState(Vt({},R.state,{scroll:Da()}),"")}function w(){for(const R of c)R();c=[],window.removeEventListener("popstate",d),window.removeEventListener("beforeunload",b)}return window.addEventListener("popstate",d),window.addEventListener("beforeunload",b,{passive:!0}),{pauseListeners:m,listen:y,destroy:w}}function Au(e,t,i,r=!1,o=!1){return{back:e,current:t,forward:i,replaced:r,position:window.history.length,scroll:o?Da():null}}function Pg(e){const{history:t,location:i}=window,r={value:Kf(e,i)},o={value:t.state};o.value||c(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function c(m,y,b){const w=e.indexOf("#"),R=w>-1?(i.host&&document.querySelector("base")?e:e.slice(w))+m:Tg()+e+m;try{t[b?"replaceState":"pushState"](y,"",R),o.value=y}catch(z){console.error(z),i[b?"replace":"assign"](R)}}function u(m,y){const b=Vt({},t.state,Au(o.value.back,m,o.value.forward,!0),y,{position:o.value.position});c(m,b,!0),r.value=m}function d(m,y){const b=Vt({},o.value,t.state,{forward:m,scroll:Da()});c(b.current,b,!0);const w=Vt({},Au(r.value,m,null),{position:b.position+1},y);c(m,w,!1),r.value=m}return{location:r,state:o,push:d,replace:u}}function Ig(e){e=mg(e);const t=Pg(e),i=Eg(e,t.state,t.location,t.replace);function r(c,u=!0){u||i.pauseListeners(),history.go(c)}const o=Vt({location:"",base:e,go:r,createHref:gg.bind(null,e)},t,i);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Sg(e){return typeof e=="string"||e&&typeof e=="object"}function qf(e){return typeof e=="string"||typeof e=="symbol"}const Jf=Symbol("");var Lu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Lu||(Lu={}));function Zs(e,t){return Vt(new Error,{type:e,[Jf]:!0},t)}function Kn(e,t){return e instanceof Error&&Jf in e&&(t==null||!!(e.type&t))}const ku="[^/]+?",Cg={sensitive:!1,strict:!1,start:!0,end:!0},xg=/[.+*?^${}()[\]/\\]/g;function Ag(e,t){const i=Vt({},Cg,t),r=[];let o=i.start?"^":"";const c=[];for(const y of e){const b=y.length?[]:[90];i.strict&&!y.length&&(o+="/");for(let w=0;w<y.length;w++){const R=y[w];let z=40+(i.sensitive?.25:0);if(R.type===0)w||(o+="/"),o+=R.value.replace(xg,"\\$&"),z+=40;else if(R.type===1){const{value:$,repeatable:Z,optional:at,regexp:ct}=R;c.push({name:$,repeatable:Z,optional:at});const rt=ct||ku;if(rt!==ku){z+=10;try{new RegExp(`(${rt})`)}catch(st){throw new Error(`Invalid custom RegExp for param "${$}" (${rt}): `+st.message)}}let Q=Z?`((?:${rt})(?:/(?:${rt}))*)`:`(${rt})`;w||(Q=at&&y.length<2?`(?:/${Q})`:"/"+Q),at&&(Q+="?"),o+=Q,z+=20,at&&(z+=-8),Z&&(z+=-20),rt===".*"&&(z+=-50)}b.push(z)}r.push(b)}if(i.strict&&i.end){const y=r.length-1;r[y][r[y].length-1]+=.7000000000000001}i.strict||(o+="/?"),i.end?o+="$":i.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const u=new RegExp(o,i.sensitive?"":"i");function d(y){const b=y.match(u),w={};if(!b)return null;for(let R=1;R<b.length;R++){const z=b[R]||"",$=c[R-1];w[$.name]=z&&$.repeatable?z.split("/"):z}return w}function m(y){let b="",w=!1;for(const R of e){(!w||!b.endsWith("/"))&&(b+="/"),w=!1;for(const z of R)if(z.type===0)b+=z.value;else if(z.type===1){const{value:$,repeatable:Z,optional:at}=z,ct=$ in y?y[$]:"";if(En(ct)&&!Z)throw new Error(`Provided param "${$}" is an array but it is not repeatable (* or + modifiers)`);const rt=En(ct)?ct.join("/"):ct;if(!rt)if(at)R.length<2&&(b.endsWith("/")?b=b.slice(0,-1):w=!0);else throw new Error(`Missing required param "${$}"`);b+=rt}}return b||"/"}return{re:u,score:r,keys:c,parse:d,stringify:m}}function Lg(e,t){let i=0;for(;i<e.length&&i<t.length;){const r=t[i]-e[i];if(r)return r;i++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Yf(e,t){let i=0;const r=e.score,o=t.score;for(;i<r.length&&i<o.length;){const c=Lg(r[i],o[i]);if(c)return c;i++}if(Math.abs(o.length-r.length)===1){if(Ru(r))return 1;if(Ru(o))return-1}return o.length-r.length}function Ru(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const kg={type:0,value:""},Rg=/[a-zA-Z0-9_]/;function Og(e){if(!e)return[[]];if(e==="/")return[[kg]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(z){throw new Error(`ERR (${i})/"${y}": ${z}`)}let i=0,r=i;const o=[];let c;function u(){c&&o.push(c),c=[]}let d=0,m,y="",b="";function w(){y&&(i===0?c.push({type:0,value:y}):i===1||i===2||i===3?(c.length>1&&(m==="*"||m==="+")&&t(`A repeatable param (${y}) must be alone in its segment. eg: '/:ids+.`),c.push({type:1,value:y,regexp:b,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):t("Invalid state to consume buffer"),y="")}function R(){y+=m}for(;d<e.length;){if(m=e[d++],m==="\\"&&i!==2){r=i,i=4;continue}switch(i){case 0:m==="/"?(y&&w(),u()):m===":"?(w(),i=1):R();break;case 4:R(),i=r;break;case 1:m==="("?i=2:Rg.test(m)?R():(w(),i=0,m!=="*"&&m!=="?"&&m!=="+"&&d--);break;case 2:m===")"?b[b.length-1]=="\\"?b=b.slice(0,-1)+m:i=3:b+=m;break;case 3:w(),i=0,m!=="*"&&m!=="?"&&m!=="+"&&d--,b="";break;default:t("Unknown state");break}}return i===2&&t(`Unfinished custom RegExp for param "${y}"`),w(),u(),o}function Mg(e,t,i){const r=Ag(Og(e.path),i),o=Vt(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Dg(e,t){const i=[],r=new Map;t=Nu({strict:!1,end:!0,sensitive:!1},t);function o(w){return r.get(w)}function c(w,R,z){const $=!z,Z=Mu(w);Z.aliasOf=z&&z.record;const at=Nu(t,w),ct=[Z];if("alias"in w){const st=typeof w.alias=="string"?[w.alias]:w.alias;for(const Ct of st)ct.push(Mu(Vt({},Z,{components:z?z.record.components:Z.components,path:Ct,aliasOf:z?z.record:Z})))}let rt,Q;for(const st of ct){const{path:Ct}=st;if(R&&Ct[0]!=="/"){const Dt=R.record.path,A=Dt[Dt.length-1]==="/"?"":"/";st.path=R.record.path+(Ct&&A+Ct)}if(rt=Mg(st,R,at),z?z.alias.push(rt):(Q=Q||rt,Q!==rt&&Q.alias.push(rt),$&&w.name&&!Du(rt)&&u(w.name)),Xf(rt)&&m(rt),Z.children){const Dt=Z.children;for(let A=0;A<Dt.length;A++)c(Dt[A],rt,z&&z.children[A])}z=z||rt}return Q?()=>{u(Q)}:Hr}function u(w){if(qf(w)){const R=r.get(w);R&&(r.delete(w),i.splice(i.indexOf(R),1),R.children.forEach(u),R.alias.forEach(u))}else{const R=i.indexOf(w);R>-1&&(i.splice(R,1),w.record.name&&r.delete(w.record.name),w.children.forEach(u),w.alias.forEach(u))}}function d(){return i}function m(w){const R=zg(w,i);i.splice(R,0,w),w.record.name&&!Du(w)&&r.set(w.record.name,w)}function y(w,R){let z,$={},Z,at;if("name"in w&&w.name){if(z=r.get(w.name),!z)throw Zs(1,{location:w});at=z.record.name,$=Vt(Ou(R.params,z.keys.filter(Q=>!Q.optional).concat(z.parent?z.parent.keys.filter(Q=>Q.optional):[]).map(Q=>Q.name)),w.params&&Ou(w.params,z.keys.map(Q=>Q.name))),Z=z.stringify($)}else if(w.path!=null)Z=w.path,z=i.find(Q=>Q.re.test(Z)),z&&($=z.parse(Z),at=z.record.name);else{if(z=R.name?r.get(R.name):i.find(Q=>Q.re.test(R.path)),!z)throw Zs(1,{location:w,currentLocation:R});at=z.record.name,$=Vt({},R.params,w.params),Z=z.stringify($)}const ct=[];let rt=z;for(;rt;)ct.unshift(rt.record),rt=rt.parent;return{name:at,path:Z,params:$,matched:ct,meta:Bg(ct)}}e.forEach(w=>c(w));function b(){i.length=0,r.clear()}return{addRoute:c,resolve:y,removeRoute:u,clearRoutes:b,getRoutes:d,getRecordMatcher:o}}function Ou(e,t){const i={};for(const r of t)r in e&&(i[r]=e[r]);return i}function Mu(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ng(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Ng(e){const t={},i=e.props||!1;if("component"in e)t.default=i;else for(const r in e.components)t[r]=typeof i=="object"?i[r]:i;return t}function Du(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Bg(e){return e.reduce((t,i)=>Vt(t,i.meta),{})}function Nu(e,t){const i={};for(const r in e)i[r]=r in t?t[r]:e[r];return i}function zg(e,t){let i=0,r=t.length;for(;i!==r;){const c=i+r>>1;Yf(e,t[c])<0?r=c:i=c+1}const o=Ug(e);return o&&(r=t.lastIndexOf(o,r-1)),r}function Ug(e){let t=e;for(;t=t.parent;)if(Xf(t)&&Yf(e,t)===0)return t}function Xf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Fg(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const c=r[o].replace(Vf," "),u=c.indexOf("="),d=Qr(u<0?c:c.slice(0,u)),m=u<0?null:Qr(c.slice(u+1));if(d in t){let y=t[d];En(y)||(y=t[d]=[y]),y.push(m)}else t[d]=m}return t}function Bu(e){let t="";for(let i in e){const r=e[i];if(i=og(i),r==null){r!==void 0&&(t+=(t.length?"&":"")+i);continue}(En(r)?r.map(c=>c&&Cl(c)):[r&&Cl(r)]).forEach(c=>{c!==void 0&&(t+=(t.length?"&":"")+i,c!=null&&(t+="="+c))})}return t}function jg(e){const t={};for(const i in e){const r=e[i];r!==void 0&&(t[i]=En(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const Hg=Symbol(""),zu=Symbol(""),Na=Symbol(""),Qf=Symbol(""),Al=Symbol("");function kr(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function i(){e=[]}return{add:t,list:()=>e.slice(),reset:i}}function bi(e,t,i,r,o,c=u=>u()){const u=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((d,m)=>{const y=R=>{R===!1?m(Zs(4,{from:i,to:t})):R instanceof Error?m(R):Sg(R)?m(Zs(2,{from:t,to:R})):(u&&r.enterCallbacks[o]===u&&typeof R=="function"&&u.push(R),d())},b=c(()=>e.call(r&&r.instances[o],t,i,y));let w=Promise.resolve(b);e.length<3&&(w=w.then(y)),w.catch(R=>m(R))})}function rl(e,t,i,r,o=c=>c()){const c=[];for(const u of e)for(const d in u.components){let m=u.components[d];if(!(t!=="beforeRouteEnter"&&!u.instances[d]))if(jf(m)){const b=(m.__vccOpts||m)[t];b&&c.push(bi(b,i,r,u,d,o))}else{let y=m();c.push(()=>y.then(b=>{if(!b)throw new Error(`Couldn't resolve component "${d}" at "${u.path}"`);const w=q_(b)?b.default:b;u.mods[d]=b,u.components[d]=w;const z=(w.__vccOpts||w)[t];return z&&bi(z,i,r,u,d,o)()}))}}return c}function Uu(e){const t=Rn(Na),i=Rn(Qf),r=vn(()=>{const m=Ds(e.to);return t.resolve(m)}),o=vn(()=>{const{matched:m}=r.value,{length:y}=m,b=m[y-1],w=i.matched;if(!b||!w.length)return-1;const R=w.findIndex(Ws.bind(null,b));if(R>-1)return R;const z=Fu(m[y-2]);return y>1&&Fu(b)===z&&w[w.length-1].path!==z?w.findIndex(Ws.bind(null,m[y-2])):R}),c=vn(()=>o.value>-1&&Gg(i.params,r.value.params)),u=vn(()=>o.value>-1&&o.value===i.matched.length-1&&Gf(i.params,r.value.params));function d(m={}){if($g(m)){const y=t[Ds(e.replace)?"replace":"push"](Ds(e.to)).catch(Hr);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>y),y}return Promise.resolve()}return{route:r,href:vn(()=>r.value.href),isActive:c,isExactActive:u,navigate:d}}function Vg(e){return e.length===1?e[0]:e}const Wg=uf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Uu,setup(e,{slots:t}){const i=Aa(Uu(e)),{options:r}=Rn(Na),o=vn(()=>({[ju(e.activeClass,r.linkActiveClass,"router-link-active")]:i.isActive,[ju(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const c=t.default&&Vg(t.default(i));return e.custom?c:Bf("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:o.value},c)}}}),Zg=Wg;function $g(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Gg(e,t){for(const i in t){const r=t[i],o=e[i];if(typeof r=="string"){if(r!==o)return!1}else if(!En(o)||o.length!==r.length||r.some((c,u)=>c!==o[u]))return!1}return!0}function Fu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ju=(e,t,i)=>e??t??i,Kg=uf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:i}){const r=Rn(Al),o=vn(()=>e.route||r.value),c=Rn(zu,0),u=vn(()=>{let y=Ds(c);const{matched:b}=o.value;let w;for(;(w=b[y])&&!w.components;)y++;return y}),d=vn(()=>o.value.matched[u.value]);Xo(zu,vn(()=>u.value+1)),Xo(Hg,d),Xo(Al,o);const m=Yi();return Qo(()=>[m.value,d.value,e.name],([y,b,w],[R,z,$])=>{b&&(b.instances[w]=y,z&&z!==b&&y&&y===R&&(b.leaveGuards.size||(b.leaveGuards=z.leaveGuards),b.updateGuards.size||(b.updateGuards=z.updateGuards))),y&&b&&(!z||!Ws(b,z)||!R)&&(b.enterCallbacks[w]||[]).forEach(Z=>Z(y))},{flush:"post"}),()=>{const y=o.value,b=e.name,w=d.value,R=w&&w.components[b];if(!R)return Hu(i.default,{Component:R,route:y});const z=w.props[b],$=z?z===!0?y.params:typeof z=="function"?z(y):z:null,at=Bf(R,Vt({},$,t,{onVnodeUnmounted:ct=>{ct.component.isUnmounted&&(w.instances[b]=null)},ref:m}));return Hu(i.default,{Component:at,route:y})||at}}});function Hu(e,t){if(!e)return null;const i=e(t);return i.length===1?i[0]:i}const qg=Kg;function Jg(e){const t=Dg(e.routes,e),i=e.parseQuery||Fg,r=e.stringifyQuery||Bu,o=e.history,c=kr(),u=kr(),d=kr(),m=im(gi);let y=gi;ks&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=il.bind(null,j=>""+j),w=il.bind(null,lg),R=il.bind(null,Qr);function z(j,et){let nt,lt;return qf(j)?(nt=t.getRecordMatcher(j),lt=et):lt=j,t.addRoute(lt,nt)}function $(j){const et=t.getRecordMatcher(j);et&&t.removeRoute(et)}function Z(){return t.getRoutes().map(j=>j.record)}function at(j){return!!t.getRecordMatcher(j)}function ct(j,et){if(et=Vt({},et||m.value),typeof j=="string"){const M=sl(i,j,et.path),H=t.resolve({path:M.path},et),W=o.createHref(M.fullPath);return Vt(M,H,{params:R(H.params),hash:Qr(M.hash),redirectedFrom:void 0,href:W})}let nt;if(j.path!=null)nt=Vt({},j,{path:sl(i,j.path,et.path).path});else{const M=Vt({},j.params);for(const H in M)M[H]==null&&delete M[H];nt=Vt({},j,{params:w(M)}),et.params=w(et.params)}const lt=t.resolve(nt,et),Bt=j.hash||"";lt.params=b(R(lt.params));const T=hg(r,Vt({},j,{hash:rg(Bt),path:lt.path})),P=o.createHref(T);return Vt({fullPath:T,hash:Bt,query:r===Bu?jg(j.query):j.query||{}},lt,{redirectedFrom:void 0,href:P})}function rt(j){return typeof j=="string"?sl(i,j,m.value.path):Vt({},j)}function Q(j,et){if(y!==j)return Zs(8,{from:et,to:j})}function st(j){return A(j)}function Ct(j){return st(Vt(rt(j),{replace:!0}))}function Dt(j){const et=j.matched[j.matched.length-1];if(et&&et.redirect){const{redirect:nt}=et;let lt=typeof nt=="function"?nt(j):nt;return typeof lt=="string"&&(lt=lt.includes("?")||lt.includes("#")?lt=rt(lt):{path:lt},lt.params={}),Vt({query:j.query,hash:j.hash,params:lt.path!=null?{}:j.params},lt)}}function A(j,et){const nt=y=ct(j),lt=m.value,Bt=j.state,T=j.force,P=j.replace===!0,M=Dt(nt);if(M)return A(Vt(rt(M),{state:typeof M=="object"?Vt({},Bt,M.state):Bt,force:T,replace:P}),et||nt);const H=nt;H.redirectedFrom=et;let W;return!T&&fg(r,lt,nt)&&(W=Zs(16,{to:H,from:lt}),Nt(lt,lt,!0,!1)),(W?Promise.resolve(W):k(H,lt)).catch(V=>Kn(V)?Kn(V,2)?V:ft(V):tt(V,H,lt)).then(V=>{if(V){if(Kn(V,2))return A(Vt({replace:P},rt(V.to),{state:typeof V.to=="object"?Vt({},Bt,V.to.state):Bt,force:T}),et||H)}else V=O(H,lt,!0,P,Bt);return x(H,lt,V),V})}function E(j,et){const nt=Q(j,et);return nt?Promise.reject(nt):Promise.resolve()}function C(j){const et=Gt.values().next().value;return et&&typeof et.runWithContext=="function"?et.runWithContext(j):j()}function k(j,et){let nt;const[lt,Bt,T]=Yg(j,et);nt=rl(lt.reverse(),"beforeRouteLeave",j,et);for(const M of lt)M.leaveGuards.forEach(H=>{nt.push(bi(H,j,et))});const P=E.bind(null,j,et);return nt.push(P),gt(nt).then(()=>{nt=[];for(const M of c.list())nt.push(bi(M,j,et));return nt.push(P),gt(nt)}).then(()=>{nt=rl(Bt,"beforeRouteUpdate",j,et);for(const M of Bt)M.updateGuards.forEach(H=>{nt.push(bi(H,j,et))});return nt.push(P),gt(nt)}).then(()=>{nt=[];for(const M of T)if(M.beforeEnter)if(En(M.beforeEnter))for(const H of M.beforeEnter)nt.push(bi(H,j,et));else nt.push(bi(M.beforeEnter,j,et));return nt.push(P),gt(nt)}).then(()=>(j.matched.forEach(M=>M.enterCallbacks={}),nt=rl(T,"beforeRouteEnter",j,et,C),nt.push(P),gt(nt))).then(()=>{nt=[];for(const M of u.list())nt.push(bi(M,j,et));return nt.push(P),gt(nt)}).catch(M=>Kn(M,8)?M:Promise.reject(M))}function x(j,et,nt){d.list().forEach(lt=>C(()=>lt(j,et,nt)))}function O(j,et,nt,lt,Bt){const T=Q(j,et);if(T)return T;const P=et===gi,M=ks?history.state:{};nt&&(lt||P?o.replace(j.fullPath,Vt({scroll:P&&M&&M.scroll},Bt)):o.push(j.fullPath,Bt)),m.value=j,Nt(j,et,nt,P),ft()}let I;function ee(){I||(I=o.listen((j,et,nt)=>{if(!At.listening)return;const lt=ct(j),Bt=Dt(lt);if(Bt){A(Vt(Bt,{replace:!0,force:!0}),lt).catch(Hr);return}y=lt;const T=m.value;ks&&wg(xu(T.fullPath,nt.delta),Da()),k(lt,T).catch(P=>Kn(P,12)?P:Kn(P,2)?(A(Vt(rt(P.to),{force:!0}),lt).then(M=>{Kn(M,20)&&!nt.delta&&nt.type===to.pop&&o.go(-1,!1)}).catch(Hr),Promise.reject()):(nt.delta&&o.go(-nt.delta,!1),tt(P,lt,T))).then(P=>{P=P||O(lt,T,!1),P&&(nt.delta&&!Kn(P,8)?o.go(-nt.delta,!1):nt.type===to.pop&&Kn(P,20)&&o.go(-1,!1)),x(lt,T,P)}).catch(Hr)}))}let De=kr(),Ft=kr(),xt;function tt(j,et,nt){ft(j);const lt=Ft.list();return lt.length?lt.forEach(Bt=>Bt(j,et,nt)):console.error(j),Promise.reject(j)}function we(){return xt&&m.value!==gi?Promise.resolve():new Promise((j,et)=>{De.add([j,et])})}function ft(j){return xt||(xt=!j,ee(),De.list().forEach(([et,nt])=>j?nt(j):et()),De.reset()),j}function Nt(j,et,nt,lt){const{scrollBehavior:Bt}=e;if(!ks||!Bt)return Promise.resolve();const T=!nt&&bg(xu(j.fullPath,0))||(lt||!nt)&&history.state&&history.state.scroll||null;return tc().then(()=>Bt(j,et,T)).then(P=>P&&yg(P)).catch(P=>tt(P,j,et))}const Lt=j=>o.go(j);let kt;const Gt=new Set,At={currentRoute:m,listening:!0,addRoute:z,removeRoute:$,clearRoutes:t.clearRoutes,hasRoute:at,getRoutes:Z,resolve:ct,options:e,push:st,replace:Ct,go:Lt,back:()=>Lt(-1),forward:()=>Lt(1),beforeEach:c.add,beforeResolve:u.add,afterEach:d.add,onError:Ft.add,isReady:we,install(j){const et=this;j.component("RouterLink",Zg),j.component("RouterView",qg),j.config.globalProperties.$router=et,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>Ds(m)}),ks&&!kt&&m.value===gi&&(kt=!0,st(o.location).catch(Bt=>{}));const nt={};for(const Bt in gi)Object.defineProperty(nt,Bt,{get:()=>m.value[Bt],enumerable:!0});j.provide(Na,et),j.provide(Qf,tf(nt)),j.provide(Al,m);const lt=j.unmount;Gt.add(j),j.unmount=function(){Gt.delete(j),Gt.size<1&&(y=gi,I&&I(),I=null,m.value=gi,kt=!1,xt=!1),lt()}}};function gt(j){return j.reduce((et,nt)=>et.then(()=>C(nt)),Promise.resolve())}return At}function Yg(e,t){const i=[],r=[],o=[],c=Math.max(t.matched.length,e.matched.length);for(let u=0;u<c;u++){const d=t.matched[u];d&&(e.matched.find(y=>Ws(y,d))?r.push(d):i.push(d));const m=e.matched[u];m&&(t.matched.find(y=>Ws(y,m))||o.push(m))}return[i,r,o]}function ac(){return Rn(Na)}const Xg="/icons/icon-192x192.png",Qg={name:"Home",setup(){const e=ac();return{goToLogin:()=>{e.push("/login")},goToRegister:()=>{e.push("/register")},goToInfo:()=>{e.push("/info")}}}},tv={class:"home-page"},ev={class:"auth-buttons"},nv={class:"info-button"};function iv(e,t,i,r,o,c){return bt(),Pt("div",tv,[t[3]||(t[3]=D("div",{class:"logo-container"},[D("img",{src:Xg,alt:"TripMaster Logo",class:"app-logo"})],-1)),t[4]||(t[4]=D("div",{class:"welcome-text"},[D("h1",null,"TripMaster"),D("p",{class:"slogan"},"Start your adventure today and make every journey unforgettable!")],-1)),D("div",ev,[D("button",{onClick:t[0]||(t[0]=(...u)=>r.goToLogin&&r.goToLogin(...u))},"Login"),D("button",{onClick:t[1]||(t[1]=(...u)=>r.goToRegister&&r.goToRegister(...u))},"Register")]),D("div",nv,[D("button",{onClick:t[2]||(t[2]=(...u)=>r.goToInfo&&r.goToInfo(...u))},"Find out more about the app and authors")])])}const sv=Qe(Qg,[["render",iv],["__scopeId","data-v-7e9db1a5"]]),rv={name:"TripCard",props:{trip:{type:Object,required:!0}}},ov={class:"col-md-4 mb-4"},av={class:"card shadow-sm h-100"},lv={class:"card-body"},cv={class:"card-title"},uv={class:"card-text"};function hv(e,t,i,r,o,c){const u=gn("router-link");return bt(),Pt("div",ov,[D("div",av,[D("div",lv,[D("h5",cv,Ht(i.trip.name),1),D("p",uv,Ht(i.trip.country),1),ne(u,{to:`/trip/${i.trip.id}`,class:"btn btn-primary"},{default:Si(()=>t[0]||(t[0]=[He("Zobacz podróż")])),_:1},8,["to"])])])])}const fv=Qe(rv,[["render",hv]]),dv={name:"AddTripModal",data(){return{newTrip:{country:"",name:"",departureDate:"",arrivalDate:""}}},methods:{submitForm(){this.$emit("add-trip",{...this.newTrip,id:Date.now()}),this.closeModal()},closeModal(){this.$emit("close")}}},pv={class:"modal fade show d-block",tabindex:"-1",style:{background:"rgba(0,0,0,0.5)"}},mv={class:"modal-dialog"},_v={class:"modal-content"},gv={class:"modal-header"},vv={class:"modal-body"},yv={class:"mb-3"},wv={class:"mb-3"},bv={class:"mb-3"},Tv={class:"mb-3"};function Ev(e,t,i,r,o,c){return bt(),Pt("div",pv,[D("div",mv,[D("div",_v,[D("div",gv,[t[6]||(t[6]=D("h5",{class:"modal-title"},"Dodaj podróż",-1)),D("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=(...u)=>c.closeModal&&c.closeModal(...u))})]),D("div",vv,[D("form",{onSubmit:t[5]||(t[5]=rc((...u)=>c.submitForm&&c.submitForm(...u),["prevent"]))},[D("div",yv,[t[8]||(t[8]=D("label",{for:"country",class:"form-label"},"Kraj",-1)),se(D("select",{"onUpdate:modelValue":t[1]||(t[1]=u=>o.newTrip.country=u),id:"country",class:"form-select"},t[7]||(t[7]=[D("option",{value:"Włochy"},"Włochy",-1),D("option",{value:"Hiszpania"},"Hiszpania",-1),D("option",{value:"Francja"},"Francja",-1)]),512),[[z_,o.newTrip.country]])]),D("div",wv,[t[9]||(t[9]=D("label",{for:"name",class:"form-label"},"Nazwa podróży",-1)),se(D("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>o.newTrip.name=u),type:"text",id:"name",class:"form-control",required:""},null,512),[[le,o.newTrip.name]])]),D("div",bv,[t[10]||(t[10]=D("label",{for:"departureDate",class:"form-label"},"Data wyjazdu (opcjonalnie)",-1)),se(D("input",{"onUpdate:modelValue":t[3]||(t[3]=u=>o.newTrip.departureDate=u),type:"date",id:"departureDate",class:"form-control"},null,512),[[le,o.newTrip.departureDate]])]),D("div",Tv,[t[11]||(t[11]=D("label",{for:"arrivalDate",class:"form-label"},"Data przyjazdu (opcjonalnie)",-1)),se(D("input",{"onUpdate:modelValue":t[4]||(t[4]=u=>o.newTrip.arrivalDate=u),type:"date",id:"arrivalDate",class:"form-control"},null,512),[[le,o.newTrip.arrivalDate]])]),t[12]||(t[12]=D("button",{type:"submit",class:"btn btn-primary"},"Dodaj podróż",-1))],32)])])])])}const Pv=Qe(dv,[["render",Ev],["__scopeId","data-v-90b26f6d"]]),Iv={name:"HomeView",components:{TripCard:fv,AddTripModal:Pv},data(){return{trips:[],isModalVisible:!1}},methods:{showAddTripModal(){this.isModalVisible=!0},closeModal(){this.isModalVisible=!1},addTrip(e){this.trips.push(e),this.closeModal()}}},Sv={class:"container py-5"},Cv={class:"d-flex justify-content-center gap-3 mb-5 flex-wrap"},xv={key:0,class:"text-center text-muted mt-5"},Av={key:1,class:"row"};function Lv(e,t,i,r,o,c){const u=gn("router-link"),d=gn("TripCard"),m=gn("AddTripModal");return bt(),Pt("div",Sv,[t[6]||(t[6]=D("h1",{class:"text-center mb-4 display-4 fw-bold text-primary"},"Trip Master",-1)),D("div",Cv,[ne(u,{to:"/trips",class:"btn btn-outline-primary"},{default:Si(()=>t[1]||(t[1]=[He("Trips")])),_:1}),ne(u,{to:"/diary",class:"btn btn-outline-primary"},{default:Si(()=>t[2]||(t[2]=[He("Travel Diary")])),_:1}),ne(u,{to:"/account",class:"btn btn-outline-primary"},{default:Si(()=>t[3]||(t[3]=[He("Konto użytkownika")])),_:1}),ne(u,{to:"/login",class:"btn btn-outline-primary"},{default:Si(()=>t[4]||(t[4]=[He("Logowanie")])),_:1})]),o.trips.length===0?(bt(),Pt("div",xv,[t[5]||(t[5]=D("p",{class:"fs-5"},"Nie masz jeszcze żadnych podróży 😢",-1)),D("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...y)=>c.showAddTripModal&&c.showAddTripModal(...y))},"Dodaj swoją pierwszą podróż")])):(bt(),Pt("div",Av,[(bt(!0),Pt(Oe,null,js(o.trips,y=>(bt(),Pl(d,{key:y.id,trip:y},null,8,["trip"]))),128))])),o.isModalVisible?(bt(),Pl(m,{key:2,onClose:c.closeModal,onAddTrip:c.addTrip},null,8,["onClose","onAddTrip"])):pe("",!0)])}const Vu=Qe(Iv,[["render",Lv]]);function kv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Or={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Rv=Or.exports,Wu;function Ov(){return Wu||(Wu=1,function(e,t){(function(i,r){r(t)})(Rv,function(i){var r="1.9.4";function o(n){var s,l,h,p;for(l=1,h=arguments.length;l<h;l++){p=arguments[l];for(s in p)n[s]=p[s]}return n}var c=Object.create||function(){function n(){}return function(s){return n.prototype=s,new n}}();function u(n,s){var l=Array.prototype.slice;if(n.bind)return n.bind.apply(n,l.call(arguments,1));var h=l.call(arguments,2);return function(){return n.apply(s,h.length?h.concat(l.call(arguments)):arguments)}}var d=0;function m(n){return"_leaflet_id"in n||(n._leaflet_id=++d),n._leaflet_id}function y(n,s,l){var h,p,g,S;return S=function(){h=!1,p&&(g.apply(l,p),p=!1)},g=function(){h?p=arguments:(n.apply(l,arguments),setTimeout(S,s),h=!0)},g}function b(n,s,l){var h=s[1],p=s[0],g=h-p;return n===h&&l?n:((n-p)%g+g)%g+p}function w(){return!1}function R(n,s){if(s===!1)return n;var l=Math.pow(10,s===void 0?6:s);return Math.round(n*l)/l}function z(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function $(n){return z(n).split(/\s+/)}function Z(n,s){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?c(n.options):{});for(var l in s)n.options[l]=s[l];return n.options}function at(n,s,l){var h=[];for(var p in n)h.push(encodeURIComponent(l?p.toUpperCase():p)+"="+encodeURIComponent(n[p]));return(!s||s.indexOf("?")===-1?"?":"&")+h.join("&")}var ct=/\{ *([\w_ -]+) *\}/g;function rt(n,s){return n.replace(ct,function(l,h){var p=s[h];if(p===void 0)throw new Error("No value provided for variable "+l);return typeof p=="function"&&(p=p(s)),p})}var Q=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function st(n,s){for(var l=0;l<n.length;l++)if(n[l]===s)return l;return-1}var Ct="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Dt(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var A=0;function E(n){var s=+new Date,l=Math.max(0,16-(s-A));return A=s+l,window.setTimeout(n,l)}var C=window.requestAnimationFrame||Dt("RequestAnimationFrame")||E,k=window.cancelAnimationFrame||Dt("CancelAnimationFrame")||Dt("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function x(n,s,l){if(l&&C===E)n.call(s);else return C.call(window,u(n,s))}function O(n){n&&k.call(window,n)}var I={__proto__:null,extend:o,create:c,bind:u,get lastId(){return d},stamp:m,throttle:y,wrapNum:b,falseFn:w,formatNum:R,trim:z,splitWords:$,setOptions:Z,getParamString:at,template:rt,isArray:Q,indexOf:st,emptyImageUrl:Ct,requestFn:C,cancelFn:k,requestAnimFrame:x,cancelAnimFrame:O};function ee(){}ee.extend=function(n){var s=function(){Z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=s.__super__=this.prototype,h=c(l);h.constructor=s,s.prototype=h;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(s[p]=this[p]);return n.statics&&o(s,n.statics),n.includes&&(De(n.includes),o.apply(null,[h].concat(n.includes))),o(h,n),delete h.statics,delete h.includes,h.options&&(h.options=l.options?c(l.options):{},o(h.options,n.options)),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,S=h._initHooks.length;g<S;g++)h._initHooks[g].call(this)}},s},ee.include=function(n){var s=this.prototype.options;return o(this.prototype,n),n.options&&(this.prototype.options=s,this.mergeOptions(n.options)),this},ee.mergeOptions=function(n){return o(this.prototype.options,n),this},ee.addInitHook=function(n){var s=Array.prototype.slice.call(arguments,1),l=typeof n=="function"?n:function(){this[n].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function De(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=Q(n)?n:[n];for(var s=0;s<n.length;s++)n[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ft={on:function(n,s,l){if(typeof n=="object")for(var h in n)this._on(h,n[h],s);else{n=$(n);for(var p=0,g=n.length;p<g;p++)this._on(n[p],s,l)}return this},off:function(n,s,l){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var h in n)this._off(h,n[h],s);else{n=$(n);for(var p=arguments.length===1,g=0,S=n.length;g<S;g++)p?this._off(n[g]):this._off(n[g],s,l)}return this},_on:function(n,s,l,h){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(n,s,l)===!1){l===this&&(l=void 0);var p={fn:s,ctx:l};h&&(p.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(p)}},_off:function(n,s,l){var h,p,g;if(this._events&&(h=this._events[n],!!h)){if(arguments.length===1){if(this._firingCount)for(p=0,g=h.length;p<g;p++)h[p].fn=w;delete this._events[n];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var S=this._listens(n,s,l);if(S!==!1){var B=h[S];this._firingCount&&(B.fn=w,this._events[n]=h=h.slice()),h.splice(S,1)}}},fire:function(n,s,l){if(!this.listens(n,l))return this;var h=o({},s,{type:n,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var p=this._events[n];if(p){this._firingCount=this._firingCount+1||1;for(var g=0,S=p.length;g<S;g++){var B=p[g],U=B.fn;B.once&&this.off(n,U,B.ctx),U.call(B.ctx||this,h)}this._firingCount--}}return l&&this._propagateEvent(h),this},listens:function(n,s,l,h){typeof n!="string"&&console.warn('"string" type argument expected');var p=s;typeof s!="function"&&(h=!!s,p=void 0,l=void 0);var g=this._events&&this._events[n];if(g&&g.length&&this._listens(n,p,l)!==!1)return!0;if(h){for(var S in this._eventParents)if(this._eventParents[S].listens(n,s,l,h))return!0}return!1},_listens:function(n,s,l){if(!this._events)return!1;var h=this._events[n]||[];if(!s)return!!h.length;l===this&&(l=void 0);for(var p=0,g=h.length;p<g;p++)if(h[p].fn===s&&h[p].ctx===l)return p;return!1},once:function(n,s,l){if(typeof n=="object")for(var h in n)this._on(h,n[h],s,!0);else{n=$(n);for(var p=0,g=n.length;p<g;p++)this._on(n[p],s,l,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[m(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[m(n)],this},_propagateEvent:function(n){for(var s in this._eventParents)this._eventParents[s].fire(n.type,o({layer:n.target,propagatedFrom:n.target},n),!0)}};Ft.addEventListener=Ft.on,Ft.removeEventListener=Ft.clearAllEventListeners=Ft.off,Ft.addOneTimeEventListener=Ft.once,Ft.fireEvent=Ft.fire,Ft.hasEventListeners=Ft.listens;var xt=ee.extend(Ft);function tt(n,s,l){this.x=l?Math.round(n):n,this.y=l?Math.round(s):s}var we=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};tt.prototype={clone:function(){return new tt(this.x,this.y)},add:function(n){return this.clone()._add(ft(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(ft(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new tt(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new tt(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=we(this.x),this.y=we(this.y),this},distanceTo:function(n){n=ft(n);var s=n.x-this.x,l=n.y-this.y;return Math.sqrt(s*s+l*l)},equals:function(n){return n=ft(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=ft(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+R(this.x)+", "+R(this.y)+")"}};function ft(n,s,l){return n instanceof tt?n:Q(n)?new tt(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new tt(n.x,n.y):new tt(n,s,l)}function Nt(n,s){if(n)for(var l=s?[n,s]:n,h=0,p=l.length;h<p;h++)this.extend(l[h])}Nt.prototype={extend:function(n){var s,l;if(!n)return this;if(n instanceof tt||typeof n[0]=="number"||"x"in n)s=l=ft(n);else if(n=Lt(n),s=n.min,l=n.max,!s||!l)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=l.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(n){return ft((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return ft(this.min.x,this.max.y)},getTopRight:function(){return ft(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var s,l;return typeof n[0]=="number"||n instanceof tt?n=ft(n):n=Lt(n),n instanceof Nt?(s=n.min,l=n.max):s=l=n,s.x>=this.min.x&&l.x<=this.max.x&&s.y>=this.min.y&&l.y<=this.max.y},intersects:function(n){n=Lt(n);var s=this.min,l=this.max,h=n.min,p=n.max,g=p.x>=s.x&&h.x<=l.x,S=p.y>=s.y&&h.y<=l.y;return g&&S},overlaps:function(n){n=Lt(n);var s=this.min,l=this.max,h=n.min,p=n.max,g=p.x>s.x&&h.x<l.x,S=p.y>s.y&&h.y<l.y;return g&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var s=this.min,l=this.max,h=Math.abs(s.x-l.x)*n,p=Math.abs(s.y-l.y)*n;return Lt(ft(s.x-h,s.y-p),ft(l.x+h,l.y+p))},equals:function(n){return n?(n=Lt(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function Lt(n,s){return!n||n instanceof Nt?n:new Nt(n,s)}function kt(n,s){if(n)for(var l=s?[n,s]:n,h=0,p=l.length;h<p;h++)this.extend(l[h])}kt.prototype={extend:function(n){var s=this._southWest,l=this._northEast,h,p;if(n instanceof At)h=n,p=n;else if(n instanceof kt){if(h=n._southWest,p=n._northEast,!h||!p)return this}else return n?this.extend(gt(n)||Gt(n)):this;return!s&&!l?(this._southWest=new At(h.lat,h.lng),this._northEast=new At(p.lat,p.lng)):(s.lat=Math.min(h.lat,s.lat),s.lng=Math.min(h.lng,s.lng),l.lat=Math.max(p.lat,l.lat),l.lng=Math.max(p.lng,l.lng)),this},pad:function(n){var s=this._southWest,l=this._northEast,h=Math.abs(s.lat-l.lat)*n,p=Math.abs(s.lng-l.lng)*n;return new kt(new At(s.lat-h,s.lng-p),new At(l.lat+h,l.lng+p))},getCenter:function(){return new At((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new At(this.getNorth(),this.getWest())},getSouthEast:function(){return new At(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof At||"lat"in n?n=gt(n):n=Gt(n);var s=this._southWest,l=this._northEast,h,p;return n instanceof kt?(h=n.getSouthWest(),p=n.getNorthEast()):h=p=n,h.lat>=s.lat&&p.lat<=l.lat&&h.lng>=s.lng&&p.lng<=l.lng},intersects:function(n){n=Gt(n);var s=this._southWest,l=this._northEast,h=n.getSouthWest(),p=n.getNorthEast(),g=p.lat>=s.lat&&h.lat<=l.lat,S=p.lng>=s.lng&&h.lng<=l.lng;return g&&S},overlaps:function(n){n=Gt(n);var s=this._southWest,l=this._northEast,h=n.getSouthWest(),p=n.getNorthEast(),g=p.lat>s.lat&&h.lat<l.lat,S=p.lng>s.lng&&h.lng<l.lng;return g&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,s){return n?(n=Gt(n),this._southWest.equals(n.getSouthWest(),s)&&this._northEast.equals(n.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Gt(n,s){return n instanceof kt?n:new kt(n,s)}function At(n,s,l){if(isNaN(n)||isNaN(s))throw new Error("Invalid LatLng object: ("+n+", "+s+")");this.lat=+n,this.lng=+s,l!==void 0&&(this.alt=+l)}At.prototype={equals:function(n,s){if(!n)return!1;n=gt(n);var l=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return l<=(s===void 0?1e-9:s)},toString:function(n){return"LatLng("+R(this.lat,n)+", "+R(this.lng,n)+")"},distanceTo:function(n){return et.distance(this,gt(n))},wrap:function(){return et.wrapLatLng(this)},toBounds:function(n){var s=180*n/40075017,l=s/Math.cos(Math.PI/180*this.lat);return Gt([this.lat-s,this.lng-l],[this.lat+s,this.lng+l])},clone:function(){return new At(this.lat,this.lng,this.alt)}};function gt(n,s,l){return n instanceof At?n:Q(n)&&typeof n[0]!="object"?n.length===3?new At(n[0],n[1],n[2]):n.length===2?new At(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new At(n.lat,"lng"in n?n.lng:n.lon,n.alt):s===void 0?null:new At(n,s,l)}var j={latLngToPoint:function(n,s){var l=this.projection.project(n),h=this.scale(s);return this.transformation._transform(l,h)},pointToLatLng:function(n,s){var l=this.scale(s),h=this.transformation.untransform(n,l);return this.projection.unproject(h)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var s=this.projection.bounds,l=this.scale(n),h=this.transformation.transform(s.min,l),p=this.transformation.transform(s.max,l);return new Nt(h,p)},infinite:!1,wrapLatLng:function(n){var s=this.wrapLng?b(n.lng,this.wrapLng,!0):n.lng,l=this.wrapLat?b(n.lat,this.wrapLat,!0):n.lat,h=n.alt;return new At(l,s,h)},wrapLatLngBounds:function(n){var s=n.getCenter(),l=this.wrapLatLng(s),h=s.lat-l.lat,p=s.lng-l.lng;if(h===0&&p===0)return n;var g=n.getSouthWest(),S=n.getNorthEast(),B=new At(g.lat-h,g.lng-p),U=new At(S.lat-h,S.lng-p);return new kt(B,U)}},et=o({},j,{wrapLng:[-180,180],R:6371e3,distance:function(n,s){var l=Math.PI/180,h=n.lat*l,p=s.lat*l,g=Math.sin((s.lat-n.lat)*l/2),S=Math.sin((s.lng-n.lng)*l/2),B=g*g+Math.cos(h)*Math.cos(p)*S*S,U=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B));return this.R*U}}),nt=6378137,lt={R:nt,MAX_LATITUDE:85.0511287798,project:function(n){var s=Math.PI/180,l=this.MAX_LATITUDE,h=Math.max(Math.min(l,n.lat),-l),p=Math.sin(h*s);return new tt(this.R*n.lng*s,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(n){var s=180/Math.PI;return new At((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*s,n.x*s/this.R)},bounds:function(){var n=nt*Math.PI;return new Nt([-n,-n],[n,n])}()};function Bt(n,s,l,h){if(Q(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=s,this._c=l,this._d=h}Bt.prototype={transform:function(n,s){return this._transform(n.clone(),s)},_transform:function(n,s){return s=s||1,n.x=s*(this._a*n.x+this._b),n.y=s*(this._c*n.y+this._d),n},untransform:function(n,s){return s=s||1,new tt((n.x/s-this._b)/this._a,(n.y/s-this._d)/this._c)}};function T(n,s,l,h){return new Bt(n,s,l,h)}var P=o({},et,{code:"EPSG:3857",projection:lt,transformation:function(){var n=.5/(Math.PI*lt.R);return T(n,.5,-n,.5)}()}),M=o({},P,{code:"EPSG:900913"});function H(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function W(n,s){var l="",h,p,g,S,B,U;for(h=0,g=n.length;h<g;h++){for(B=n[h],p=0,S=B.length;p<S;p++)U=B[p],l+=(p?"L":"M")+U.x+" "+U.y;l+=s?ht.svg?"z":"x":""}return l||"M0 0"}var V=document.documentElement.style,X="ActiveXObject"in window,Y=X&&!document.addEventListener,q="msLaunchUri"in navigator&&!("documentMode"in document),K=tn("webkit"),pt=tn("android"),it=tn("android 2")||tn("android 3"),ut=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mt=pt&&tn("Google")&&ut<537&&!("AudioNode"in window),dt=!!window.opera,Et=!q&&tn("chrome"),Ot=tn("gecko")&&!K&&!dt&&!X,me=!Et&&tn("safari"),ce=tn("phantom"),Se="OTransition"in V,_e=navigator.platform.indexOf("Win")===0,hn=X&&"transition"in V,Nn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,ue="MozPerspective"in V,Ne=!window.L_DISABLE_3D&&(hn||Nn||ue)&&!Se&&!ce,Pn=typeof orientation<"u"||tn("mobile"),Ys=Pn&&K,_o=Pn&&Nn,go=!window.PointerEvent&&window.MSPointerEvent,ai=!!(window.PointerEvent||go),os="ontouchstart"in window||!!window.TouchEvent,Xs=!window.L_NO_TOUCH&&(os||ai),li=Pn&&dt,vo=Pn&&Ot,Qs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,yo=function(){var n=!1;try{var s=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",w,s),window.removeEventListener("testPassiveEventSupport",w,s)}catch{}return n}(),Ni=function(){return!!document.createElement("canvas").getContext}(),as=!!(document.createElementNS&&H("svg").createSVGRect),ye=!!as&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),wo=!as&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var s=n.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),Bi=navigator.platform.indexOf("Mac")===0,zi=navigator.platform.indexOf("Linux")===0;function tn(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var ht={ie:X,ielt9:Y,edge:q,webkit:K,android:pt,android23:it,androidStock:mt,opera:dt,chrome:Et,gecko:Ot,safari:me,phantom:ce,opera12:Se,win:_e,ie3d:hn,webkit3d:Nn,gecko3d:ue,any3d:Ne,mobile:Pn,mobileWebkit:Ys,mobileWebkit3d:_o,msPointer:go,pointer:ai,touch:Xs,touchNative:os,mobileOpera:li,mobileGecko:vo,retina:Qs,passiveEvents:yo,canvas:Ni,svg:as,vml:wo,inlineSvg:ye,mac:Bi,linux:zi},Bn=ht.msPointer?"MSPointerDown":"pointerdown",bo=ht.msPointer?"MSPointerMove":"pointermove",To=ht.msPointer?"MSPointerUp":"pointerup",ls=ht.msPointer?"MSPointerCancel":"pointercancel",tr={touchstart:Bn,touchmove:bo,touchend:To,touchcancel:ls},cs={touchstart:hs,touchmove:us,touchend:us,touchcancel:us},fn={},dn=!1;function Eo(n,s,l){return s==="touchstart"&&Io(),cs[s]?(l=cs[s].bind(this,l),n.addEventListener(tr[s],l,!1),l):(console.warn("wrong event specified:",s),w)}function Po(n,s,l){if(!tr[s]){console.warn("wrong event specified:",s);return}n.removeEventListener(tr[s],l,!1)}function er(n){fn[n.pointerId]=n}function nr(n){fn[n.pointerId]&&(fn[n.pointerId]=n)}function ir(n){delete fn[n.pointerId]}function Io(){dn||(document.addEventListener(Bn,er,!0),document.addEventListener(bo,nr,!0),document.addEventListener(To,ir,!0),document.addEventListener(ls,ir,!0),dn=!0)}function us(n,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var l in fn)s.touches.push(fn[l]);s.changedTouches=[s],n(s)}}function hs(n,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&re(s),us(n,s)}function So(n){var s={},l,h;for(h in n)l=n[h],s[h]=l&&l.bind?l.bind(n):l;return n=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var sr=200;function Ui(n,s){n.addEventListener("dblclick",s);var l=0,h;function p(g){if(g.detail!==1){h=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var S=_r(g);if(!(S.some(function(U){return U instanceof HTMLLabelElement&&U.attributes.for})&&!S.some(function(U){return U instanceof HTMLInputElement||U instanceof HTMLSelectElement}))){var B=Date.now();B-l<=sr?(h++,h===2&&s(So(g))):h=1,l=B}}}return n.addEventListener("click",p),{dblclick:s,simDblclick:p}}function zn(n,s){n.removeEventListener("dblclick",s.dblclick),n.removeEventListener("click",s.simDblclick)}var Fi=Fn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ji=Fn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),rr=ji==="webkitTransition"||ji==="OTransition"?ji+"End":"transitionend";function or(n){return typeof n=="string"?document.getElementById(n):n}function ci(n,s){var l=n.style[s]||n.currentStyle&&n.currentStyle[s];if((!l||l==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(n,null);l=h?h[s]:null}return l==="auto"?null:l}function zt(n,s,l){var h=document.createElement(n);return h.className=s||"",l&&l.appendChild(h),h}function Yt(n){var s=n.parentNode;s&&s.removeChild(n)}function Hi(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Un(n){var s=n.parentNode;s&&s.lastChild!==n&&s.appendChild(n)}function ui(n){var s=n.parentNode;s&&s.firstChild!==n&&s.insertBefore(n,s.firstChild)}function ar(n,s){if(n.classList!==void 0)return n.classList.contains(s);var l=en(n);return l.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(l)}function It(n,s){if(n.classList!==void 0)for(var l=$(s),h=0,p=l.length;h<p;h++)n.classList.add(l[h]);else if(!ar(n,s)){var g=en(n);lr(n,(g?g+" ":"")+s)}}function ie(n,s){n.classList!==void 0?n.classList.remove(s):lr(n,z((" "+en(n)+" ").replace(" "+s+" "," ")))}function lr(n,s){n.className.baseVal===void 0?n.className=s:n.className.baseVal=s}function en(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function ae(n,s){"opacity"in n.style?n.style.opacity=s:"filter"in n.style&&fs(n,s)}function fs(n,s){var l=!1,h="DXImageTransform.Microsoft.Alpha";try{l=n.filters.item(h)}catch{if(s===1)return}s=Math.round(s*100),l?(l.Enabled=s!==100,l.Opacity=s):n.style.filter+=" progid:"+h+"(opacity="+s+")"}function Fn(n){for(var s=document.documentElement.style,l=0;l<n.length;l++)if(n[l]in s)return n[l];return!1}function In(n,s,l){var h=s||new tt(0,0);n.style[Fi]=(ht.ie3d?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(l?" scale("+l+")":"")}function Tt(n,s){n._leaflet_pos=s,ht.any3d?In(n,s):(n.style.left=s.x+"px",n.style.top=s.y+"px")}function nn(n){return n._leaflet_pos||new tt(0,0)}var pn,mn,cr;if("onselectstart"in document)pn=function(){vt(window,"selectstart",re)},mn=function(){qt(window,"selectstart",re)};else{var hi=Fn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);pn=function(){if(hi){var n=document.documentElement.style;cr=n[hi],n[hi]="none"}},mn=function(){hi&&(document.documentElement.style[hi]=cr,cr=void 0)}}function ur(){vt(window,"dragstart",re)}function hr(){qt(window,"dragstart",re)}var ds,fr;function jn(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Ve(),ds=n,fr=n.style.outlineStyle,n.style.outlineStyle="none",vt(window,"keydown",Ve))}function Ve(){ds&&(ds.style.outlineStyle=fr,ds=void 0,fr=void 0,qt(window,"keydown",Ve))}function dr(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function ps(n){var s=n.getBoundingClientRect();return{x:s.width/n.offsetWidth||1,y:s.height/n.offsetHeight||1,boundingClientRect:s}}var Co={__proto__:null,TRANSFORM:Fi,TRANSITION:ji,TRANSITION_END:rr,get:or,getStyle:ci,create:zt,remove:Yt,empty:Hi,toFront:Un,toBack:ui,hasClass:ar,addClass:It,removeClass:ie,setClass:lr,getClass:en,setOpacity:ae,testProp:Fn,setTransform:In,setPosition:Tt,getPosition:nn,get disableTextSelection(){return pn},get enableTextSelection(){return mn},disableImageDrag:ur,enableImageDrag:hr,preventOutline:jn,restoreOutline:Ve,getSizedParentNode:dr,getScale:ps};function vt(n,s,l,h){if(s&&typeof s=="object")for(var p in s)pr(n,p,s[p],l);else{s=$(s);for(var g=0,S=s.length;g<S;g++)pr(n,s[g],l,h)}return this}var sn="_leaflet_events";function qt(n,s,l,h){if(arguments.length===1)xo(n),delete n[sn];else if(s&&typeof s=="object")for(var p in s)mr(n,p,s[p],l);else if(s=$(s),arguments.length===2)xo(n,function(B){return st(s,B)!==-1});else for(var g=0,S=s.length;g<S;g++)mr(n,s[g],l,h);return this}function xo(n,s){for(var l in n[sn]){var h=l.split(/\d/)[0];(!s||s(h))&&mr(n,h,null,null,l)}}var rn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pr(n,s,l,h){var p=s+m(l)+(h?"_"+m(h):"");if(n[sn]&&n[sn][p])return this;var g=function(B){return l.call(h||n,B||window.event)},S=g;!ht.touchNative&&ht.pointer&&s.indexOf("touch")===0?g=Eo(n,s,g):ht.touch&&s==="dblclick"?g=Ui(n,g):"addEventListener"in n?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?n.addEventListener(rn[s]||s,g,ht.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(g=function(B){B=B||window.event,gr(n,B)&&S(B)},n.addEventListener(rn[s],g,!1)):n.addEventListener(s,S,!1):n.attachEvent("on"+s,g),n[sn]=n[sn]||{},n[sn][p]=g}function mr(n,s,l,h,p){p=p||s+m(l)+(h?"_"+m(h):"");var g=n[sn]&&n[sn][p];if(!g)return this;!ht.touchNative&&ht.pointer&&s.indexOf("touch")===0?Po(n,s,g):ht.touch&&s==="dblclick"?zn(n,g):"removeEventListener"in n?n.removeEventListener(rn[s]||s,g,!1):n.detachEvent("on"+s,g),n[sn][p]=null}function on(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function fi(n){return pr(n,"wheel",on),this}function di(n){return vt(n,"mousedown touchstart dblclick contextmenu",on),n._leaflet_disable_click=!0,this}function re(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function We(n){return re(n),on(n),this}function _r(n){if(n.composedPath)return n.composedPath();for(var s=[],l=n.target;l;)s.push(l),l=l.parentNode;return s}function ms(n,s){if(!s)return new tt(n.clientX,n.clientY);var l=ps(s),h=l.boundingClientRect;return new tt((n.clientX-h.left)/l.x-s.clientLeft,(n.clientY-h.top)/l.y-s.clientTop)}var oe=ht.linux&&ht.chrome?window.devicePixelRatio:ht.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ao(n){return ht.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/oe:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function gr(n,s){var l=s.relatedTarget;if(!l)return!0;try{for(;l&&l!==n;)l=l.parentNode}catch{return!1}return l!==n}var Lo={__proto__:null,on:vt,off:qt,stopPropagation:on,disableScrollPropagation:fi,disableClickPropagation:di,preventDefault:re,stop:We,getPropagationPath:_r,getMousePosition:ms,getWheelDelta:Ao,isExternalTarget:gr,addListener:vt,removeListener:qt},vr=xt.extend({run:function(n,s,l,h){this.stop(),this._el=n,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=nn(n),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=x(this._animate,this),this._step()},_step:function(n){var s=+new Date-this._startTime,l=this._duration*1e3;s<l?this._runFrame(this._easeOut(s/l),n):(this._runFrame(1),this._complete())},_runFrame:function(n,s){var l=this._startPos.add(this._offset.multiplyBy(n));s&&l._round(),Tt(this._el,l),this.fire("step")},_complete:function(){O(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Mt=xt.extend({options:{crs:P,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,s){s=Z(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(gt(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ji&&ht.any3d&&!ht.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),vt(this._proxy,rr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,s,l){if(s=s===void 0?this._zoom:this._limitZoom(s),n=this._limitCenter(gt(n),s,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var h=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,s,l.zoom):this._tryAnimatedPan(n,l.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(n,s,l.pan&&l.pan.noMoveStart),this},setZoom:function(n,s){return this._loaded?this.setView(this.getCenter(),n,{zoom:s}):(this._zoom=n,this)},zoomIn:function(n,s){return n=n||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,s)},zoomOut:function(n,s){return n=n||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,s)},setZoomAround:function(n,s,l){var h=this.getZoomScale(s),p=this.getSize().divideBy(2),g=n instanceof tt?n:this.latLngToContainerPoint(n),S=g.subtract(p).multiplyBy(1-1/h),B=this.containerPointToLatLng(p.add(S));return this.setView(B,s,{zoom:l})},_getBoundsCenterZoom:function(n,s){s=s||{},n=n.getBounds?n.getBounds():Gt(n);var l=ft(s.paddingTopLeft||s.padding||[0,0]),h=ft(s.paddingBottomRight||s.padding||[0,0]),p=this.getBoundsZoom(n,!1,l.add(h));if(p=typeof s.maxZoom=="number"?Math.min(s.maxZoom,p):p,p===1/0)return{center:n.getCenter(),zoom:p};var g=h.subtract(l).divideBy(2),S=this.project(n.getSouthWest(),p),B=this.project(n.getNorthEast(),p),U=this.unproject(S.add(B).divideBy(2).add(g),p);return{center:U,zoom:p}},fitBounds:function(n,s){if(n=Gt(n),!n.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(n,s);return this.setView(l.center,l.zoom,s)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,s){return this.setView(n,this._zoom,{pan:s})},panBy:function(n,s){if(n=ft(n).round(),s=s||{},!n.x&&!n.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new vr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){It(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,l,s.duration||.25,s.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,s,l){if(l=l||{},l.animate===!1||!ht.any3d)return this.setView(n,s,l);this._stop();var h=this.project(this.getCenter()),p=this.project(n),g=this.getSize(),S=this._zoom;n=gt(n),s=s===void 0?S:s;var B=Math.max(g.x,g.y),U=B*this.getZoomScale(S,s),G=p.distanceTo(h)||1,ot=1.42,yt=ot*ot;function Rt(he){var Zo=he?-1:1,wp=he?U:B,bp=U*U-B*B+Zo*yt*yt*G*G,Tp=2*wp*yt*G,$a=bp/Tp,Gc=Math.sqrt($a*$a+1)-$a,Ep=Gc<1e-9?-18:Math.log(Gc);return Ep}function Ae(he){return(Math.exp(he)-Math.exp(-he))/2}function ve(he){return(Math.exp(he)+Math.exp(-he))/2}function an(he){return Ae(he)/ve(he)}var Ue=Rt(0);function xs(he){return B*(ve(Ue)/ve(Ue+ot*he))}function _p(he){return B*(ve(Ue)*an(Ue+ot*he)-Ae(Ue))/yt}function gp(he){return 1-Math.pow(1-he,1.5)}var vp=Date.now(),Zc=(Rt(1)-Ue)/ot,yp=l.duration?1e3*l.duration:1e3*Zc*.8;function $c(){var he=(Date.now()-vp)/yp,Zo=gp(he)*Zc;he<=1?(this._flyToFrame=x($c,this),this._move(this.unproject(h.add(p.subtract(h).multiplyBy(_p(Zo)/G)),S),this.getScaleZoom(B/xs(Zo),S),{flyTo:!0})):this._move(n,s)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),$c.call(this),this},flyToBounds:function(n,s){var l=this._getBoundsCenterZoom(n,s);return this.flyTo(l.center,l.zoom,s)},setMaxBounds:function(n){return n=Gt(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var s=this.options.minZoom;return this.options.minZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var s=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&s!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,s){this._enforcingBounds=!0;var l=this.getCenter(),h=this._limitCenter(l,this._zoom,Gt(n));return l.equals(h)||this.panTo(h,s),this._enforcingBounds=!1,this},panInside:function(n,s){s=s||{};var l=ft(s.paddingTopLeft||s.padding||[0,0]),h=ft(s.paddingBottomRight||s.padding||[0,0]),p=this.project(this.getCenter()),g=this.project(n),S=this.getPixelBounds(),B=Lt([S.min.add(l),S.max.subtract(h)]),U=B.getSize();if(!B.contains(g)){this._enforcingBounds=!0;var G=g.subtract(B.getCenter()),ot=B.extend(g).getSize().subtract(U);p.x+=G.x<0?-ot.x:ot.x,p.y+=G.y<0?-ot.y:ot.y,this.panTo(this.unproject(p),s),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=o({animate:!1,pan:!0},n===!0?{animate:!0}:n);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),h=s.divideBy(2).round(),p=l.divideBy(2).round(),g=h.subtract(p);return!g.x&&!g.y?this:(n.animate&&n.pan?this.panBy(g):(n.pan&&this._rawPanBy(g),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=o({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,l,n):navigator.geolocation.getCurrentPosition(s,l,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var s=n.code,l=n.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var s=n.coords.latitude,l=n.coords.longitude,h=new At(s,l),p=h.toBounds(n.coords.accuracy*2),g=this._locateOptions;if(g.setView){var S=this.getBoundsZoom(p);this.setView(h,g.maxZoom?Math.min(S,g.maxZoom):S)}var B={latlng:h,bounds:p,timestamp:n.timestamp};for(var U in n.coords)typeof n.coords[U]=="number"&&(B[U]=n.coords[U]);this.fire("locationfound",B)}},addHandler:function(n,s){if(!s)return this;var l=this[n]=new s(this);return this._handlers.push(l),this.options[n]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Yt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(O(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)Yt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,s){var l="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),h=zt("div",l,s||this._mapPane);return n&&(this._panes[n]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),s=this.unproject(n.getBottomLeft()),l=this.unproject(n.getTopRight());return new kt(s,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,s,l){n=Gt(n),l=ft(l||[0,0]);var h=this.getZoom()||0,p=this.getMinZoom(),g=this.getMaxZoom(),S=n.getNorthWest(),B=n.getSouthEast(),U=this.getSize().subtract(l),G=Lt(this.project(B,h),this.project(S,h)).getSize(),ot=ht.any3d?this.options.zoomSnap:1,yt=U.x/G.x,Rt=U.y/G.y,Ae=s?Math.max(yt,Rt):Math.min(yt,Rt);return h=this.getScaleZoom(Ae,h),ot&&(h=Math.round(h/(ot/100))*(ot/100),h=s?Math.ceil(h/ot)*ot:Math.floor(h/ot)*ot),Math.max(p,Math.min(g,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new tt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,s){var l=this._getTopLeftPoint(n,s);return new Nt(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,s){var l=this.options.crs;return s=s===void 0?this._zoom:s,l.scale(n)/l.scale(s)},getScaleZoom:function(n,s){var l=this.options.crs;s=s===void 0?this._zoom:s;var h=l.zoom(n*l.scale(s));return isNaN(h)?1/0:h},project:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(gt(n),s)},unproject:function(n,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(ft(n),s)},layerPointToLatLng:function(n){var s=ft(n).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(n){var s=this.project(gt(n))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(gt(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(Gt(n))},distance:function(n,s){return this.options.crs.distance(gt(n),gt(s))},containerPointToLayerPoint:function(n){return ft(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return ft(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var s=this.containerPointToLayerPoint(ft(n));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(gt(n)))},mouseEventToContainerPoint:function(n){return ms(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var s=this._container=or(n);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");vt(s,"scroll",this._onScroll,this),this._containerId=m(s)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&ht.any3d,It(n,"leaflet-container"+(ht.touch?" leaflet-touch":"")+(ht.retina?" leaflet-retina":"")+(ht.ielt9?" leaflet-oldie":"")+(ht.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=ci(n,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Tt(this._mapPane,new tt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(It(n.markerPane,"leaflet-zoom-hide"),It(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,s,l){Tt(this._mapPane,new tt(0,0));var h=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var p=this._zoom!==s;this._moveStart(p,l)._move(n,s)._moveEnd(p),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(n,s){return n&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(n,s,l,h){s===void 0&&(s=this._zoom);var p=this._zoom!==s;return this._zoom=s,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),h?l&&l.pinch&&this.fire("zoom",l):((p||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return O(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Tt(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[m(this._container)]=this;var s=n?qt:vt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),ht.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){O(this._resizeRequest),this._resizeRequest=x(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,s){for(var l=[],h,p=s==="mouseout"||s==="mouseover",g=n.target||n.srcElement,S=!1;g;){if(h=this._targets[m(g)],h&&(s==="click"||s==="preclick")&&this._draggableMoved(h)){S=!0;break}if(h&&h.listens(s,!0)&&(p&&!gr(g,n)||(l.push(h),p))||g===this._container)break;g=g.parentNode}return!l.length&&!S&&!p&&this.listens(s,!0)&&(l=[this]),l},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var s=n.target||n.srcElement;if(!(!this._loaded||s._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(s))){var l=n.type;l==="mousedown"&&jn(s),this._fireDOMEvent(n,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,s,l){if(n.type==="click"){var h=o({},n);h.type="preclick",this._fireDOMEvent(h,h.type,l)}var p=this._findEventTargets(n,s);if(l){for(var g=[],S=0;S<l.length;S++)l[S].listens(s,!0)&&g.push(l[S]);p=g.concat(p)}if(p.length){s==="contextmenu"&&re(n);var B=p[0],U={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var G=B.getLatLng&&(!B._radius||B._radius<=10);U.containerPoint=G?this.latLngToContainerPoint(B.getLatLng()):this.mouseEventToContainerPoint(n),U.layerPoint=this.containerPointToLayerPoint(U.containerPoint),U.latlng=G?B.getLatLng():this.layerPointToLatLng(U.layerPoint)}for(S=0;S<p.length;S++)if(p[S].fire(s,U,!0),U.originalEvent._stopped||p[S].options.bubblingMouseEvents===!1&&st(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,s=this._handlers.length;n<s;n++)this._handlers[n].disable()},whenReady:function(n,s){return this._loaded?n.call(s||this,{target:this}):this.on("load",n,s),this},_getMapPanePos:function(){return nn(this._mapPane)||new tt(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,s){var l=n&&s!==void 0?this._getNewPixelOrigin(n,s):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,s){var l=this.getSize()._divideBy(2);return this.project(n,s)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,s,l){var h=this._getNewPixelOrigin(l,s);return this.project(n,s)._subtract(h)},_latLngBoundsToNewLayerBounds:function(n,s,l){var h=this._getNewPixelOrigin(l,s);return Lt([this.project(n.getSouthWest(),s)._subtract(h),this.project(n.getNorthWest(),s)._subtract(h),this.project(n.getSouthEast(),s)._subtract(h),this.project(n.getNorthEast(),s)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,s,l){if(!l)return n;var h=this.project(n,s),p=this.getSize().divideBy(2),g=new Nt(h.subtract(p),h.add(p)),S=this._getBoundsOffset(g,l,s);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?n:this.unproject(h.add(S),s)},_limitOffset:function(n,s){if(!s)return n;var l=this.getPixelBounds(),h=new Nt(l.min.add(n),l.max.add(n));return n.add(this._getBoundsOffset(h,s))},_getBoundsOffset:function(n,s,l){var h=Lt(this.project(s.getNorthEast(),l),this.project(s.getSouthWest(),l)),p=h.min.subtract(n.min),g=h.max.subtract(n.max),S=this._rebound(p.x,-g.x),B=this._rebound(p.y,-g.y);return new tt(S,B)},_rebound:function(n,s){return n+s>0?Math.round(n-s)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(s))},_limitZoom:function(n){var s=this.getMinZoom(),l=this.getMaxZoom(),h=ht.any3d?this.options.zoomSnap:1;return h&&(n=Math.round(n/h)*h),Math.max(s,Math.min(l,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ie(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,s){var l=this._getCenterOffset(n)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,s),!0)},_createAnimProxy:function(){var n=this._proxy=zt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(s){var l=Fi,h=this._proxy.style[l];In(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),h===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Yt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),s=this.getZoom();In(this._proxy,this.project(n,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,s,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(s),p=this._getCenterOffset(n)._divideBy(1-1/h);return l.animate!==!0&&!this.getSize().contains(p)?!1:(x(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(n,s,!0)},this),!0)},_animateZoom:function(n,s,l,h){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=s,It(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:s,noUpdate:h}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ie(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function _s(n,s){return new Mt(n,s)}var Be=ee.extend({options:{position:"topright"},initialize:function(n){Z(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var s=this._map;return s&&s.removeControl(this),this.options.position=n,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var s=this._container=this.onAdd(n),l=this.getPosition(),h=n._controlCorners[l];return It(s,"leaflet-control"),l.indexOf("bottom")!==-1?h.insertBefore(s,h.firstChild):h.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Yt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Ce=function(n){return new Be(n)};Mt.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},s="leaflet-",l=this._controlContainer=zt("div",s+"control-container",this._container);function h(p,g){var S=s+p+" "+s+g;n[p+g]=zt("div",S,l)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)Yt(this._controlCorners[n]);Yt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var yr=Be.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,s,l,h){return l<h?-1:h<l?1:0}},initialize:function(n,s,l){Z(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var h in n)this._addLayer(n[h],h);for(h in s)this._addLayer(s[h],h,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Be.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,s){return this._addLayer(n,s),this._map?this._update():this},addOverlay:function(n,s){return this._addLayer(n,s,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var s=this._getLayer(m(n));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){It(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(It(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):ie(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ie(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",s=this._container=zt("div",n),l=this.options.collapsed;s.setAttribute("aria-haspopup",!0),di(s),fi(s);var h=this._section=zt("section",n+"-list");l&&(this._map.on("click",this.collapse,this),vt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=zt("a",n+"-toggle",s);p.href="#",p.title="Layers",p.setAttribute("role","button"),vt(p,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){re(g),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=zt("div",n+"-base",h),this._separator=zt("div",n+"-separator",h),this._overlaysList=zt("div",n+"-overlays",h),s.appendChild(h)},_getLayer:function(n){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&m(this._layers[s].layer)===n)return this._layers[s]},_addLayer:function(n,s,l){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:s,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(h,p){return this.options.sortFunction(h.layer,p.layer,h.name,p.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hi(this._baseLayersList),Hi(this._overlaysList),this._layerControlInputs=[];var n,s,l,h,p=0;for(l=0;l<this._layers.length;l++)h=this._layers[l],this._addItem(h),s=s||h.overlay,n=n||!h.overlay,p+=h.overlay?0:1;return this.options.hideSingleBase&&(n=n&&p>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=s&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var s=this._getLayer(m(n.target)),l=s.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;l&&this._map.fire(l,s)},_createRadioElement:function(n,s){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(s?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=l,h.firstChild},_addItem:function(n){var s=document.createElement("label"),l=this._map.hasLayer(n.layer),h;n.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=l):h=this._createRadioElement("leaflet-base-layers_"+m(this),l),this._layerControlInputs.push(h),h.layerId=m(n.layer),vt(h,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+n.name;var g=document.createElement("span");s.appendChild(g),g.appendChild(h),g.appendChild(p);var S=n.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,s,l,h=[],p=[];this._handlingClick=!0;for(var g=n.length-1;g>=0;g--)s=n[g],l=this._getLayer(s.layerId).layer,s.checked?h.push(l):s.checked||p.push(l);for(g=0;g<p.length;g++)this._map.hasLayer(p[g])&&this._map.removeLayer(p[g]);for(g=0;g<h.length;g++)this._map.hasLayer(h[g])||this._map.addLayer(h[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,s,l,h=this._map.getZoom(),p=n.length-1;p>=0;p--)s=n[p],l=this._getLayer(s.layerId).layer,s.disabled=l.options.minZoom!==void 0&&h<l.options.minZoom||l.options.maxZoom!==void 0&&h>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,vt(n,"click",re),this.expand();var s=this;setTimeout(function(){qt(n,"click",re),s._preventClick=!1})}}),Fa=function(n,s,l){return new yr(n,s,l)},Hn=Be.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var s="leaflet-control-zoom",l=zt("div",s+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,s+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,s+"-out",l,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,s,l,h,p){var g=zt("a",l,h);return g.innerHTML=n,g.href="#",g.title=s,g.setAttribute("role","button"),g.setAttribute("aria-label",s),di(g),vt(g,"click",We),vt(g,"click",p,this),vt(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var n=this._map,s="leaflet-disabled";ie(this._zoomInButton,s),ie(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(It(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(It(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Mt.mergeOptions({zoomControl:!0}),Mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hn,this.addControl(this.zoomControl))});var ko=function(n){return new Hn(n)},gs=Be.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var s="leaflet-control-scale",l=zt("div",s),h=this.options;return this._addScales(h,s+"-line",l),n.on(h.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),l},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,s,l){n.metric&&(this._mScale=zt("div",s,l)),n.imperial&&(this._iScale=zt("div",s,l))},_update:function(){var n=this._map,s=n.getSize().y/2,l=n.distance(n.containerPointToLatLng([0,s]),n.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var s=this._getRoundNum(n),l=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,l,s/n)},_updateImperial:function(n){var s=n*3.2808399,l,h,p;s>5280?(l=s/5280,h=this._getRoundNum(l),this._updateScale(this._iScale,h+" mi",h/l)):(p=this._getRoundNum(s),this._updateScale(this._iScale,p+" ft",p/s))},_updateScale:function(n,s,l){n.style.width=Math.round(this.options.maxWidth*l)+"px",n.innerHTML=s},_getRoundNum:function(n){var s=Math.pow(10,(Math.floor(n)+"").length-1),l=n/s;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,s*l}}),vs=function(n){return new gs(n)},Ro='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pi=Be.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ht.inlineSvg?Ro+" ":"")+"Leaflet</a>"},initialize:function(n){Z(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=zt("div","leaflet-control-attribution"),di(this._container);for(var s in n._layers)n._layers[s].getAttribution&&this.addAttribution(n._layers[s].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var s in this._attributions)this._attributions[s]&&n.push(s);var l=[];this.options.prefix&&l.push(this.options.prefix),n.length&&l.push(n.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});Mt.mergeOptions({attributionControl:!0}),Mt.addInitHook(function(){this.options.attributionControl&&new pi().addTo(this)});var ja=function(n){return new pi(n)};Be.Layers=yr,Be.Zoom=Hn,Be.Scale=gs,Be.Attribution=pi,Ce.layers=Fa,Ce.zoom=ko,Ce.scale=vs,Ce.attribution=ja;var Ze=ee.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ze.addTo=function(n,s){return n.addHandler(s,this),this};var Vi={Events:Ft},wr=ht.touch?"touchstart mousedown":"mousedown",_n=xt.extend({options:{clickTolerance:3},initialize:function(n,s,l,h){Z(this,h),this._element=n,this._dragStartTarget=s||n,this._preventOutline=l},enable:function(){this._enabled||(vt(this._dragStartTarget,wr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_n._dragging===this&&this.finishDrag(!0),qt(this._dragStartTarget,wr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!ar(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){_n._dragging===this&&this.finishDrag();return}if(!(_n._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(_n._dragging=this,this._preventOutline&&jn(this._element),ur(),pn(),!this._moving)){this.fire("down");var s=n.touches?n.touches[0]:n,l=dr(this._element);this._startPoint=new tt(s.clientX,s.clientY),this._startPos=nn(this._element),this._parentScale=ps(l);var h=n.type==="mousedown";vt(document,h?"mousemove":"touchmove",this._onMove,this),vt(document,h?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var s=n.touches&&n.touches.length===1?n.touches[0]:n,l=new tt(s.clientX,s.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,re(n),this._moved||(this.fire("dragstart"),this._moved=!0,It(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),It(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Tt(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){ie(document.body,"leaflet-dragging"),this._lastTarget&&(ie(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),qt(document,"mousemove touchmove",this._onMove,this),qt(document,"mouseup touchend touchcancel",this._onUp,this),hr(),mn();var s=this._moved&&this._moving;this._moving=!1,_n._dragging=!1,s&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function ys(n,s,l){var h,p=[1,4,2,8],g,S,B,U,G,ot,yt,Rt;for(g=0,ot=n.length;g<ot;g++)n[g]._code=Sn(n[g],s);for(B=0;B<4;B++){for(yt=p[B],h=[],g=0,ot=n.length,S=ot-1;g<ot;S=g++)U=n[g],G=n[S],U._code&yt?G._code&yt||(Rt=Wi(G,U,yt,s,l),Rt._code=Sn(Rt,s),h.push(Rt)):(G._code&yt&&(Rt=Wi(G,U,yt,s,l),Rt._code=Sn(Rt,s),h.push(Rt)),h.push(U));n=h}return n}function ws(n,s){var l,h,p,g,S,B,U,G,ot;if(!n||n.length===0)throw new Error("latlngs not passed");f(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var yt=gt([0,0]),Rt=Gt(n),Ae=Rt.getNorthWest().distanceTo(Rt.getSouthWest())*Rt.getNorthEast().distanceTo(Rt.getNorthWest());Ae<1700&&(yt=bs(n));var ve=n.length,an=[];for(l=0;l<ve;l++){var Ue=gt(n[l]);an.push(s.project(gt([Ue.lat-yt.lat,Ue.lng-yt.lng])))}for(B=U=G=0,l=0,h=ve-1;l<ve;h=l++)p=an[l],g=an[h],S=p.y*g.x-g.y*p.x,U+=(p.x+g.x)*S,G+=(p.y+g.y)*S,B+=S*3;B===0?ot=an[0]:ot=[U/B,G/B];var xs=s.unproject(ft(ot));return gt([xs.lat+yt.lat,xs.lng+yt.lng])}function bs(n){for(var s=0,l=0,h=0,p=0;p<n.length;p++){var g=gt(n[p]);s+=g.lat,l+=g.lng,h++}return gt([s/h,l/h])}var Ts={__proto__:null,clipPolygon:ys,polygonCenter:ws,centroid:bs};function br(n,s){if(!s||!n.length)return n.slice();var l=s*s;return n=Mo(n,l),n=Oo(n,l),n}function Tr(n,s,l){return Math.sqrt(a(n,s,l,!0))}function Vn(n,s,l){return a(n,s,l)}function Oo(n,s){var l=n.length,h=typeof Uint8Array<"u"?Uint8Array:Array,p=new h(l);p[0]=p[l-1]=1,Es(n,p,s,0,l-1);var g,S=[];for(g=0;g<l;g++)p[g]&&S.push(n[g]);return S}function Es(n,s,l,h,p){var g=0,S,B,U;for(B=h+1;B<=p-1;B++)U=a(n[B],n[h],n[p],!0),U>g&&(S=B,g=U);g>l&&(s[S]=1,Es(n,s,l,h,S),Es(n,s,l,S,p))}function Mo(n,s){for(var l=[n[0]],h=1,p=0,g=n.length;h<g;h++)mi(n[h],n[p])>s&&(l.push(n[h]),p=h);return p<g-1&&l.push(n[g-1]),l}var Er;function xe(n,s,l,h,p){var g=h?Er:Sn(n,l),S=Sn(s,l),B,U,G;for(Er=S;;){if(!(g|S))return[n,s];if(g&S)return!1;B=g||S,U=Wi(n,s,B,l,p),G=Sn(U,l),B===g?(n=U,g=G):(s=U,S=G)}}function Wi(n,s,l,h,p){var g=s.x-n.x,S=s.y-n.y,B=h.min,U=h.max,G,ot;return l&8?(G=n.x+g*(U.y-n.y)/S,ot=U.y):l&4?(G=n.x+g*(B.y-n.y)/S,ot=B.y):l&2?(G=U.x,ot=n.y+S*(U.x-n.x)/g):l&1&&(G=B.x,ot=n.y+S*(B.x-n.x)/g),new tt(G,ot,p)}function Sn(n,s){var l=0;return n.x<s.min.x?l|=1:n.x>s.max.x&&(l|=2),n.y<s.min.y?l|=4:n.y>s.max.y&&(l|=8),l}function mi(n,s){var l=s.x-n.x,h=s.y-n.y;return l*l+h*h}function a(n,s,l,h){var p=s.x,g=s.y,S=l.x-p,B=l.y-g,U=S*S+B*B,G;return U>0&&(G=((n.x-p)*S+(n.y-g)*B)/U,G>1?(p=l.x,g=l.y):G>0&&(p+=S*G,g+=B*G)),S=n.x-p,B=n.y-g,h?S*S+B*B:new tt(p,g)}function f(n){return!Q(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function _(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(n)}function v(n,s){var l,h,p,g,S,B,U,G;if(!n||n.length===0)throw new Error("latlngs not passed");f(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ot=gt([0,0]),yt=Gt(n),Rt=yt.getNorthWest().distanceTo(yt.getSouthWest())*yt.getNorthEast().distanceTo(yt.getNorthWest());Rt<1700&&(ot=bs(n));var Ae=n.length,ve=[];for(l=0;l<Ae;l++){var an=gt(n[l]);ve.push(s.project(gt([an.lat-ot.lat,an.lng-ot.lng])))}for(l=0,h=0;l<Ae-1;l++)h+=ve[l].distanceTo(ve[l+1])/2;if(h===0)G=ve[0];else for(l=0,g=0;l<Ae-1;l++)if(S=ve[l],B=ve[l+1],p=S.distanceTo(B),g+=p,g>h){U=(g-h)/p,G=[B.x-U*(B.x-S.x),B.y-U*(B.y-S.y)];break}var Ue=s.unproject(ft(G));return gt([Ue.lat+ot.lat,Ue.lng+ot.lng])}var N={__proto__:null,simplify:br,pointToSegmentDistance:Tr,closestPointOnSegment:Vn,clipSegment:xe,_getEdgeIntersection:Wi,_getBitCode:Sn,_sqClosestPointOnSegment:a,isFlat:f,_flat:_,polylineCenter:v},F={project:function(n){return new tt(n.lng,n.lat)},unproject:function(n){return new At(n.y,n.x)},bounds:new Nt([-180,-90],[180,90])},J={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Nt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var s=Math.PI/180,l=this.R,h=n.lat*s,p=this.R_MINOR/l,g=Math.sqrt(1-p*p),S=g*Math.sin(h),B=Math.tan(Math.PI/4-h/2)/Math.pow((1-S)/(1+S),g/2);return h=-l*Math.log(Math.max(B,1e-10)),new tt(n.lng*s*l,h)},unproject:function(n){for(var s=180/Math.PI,l=this.R,h=this.R_MINOR/l,p=Math.sqrt(1-h*h),g=Math.exp(-n.y/l),S=Math.PI/2-2*Math.atan(g),B=0,U=.1,G;B<15&&Math.abs(U)>1e-7;B++)G=p*Math.sin(S),G=Math.pow((1-G)/(1+G),p/2),U=Math.PI/2-2*Math.atan(g*G)-S,S+=U;return new At(S*s,n.x*s/l)}},Kt={__proto__:null,LonLat:F,Mercator:J,SphericalMercator:lt},de=o({},et,{code:"EPSG:3395",projection:J,transformation:function(){var n=.5/(Math.PI*J.R);return T(n,.5,-n,.5)}()}),Ut=o({},et,{code:"EPSG:4326",projection:F,transformation:T(1/180,1,-1/180,.5)}),ge=o({},j,{projection:F,transformation:T(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,s){var l=s.lng-n.lng,h=s.lat-n.lat;return Math.sqrt(l*l+h*h)},infinite:!0});j.Earth=et,j.EPSG3395=de,j.EPSG3857=P,j.EPSG900913=M,j.EPSG4326=Ut,j.Simple=ge;var Jt=xt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[m(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[m(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var s=n.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var l=this.getEvents();s.on(l,this),this.once("remove",function(){s.off(l,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Mt.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var s=m(n);return this._layers[s]?this:(this._layers[s]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var s=m(n);return this._layers[s]?(this._loaded&&n.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return m(n)in this._layers},eachLayer:function(n,s){for(var l in this._layers)n.call(s,this._layers[l]);return this},_addLayers:function(n){n=n?Q(n)?n:[n]:[];for(var s=0,l=n.length;s<l;s++)this.addLayer(n[s])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[m(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var s=m(n);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,s=-1/0,l=this._getZoomSpan();for(var h in this._zoomBoundLayers){var p=this._zoomBoundLayers[h].options;n=p.minZoom===void 0?n:Math.min(n,p.minZoom),s=p.maxZoom===void 0?s:Math.max(s,p.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=n===1/0?void 0:n,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var $e=Jt.extend({initialize:function(n,s){Z(this,s),this._layers={};var l,h;if(n)for(l=0,h=n.length;l<h;l++)this.addLayer(n[l])},addLayer:function(n){var s=this.getLayerId(n);return this._layers[s]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var s=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(n){var s=typeof n=="number"?n:this.getLayerId(n);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var s=Array.prototype.slice.call(arguments,1),l,h;for(l in this._layers)h=this._layers[l],h[n]&&h[n].apply(h,s);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,s){for(var l in this._layers)n.call(s,this._layers[l]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return m(n)}}),Ge=function(n,s){return new $e(n,s)},ze=$e.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),$e.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),$e.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new kt;for(var s in this._layers){var l=this._layers[s];n.extend(l.getBounds?l.getBounds():l.getLatLng())}return n}}),Pr=function(n,s){return new ze(n,s)},Ps=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){Z(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,s){var l=this._getIconUrl(n);if(!l){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(l,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(h,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),h},_setIconStyles:function(n,s){var l=this.options,h=l[s+"Size"];typeof h=="number"&&(h=[h,h]);var p=ft(h),g=ft(s==="shadow"&&l.shadowAnchor||l.iconAnchor||p&&p.divideBy(2,!0));n.className="leaflet-marker-"+s+" "+(l.className||""),g&&(n.style.marginLeft=-g.x+"px",n.style.marginTop=-g.y+"px"),p&&(n.style.width=p.x+"px",n.style.height=p.y+"px")},_createImg:function(n,s){return s=s||document.createElement("img"),s.src=n,s},_getIconUrl:function(n){return ht.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function Yd(n){return new Ps(n)}var Ir=Ps.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Ir.imagePath!="string"&&(Ir.imagePath=this._detectIconPath()),(this.options.imagePath||Ir.imagePath)+Ps.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var s=function(l,h,p){var g=h.exec(l);return g&&g[p]};return n=s(n,/^url\((['"])?(.+)\1\)$/,2),n&&s(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=zt("div","leaflet-default-icon-path",document.body),s=ci(n,"background-image")||ci(n,"backgroundImage");if(document.body.removeChild(n),s=this._stripUrl(s),s)return s;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),Sc=Ze.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new _n(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),It(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ie(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var s=this._marker,l=s._map,h=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,g=nn(s._icon),S=l.getPixelBounds(),B=l.getPixelOrigin(),U=Lt(S.min._subtract(B).add(p),S.max._subtract(B).subtract(p));if(!U.contains(g)){var G=ft((Math.max(U.max.x,g.x)-U.max.x)/(S.max.x-U.max.x)-(Math.min(U.min.x,g.x)-U.min.x)/(S.min.x-U.min.x),(Math.max(U.max.y,g.y)-U.max.y)/(S.max.y-U.max.y)-(Math.min(U.min.y,g.y)-U.min.y)/(S.min.y-U.min.y)).multiplyBy(h);l.panBy(G,{animate:!1}),this._draggable._newPos._add(G),this._draggable._startPos._add(G),Tt(s._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=x(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(O(this._panRequest),this._panRequest=x(this._adjustPan.bind(this,n)))},_onDrag:function(n){var s=this._marker,l=s._shadow,h=nn(s._icon),p=s._map.layerPointToLatLng(h);l&&Tt(l,h),s._latlng=p,n.latlng=p,n.oldLatLng=this._oldLatLng,s.fire("move",n).fire("drag",n)},_onDragEnd:function(n){O(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Do=Jt.extend({options:{icon:new Ir,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,s){Z(this,s),this._latlng=gt(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var s=this._latlng;return this._latlng=gt(n),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=n.icon.createIcon(this._icon),h=!1;l!==this._icon&&(this._icon&&this._removeIcon(),h=!0,n.title&&(l.title=n.title),l.tagName==="IMG"&&(l.alt=n.alt||"")),It(l,s),n.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&vt(l,"focus",this._panOnFocus,this);var p=n.icon.createShadow(this._shadow),g=!1;p!==this._shadow&&(this._removeShadow(),g=!0),p&&(It(p,s),p.alt=""),this._shadow=p,n.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&g&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&qt(this._icon,"focus",this._panOnFocus,this),Yt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Yt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Tt(this._icon,n),this._shadow&&Tt(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(It(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Sc)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Sc(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&ae(this._icon,n),this._shadow&&ae(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var s=this.options.icon.options,l=s.iconSize?ft(s.iconSize):ft(0,0),h=s.iconAnchor?ft(s.iconAnchor):ft(0,0);n.panInside(this._latlng,{paddingTopLeft:h,paddingBottomRight:l.subtract(h)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xd(n,s){return new Do(n,s)}var _i=Jt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return Z(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),No=_i.extend({options:{fill:!0,radius:10},initialize:function(n,s){Z(this,s),this._latlng=gt(n),this._radius=this.options.radius},setLatLng:function(n){var s=this._latlng;return this._latlng=gt(n),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var s=n&&n.radius||this._radius;return _i.prototype.setStyle.call(this,n),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,s=this._radiusY||n,l=this._clickTolerance(),h=[n+l,s+l];this._pxBounds=new Nt(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Qd(n,s){return new No(n,s)}var Ha=No.extend({initialize:function(n,s,l){if(typeof s=="number"&&(s=o({},l,{radius:s})),Z(this,s),this._latlng=gt(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new kt(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:_i.prototype.setStyle,_project:function(){var n=this._latlng.lng,s=this._latlng.lat,l=this._map,h=l.options.crs;if(h.distance===et.distance){var p=Math.PI/180,g=this._mRadius/et.R/p,S=l.project([s+g,n]),B=l.project([s-g,n]),U=S.add(B).divideBy(2),G=l.unproject(U).lat,ot=Math.acos((Math.cos(g*p)-Math.sin(s*p)*Math.sin(G*p))/(Math.cos(s*p)*Math.cos(G*p)))/p;(isNaN(ot)||ot===0)&&(ot=g/Math.cos(Math.PI/180*s)),this._point=U.subtract(l.getPixelOrigin()),this._radius=isNaN(ot)?0:U.x-l.project([G,n-ot]).x,this._radiusY=U.y-S.y}else{var yt=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(yt).x}this._updateBounds()}});function tp(n,s,l){return new Ha(n,s,l)}var Wn=_i.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,s){Z(this,s),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var s=1/0,l=null,h=a,p,g,S=0,B=this._parts.length;S<B;S++)for(var U=this._parts[S],G=1,ot=U.length;G<ot;G++){p=U[G-1],g=U[G];var yt=h(n,p,g,!0);yt<s&&(s=yt,l=h(n,p,g))}return l&&(l.distance=Math.sqrt(s)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return v(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,s){return s=s||this._defaultShape(),n=gt(n),s.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new kt,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var s=[],l=f(n),h=0,p=n.length;h<p;h++)l?(s[h]=gt(n[h]),this._bounds.extend(s[h])):s[h]=this._convertLatLngs(n[h]);return s},_project:function(){var n=new Nt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),s=new tt(n,n);this._rawPxBounds&&(this._pxBounds=new Nt([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(n,s,l){var h=n[0]instanceof At,p=n.length,g,S;if(h){for(S=[],g=0;g<p;g++)S[g]=this._map.latLngToLayerPoint(n[g]),l.extend(S[g]);s.push(S)}else for(g=0;g<p;g++)this._projectLatlngs(n[g],s,l)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,l,h,p,g,S,B,U;for(l=0,p=0,g=this._rings.length;l<g;l++)for(U=this._rings[l],h=0,S=U.length;h<S-1;h++)B=xe(U[h],U[h+1],n,h,!0),B&&(s[p]=s[p]||[],s[p].push(B[0]),(B[1]!==U[h+1]||h===S-2)&&(s[p].push(B[1]),p++))}},_simplifyPoints:function(){for(var n=this._parts,s=this.options.smoothFactor,l=0,h=n.length;l<h;l++)n[l]=br(n[l],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,s){var l,h,p,g,S,B,U=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(l=0,g=this._parts.length;l<g;l++)for(B=this._parts[l],h=0,S=B.length,p=S-1;h<S;p=h++)if(!(!s&&h===0)&&Tr(n,B[p],B[h])<=U)return!0;return!1}});function ep(n,s){return new Wn(n,s)}Wn._flat=_;var Is=Wn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ws(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var s=Wn.prototype._convertLatLngs.call(this,n),l=s.length;return l>=2&&s[0]instanceof At&&s[0].equals(s[l-1])&&s.pop(),s},_setLatLngs:function(n){Wn.prototype._setLatLngs.call(this,n),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,s=this.options.weight,l=new tt(s,s);if(n=new Nt(n.min.subtract(l),n.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,p=this._rings.length,g;h<p;h++)g=ys(this._rings[h],n,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var s=!1,l,h,p,g,S,B,U,G;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(g=0,U=this._parts.length;g<U;g++)for(l=this._parts[g],S=0,G=l.length,B=G-1;S<G;B=S++)h=l[S],p=l[B],h.y>n.y!=p.y>n.y&&n.x<(p.x-h.x)*(n.y-h.y)/(p.y-h.y)+h.x&&(s=!s);return s||Wn.prototype._containsPoint.call(this,n,!0)}});function np(n,s){return new Is(n,s)}var Zn=ze.extend({initialize:function(n,s){Z(this,s),this._layers={},n&&this.addData(n)},addData:function(n){var s=Q(n)?n:n.features,l,h,p;if(s){for(l=0,h=s.length;l<h;l++)p=s[l],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var g=this.options;if(g.filter&&!g.filter(n))return this;var S=Bo(n,g);return S?(S.feature=Fo(n),S.defaultOptions=S.options,this.resetStyle(S),g.onEachFeature&&g.onEachFeature(n,S),this.addLayer(S)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=o({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(s){this._setLayerStyle(s,n)},this)},_setLayerStyle:function(n,s){n.setStyle&&(typeof s=="function"&&(s=s(n.feature)),n.setStyle(s))}});function Bo(n,s){var l=n.type==="Feature"?n.geometry:n,h=l?l.coordinates:null,p=[],g=s&&s.pointToLayer,S=s&&s.coordsToLatLng||Va,B,U,G,ot;if(!h&&!l)return null;switch(l.type){case"Point":return B=S(h),Cc(g,n,B,s);case"MultiPoint":for(G=0,ot=h.length;G<ot;G++)B=S(h[G]),p.push(Cc(g,n,B,s));return new ze(p);case"LineString":case"MultiLineString":return U=zo(h,l.type==="LineString"?0:1,S),new Wn(U,s);case"Polygon":case"MultiPolygon":return U=zo(h,l.type==="Polygon"?1:2,S),new Is(U,s);case"GeometryCollection":for(G=0,ot=l.geometries.length;G<ot;G++){var yt=Bo({geometry:l.geometries[G],type:"Feature",properties:n.properties},s);yt&&p.push(yt)}return new ze(p);case"FeatureCollection":for(G=0,ot=l.features.length;G<ot;G++){var Rt=Bo(l.features[G],s);Rt&&p.push(Rt)}return new ze(p);default:throw new Error("Invalid GeoJSON object.")}}function Cc(n,s,l,h){return n?n(s,l):new Do(l,h&&h.markersInheritOptions&&h)}function Va(n){return new At(n[1],n[0],n[2])}function zo(n,s,l){for(var h=[],p=0,g=n.length,S;p<g;p++)S=s?zo(n[p],s-1,l):(l||Va)(n[p]),h.push(S);return h}function Wa(n,s){return n=gt(n),n.alt!==void 0?[R(n.lng,s),R(n.lat,s),R(n.alt,s)]:[R(n.lng,s),R(n.lat,s)]}function Uo(n,s,l,h){for(var p=[],g=0,S=n.length;g<S;g++)p.push(s?Uo(n[g],f(n[g])?0:s-1,l,h):Wa(n[g],h));return!s&&l&&p.length>0&&p.push(p[0].slice()),p}function Ss(n,s){return n.feature?o({},n.feature,{geometry:s}):Fo(s)}function Fo(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Za={toGeoJSON:function(n){return Ss(this,{type:"Point",coordinates:Wa(this.getLatLng(),n)})}};Do.include(Za),Ha.include(Za),No.include(Za),Wn.include({toGeoJSON:function(n){var s=!f(this._latlngs),l=Uo(this._latlngs,s?1:0,!1,n);return Ss(this,{type:(s?"Multi":"")+"LineString",coordinates:l})}}),Is.include({toGeoJSON:function(n){var s=!f(this._latlngs),l=s&&!f(this._latlngs[0]),h=Uo(this._latlngs,l?2:s?1:0,!0,n);return s||(h=[h]),Ss(this,{type:(l?"Multi":"")+"Polygon",coordinates:h})}}),$e.include({toMultiPoint:function(n){var s=[];return this.eachLayer(function(l){s.push(l.toGeoJSON(n).geometry.coordinates)}),Ss(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(n){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(n);var l=s==="GeometryCollection",h=[];return this.eachLayer(function(p){if(p.toGeoJSON){var g=p.toGeoJSON(n);if(l)h.push(g.geometry);else{var S=Fo(g);S.type==="FeatureCollection"?h.push.apply(h,S.features):h.push(S)}}}),l?Ss(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function xc(n,s){return new Zn(n,s)}var ip=xc,jo=Jt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,s,l){this._url=n,this._bounds=Gt(s),Z(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(It(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Yt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Un(this._image),this},bringToBack:function(){return this._map&&ui(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=Gt(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",s=this._image=n?this._url:zt("img");if(It(s,"leaflet-image-layer"),this._zoomAnimated&&It(s,"leaflet-zoom-animated"),this.options.className&&It(s,this.options.className),s.onselectstart=w,s.onmousemove=w,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(n){var s=this._map.getZoomScale(n.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;In(this._image,l,s)},_reset:function(){var n=this._image,s=new Nt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=s.getSize();Tt(n,s.min),n.style.width=l.x+"px",n.style.height=l.y+"px"},_updateOpacity:function(){ae(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),sp=function(n,s,l){return new jo(n,s,l)},Ac=jo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",s=this._image=n?this._url:zt("video");if(It(s,"leaflet-image-layer"),this._zoomAnimated&&It(s,"leaflet-zoom-animated"),this.options.className&&It(s,this.options.className),s.onselectstart=w,s.onmousemove=w,s.onloadeddata=u(this.fire,this,"load"),n){for(var l=s.getElementsByTagName("source"),h=[],p=0;p<l.length;p++)h.push(l[p].src);this._url=l.length>0?h:[s.src];return}Q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var S=zt("source");S.src=this._url[g],s.appendChild(S)}}});function rp(n,s,l){return new Ac(n,s,l)}var Lc=jo.extend({_initImage:function(){var n=this._image=this._url;It(n,"leaflet-image-layer"),this._zoomAnimated&&It(n,"leaflet-zoom-animated"),this.options.className&&It(n,this.options.className),n.onselectstart=w,n.onmousemove=w}});function op(n,s,l){return new Lc(n,s,l)}var Cn=Jt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,s){n&&(n instanceof At||Q(n))?(this._latlng=gt(n),Z(this,s)):(Z(this,n),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&ae(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&ae(this._container,1),this.bringToFront(),this.options.interactive&&(It(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(ae(this._container,0),this._removeTimeout=setTimeout(u(Yt,void 0,this._container),200)):Yt(this._container),this.options.interactive&&(ie(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=gt(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Un(this._container),this},bringToBack:function(){return this._map&&ui(this._container),this},_prepareOpen:function(n){var s=this._source;if(!s._map)return!1;if(s instanceof ze){s=null;var l=this._source._layers;for(var h in l)if(l[h]._map){s=l[h];break}if(!s)return!1;this._source=s}if(!n)if(s.getCenter)n=s.getCenter();else if(s.getLatLng)n=s.getLatLng();else if(s.getBounds)n=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")n.innerHTML=s;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),s=ft(this.options.offset),l=this._getAnchor();this._zoomAnimated?Tt(this._container,n.add(l)):s=s.add(n).add(l);var h=this._containerBottom=-s.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=h+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});Mt.include({_initOverlay:function(n,s,l,h){var p=s;return p instanceof n||(p=new n(h).setContent(s)),l&&p.setLatLng(l),p}}),Jt.include({_initOverlay:function(n,s,l,h){var p=l;return p instanceof n?(Z(p,h),p._source=this):(p=s&&!h?s:new n(h,this),p.setContent(l)),p}});var Ho=Cn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,Cn.prototype.openOn.call(this,n)},onAdd:function(n){Cn.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof _i||this._source.on("preclick",on))},onRemove:function(n){Cn.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof _i||this._source.off("preclick",on))},getEvents:function(){var n=Cn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",s=this._container=zt("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=zt("div",n+"-content-wrapper",s);if(this._contentNode=zt("div",n+"-content",l),di(s),fi(this._contentNode),vt(s,"contextmenu",on),this._tipContainer=zt("div",n+"-tip-container",s),this._tip=zt("div",n+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=zt("a",n+"-close-button",s);h.setAttribute("role","button"),h.setAttribute("aria-label","Close popup"),h.href="#close",h.innerHTML='<span aria-hidden="true">&#215;</span>',vt(h,"click",function(p){re(p),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,s=n.style;s.width="",s.whiteSpace="nowrap";var l=n.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),s.width=l+1+"px",s.whiteSpace="",s.height="";var h=n.offsetHeight,p=this.options.maxHeight,g="leaflet-popup-scrolled";p&&h>p?(s.height=p+"px",It(n,g)):ie(n,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),l=this._getAnchor();Tt(this._container,s.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,s=parseInt(ci(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+s,h=this._containerWidth,p=new tt(this._containerLeft,-l-this._containerBottom);p._add(nn(this._container));var g=n.layerPointToContainerPoint(p),S=ft(this.options.autoPanPadding),B=ft(this.options.autoPanPaddingTopLeft||S),U=ft(this.options.autoPanPaddingBottomRight||S),G=n.getSize(),ot=0,yt=0;g.x+h+U.x>G.x&&(ot=g.x+h-G.x+U.x),g.x-ot-B.x<0&&(ot=g.x-B.x),g.y+l+U.y>G.y&&(yt=g.y+l-G.y+U.y),g.y-yt-B.y<0&&(yt=g.y-B.y),(ot||yt)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ot,yt]))}},_getAnchor:function(){return ft(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ap=function(n,s){return new Ho(n,s)};Mt.mergeOptions({closePopupOnClick:!0}),Mt.include({openPopup:function(n,s,l){return this._initOverlay(Ho,n,s,l).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Jt.include({bindPopup:function(n,s){return this._popup=this._initOverlay(Ho,this._popup,n,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof ze||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){We(n);var s=n.layer||n.target;if(this._popup._source===s&&!(s instanceof _i)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=s,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var Vo=Cn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){Cn.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){Cn.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=Cn.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",s=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=zt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var s,l,h=this._map,p=this._container,g=h.latLngToContainerPoint(h.getCenter()),S=h.layerPointToContainerPoint(n),B=this.options.direction,U=p.offsetWidth,G=p.offsetHeight,ot=ft(this.options.offset),yt=this._getAnchor();B==="top"?(s=U/2,l=G):B==="bottom"?(s=U/2,l=0):B==="center"?(s=U/2,l=G/2):B==="right"?(s=0,l=G/2):B==="left"?(s=U,l=G/2):S.x<g.x?(B="right",s=0,l=G/2):(B="left",s=U+(ot.x+yt.x)*2,l=G/2),n=n.subtract(ft(s,l,!0)).add(ot).add(yt),ie(p,"leaflet-tooltip-right"),ie(p,"leaflet-tooltip-left"),ie(p,"leaflet-tooltip-top"),ie(p,"leaflet-tooltip-bottom"),It(p,"leaflet-tooltip-"+B),Tt(p,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&ae(this._container,n)},_animateZoom:function(n){var s=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(s)},_getAnchor:function(){return ft(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),lp=function(n,s){return new Vo(n,s)};Mt.include({openTooltip:function(n,s,l){return this._initOverlay(Vo,n,s,l).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Jt.include({bindTooltip:function(n,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Vo,this._tooltip,n,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var s=n?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[s](l),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof ze||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&(vt(s,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),vt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var s=typeof n.getElement=="function"&&n.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var s=n.latlng,l,h;this._tooltip.options.sticky&&n.originalEvent&&(l=this._map.mouseEventToContainerPoint(n.originalEvent),h=this._map.containerPointToLayerPoint(l),s=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(s)}});var kc=Ps.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var s=n&&n.tagName==="DIV"?n:document.createElement("div"),l=this.options;if(l.html instanceof Element?(Hi(s),s.appendChild(l.html)):s.innerHTML=l.html!==!1?l.html:"",l.bgPos){var h=ft(l.bgPos);s.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function cp(n){return new kc(n)}Ps.Default=Ir;var Sr=Jt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ht.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){Z(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),Yt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Un(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ui(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof tt?n:new tt(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var s=this.getPane().children,l=-n(-1/0,1/0),h=0,p=s.length,g;h<p;h++)g=s[h].style.zIndex,s[h]!==this._container&&g&&(l=n(l,+g));isFinite(l)&&(this.options.zIndex=l+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ht.ielt9){ae(this._container,this.options.opacity);var n=+new Date,s=!1,l=!1;for(var h in this._tiles){var p=this._tiles[h];if(!(!p.current||!p.loaded)){var g=Math.min(1,(n-p.loaded)/200);ae(p.el,g),g<1?s=!0:(p.active?l=!0:this._onOpaqueTile(p),p.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),s&&(O(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=zt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,s=this.options.maxZoom;if(n!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===n?(this._levels[l].el.style.zIndex=s-Math.abs(n-l),this._onUpdateLevel(l)):(Yt(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var h=this._levels[n],p=this._map;return h||(h=this._levels[n]={},h.el=zt("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=s,h.origin=p.project(p.unproject(p.getPixelOrigin()),n).round(),h.zoom=n,this._setZoomTransform(h,p.getCenter(),p.getZoom()),w(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var n,s,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)s=this._tiles[n],s.retain=s.current;for(n in this._tiles)if(s=this._tiles[n],s.current&&!s.active){var h=s.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var s in this._tiles)this._tiles[s].coords.z===n&&this._removeTile(s)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)Yt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,s,l,h){var p=Math.floor(n/2),g=Math.floor(s/2),S=l-1,B=new tt(+p,+g);B.z=+S;var U=this._tileCoordsToKey(B),G=this._tiles[U];return G&&G.active?(G.retain=!0,!0):(G&&G.loaded&&(G.retain=!0),S>h?this._retainParent(p,g,S,h):!1)},_retainChildren:function(n,s,l,h){for(var p=2*n;p<2*n+2;p++)for(var g=2*s;g<2*s+2;g++){var S=new tt(p,g);S.z=l+1;var B=this._tileCoordsToKey(S),U=this._tiles[B];if(U&&U.active){U.retain=!0;continue}else U&&U.loaded&&(U.retain=!0);l+1<h&&this._retainChildren(p,g,l+1,h)}},_resetView:function(n){var s=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var s=this.options;return s.minNativeZoom!==void 0&&n<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<n?s.maxNativeZoom:n},_setView:function(n,s,l,h){var p=Math.round(s);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var g=this.options.updateWhenZooming&&p!==this._tileZoom;(!h||g)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(n),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(n,s)},_setZoomTransforms:function(n,s){for(var l in this._levels)this._setZoomTransform(this._levels[l],n,s)},_setZoomTransform:function(n,s,l){var h=this._map.getZoomScale(l,n.zoom),p=n.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(s,l)).round();ht.any3d?In(n.el,p,h):Tt(n.el,p)},_resetGrid:function(){var n=this._map,s=n.options.crs,l=this._tileSize=this.getTileSize(),h=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,s.wrapLng[0]],h).x/l.x),Math.ceil(n.project([0,s.wrapLng[1]],h).x/l.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([s.wrapLat[0],0],h).y/l.x),Math.ceil(n.project([s.wrapLat[1],0],h).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var s=this._map,l=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),h=s.getZoomScale(l,this._tileZoom),p=s.project(n,this._tileZoom).floor(),g=s.getSize().divideBy(h*2);return new Nt(p.subtract(g),p.add(g))},_update:function(n){var s=this._map;if(s){var l=this._clampZoom(s.getZoom());if(n===void 0&&(n=s.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(n),p=this._pxBoundsToTileRange(h),g=p.getCenter(),S=[],B=this.options.keepBuffer,U=new Nt(p.getBottomLeft().subtract([B,-B]),p.getTopRight().add([B,-B]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var G in this._tiles){var ot=this._tiles[G].coords;(ot.z!==this._tileZoom||!U.contains(new tt(ot.x,ot.y)))&&(this._tiles[G].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(n,l);return}for(var yt=p.min.y;yt<=p.max.y;yt++)for(var Rt=p.min.x;Rt<=p.max.x;Rt++){var Ae=new tt(Rt,yt);if(Ae.z=this._tileZoom,!!this._isValidTile(Ae)){var ve=this._tiles[this._tileCoordsToKey(Ae)];ve?ve.current=!0:S.push(Ae)}}if(S.sort(function(Ue,xs){return Ue.distanceTo(g)-xs.distanceTo(g)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var an=document.createDocumentFragment();for(Rt=0;Rt<S.length;Rt++)this._addTile(S[Rt],an);this._level.el.appendChild(an)}}}},_isValidTile:function(n){var s=this._map.options.crs;if(!s.infinite){var l=this._globalTileRange;if(!s.wrapLng&&(n.x<l.min.x||n.x>l.max.x)||!s.wrapLat&&(n.y<l.min.y||n.y>l.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(n);return Gt(this.options.bounds).overlaps(h)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var s=this._map,l=this.getTileSize(),h=n.scaleBy(l),p=h.add(l),g=s.unproject(h,n.z),S=s.unproject(p,n.z);return[g,S]},_tileCoordsToBounds:function(n){var s=this._tileCoordsToNwSe(n),l=new kt(s[0],s[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var s=n.split(":"),l=new tt(+s[0],+s[1]);return l.z=+s[2],l},_removeTile:function(n){var s=this._tiles[n];s&&(Yt(s.el),delete this._tiles[n],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){It(n,"leaflet-tile");var s=this.getTileSize();n.style.width=s.x+"px",n.style.height=s.y+"px",n.onselectstart=w,n.onmousemove=w,ht.ielt9&&this.options.opacity<1&&ae(n,this.options.opacity)},_addTile:function(n,s){var l=this._getTilePos(n),h=this._tileCoordsToKey(n),p=this.createTile(this._wrapCoords(n),u(this._tileReady,this,n));this._initTile(p),this.createTile.length<2&&x(u(this._tileReady,this,n,null,p)),Tt(p,l),this._tiles[h]={el:p,coords:n,current:!0},s.appendChild(p),this.fire("tileloadstart",{tile:p,coords:n})},_tileReady:function(n,s,l){s&&this.fire("tileerror",{error:s,tile:l,coords:n});var h=this._tileCoordsToKey(n);l=this._tiles[h],l&&(l.loaded=+new Date,this._map._fadeAnimated?(ae(l.el,0),O(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),s||(It(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ht.ielt9||!this._map._fadeAnimated?x(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var s=new tt(this._wrapX?b(n.x,this._wrapX):n.x,this._wrapY?b(n.y,this._wrapY):n.y);return s.z=n.z,s},_pxBoundsToTileRange:function(n){var s=this.getTileSize();return new Nt(n.min.unscaleBy(s).floor(),n.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function up(n){return new Sr(n)}var Cs=Sr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,s){this._url=n,s=Z(this,s),s.detectRetina&&ht.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,s){return this._url===n&&s===void 0&&(s=!0),this._url=n,s||this.redraw(),this},createTile:function(n,s){var l=document.createElement("img");return vt(l,"load",u(this._tileOnLoad,this,s,l)),vt(l,"error",u(this._tileOnError,this,s,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(n),l},getTileUrl:function(n){var s={r:ht.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-n.y;this.options.tms&&(s.y=l),s["-y"]=l}return rt(this._url,o(s,this.options))},_tileOnLoad:function(n,s){ht.ielt9?setTimeout(u(n,this,null,s),0):n(null,s)},_tileOnError:function(n,s,l){var h=this.options.errorTileUrl;h&&s.getAttribute("src")!==h&&(s.src=h),n(l,s)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,s=this.options.maxZoom,l=this.options.zoomReverse,h=this.options.zoomOffset;return l&&(n=s-n),n+h},_getSubdomain:function(n){var s=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var n,s;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(s=this._tiles[n].el,s.onload=w,s.onerror=w,!s.complete)){s.src=Ct;var l=this._tiles[n].coords;Yt(s),delete this._tiles[n],this.fire("tileabort",{tile:s,coords:l})}},_removeTile:function(n){var s=this._tiles[n];if(s)return s.el.setAttribute("src",Ct),Sr.prototype._removeTile.call(this,n)},_tileReady:function(n,s,l){if(!(!this._map||l&&l.getAttribute("src")===Ct))return Sr.prototype._tileReady.call(this,n,s,l)}});function Rc(n,s){return new Cs(n,s)}var Oc=Cs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,s){this._url=n;var l=o({},this.defaultWmsParams);for(var h in s)h in this.options||(l[h]=s[h]);s=Z(this,s);var p=s.detectRetina&&ht.retina?2:1,g=this.getTileSize();l.width=g.x*p,l.height=g.y*p,this.wmsParams=l},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Cs.prototype.onAdd.call(this,n)},getTileUrl:function(n){var s=this._tileCoordsToNwSe(n),l=this._crs,h=Lt(l.project(s[0]),l.project(s[1])),p=h.min,g=h.max,S=(this._wmsVersion>=1.3&&this._crs===Ut?[p.y,p.x,g.y,g.x]:[p.x,p.y,g.x,g.y]).join(","),B=Cs.prototype.getTileUrl.call(this,n);return B+at(this.wmsParams,B,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(n,s){return o(this.wmsParams,n),s||this.redraw(),this}});function hp(n,s){return new Oc(n,s)}Cs.WMS=Oc,Rc.wms=hp;var $n=Jt.extend({options:{padding:.1},initialize:function(n){Z(this,n),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),It(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,s){var l=this._map.getZoomScale(s,this._zoom),h=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,s),g=h.multiplyBy(-l).add(p).subtract(this._map._getNewPixelOrigin(n,s));ht.any3d?In(this._container,g,l):Tt(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,s=this._map.getSize(),l=this._map.containerPointToLayerPoint(s.multiplyBy(-n)).round();this._bounds=new Nt(l,l.add(s.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Mc=$n.extend({options:{tolerance:0},getEvents:function(){var n=$n.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$n.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");vt(n,"mousemove",this._onMouseMove,this),vt(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),vt(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){O(this._redrawRequest),delete this._ctx,Yt(this._container),qt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var s in this._layers)n=this._layers[s],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){$n.prototype._update.call(this);var n=this._bounds,s=this._container,l=n.getSize(),h=ht.retina?2:1;Tt(s,n.min),s.width=h*l.x,s.height=h*l.y,s.style.width=l.x+"px",s.style.height=l.y+"px",ht.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){$n.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[m(n)]=n;var s=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var s=n._order,l=s.next,h=s.prev;l?l.prev=h:this._drawLast=h,h?h.next=l:this._drawFirst=l,delete n._order,delete this._layers[m(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var s=n.options.dashArray.split(/[, ]+/),l=[],h,p;for(p=0;p<s.length;p++){if(h=Number(s[p]),isNaN(h))return;l.push(h)}n.options._dashArray=l}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||x(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var s=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Nt,this._redrawBounds.extend(n._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(n._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var s=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,s=this._redrawBounds;if(this._ctx.save(),s){var l=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)n=h.layer,(!s||n._pxBounds&&n._pxBounds.intersects(s))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,s){if(this._drawing){var l,h,p,g,S=n._parts,B=S.length,U=this._ctx;if(B){for(U.beginPath(),l=0;l<B;l++){for(h=0,p=S[l].length;h<p;h++)g=S[l][h],U[h?"lineTo":"moveTo"](g.x,g.y);s&&U.closePath()}this._fillStroke(U,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var s=n._point,l=this._ctx,h=Math.max(Math.round(n._radius),1),p=(Math.max(Math.round(n._radiusY),1)||h)/h;p!==1&&(l.save(),l.scale(1,p)),l.beginPath(),l.arc(s.x,s.y/p,h,0,Math.PI*2,!1),p!==1&&l.restore(),this._fillStroke(l,n)}},_fillStroke:function(n,s){var l=s.options;l.fill&&(n.globalAlpha=l.fillOpacity,n.fillStyle=l.fillColor||l.color,n.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(n.setLineDash&&n.setLineDash(s.options&&s.options._dashArray||[]),n.globalAlpha=l.opacity,n.lineWidth=l.weight,n.strokeStyle=l.color,n.lineCap=l.lineCap,n.lineJoin=l.lineJoin,n.stroke())},_onClick:function(n){for(var s=this._map.mouseEventToLayerPoint(n),l,h,p=this._drawFirst;p;p=p.next)l=p.layer,l.options.interactive&&l._containsPoint(s)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(l))&&(h=l);this._fireEvent(h?[h]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,s)}},_handleMouseOut:function(n){var s=this._hoveredLayer;s&&(ie(this._container,"leaflet-interactive"),this._fireEvent([s],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,s){if(!this._mouseHoverThrottled){for(var l,h,p=this._drawFirst;p;p=p.next)l=p.layer,l.options.interactive&&l._containsPoint(s)&&(h=l);h!==this._hoveredLayer&&(this._handleMouseOut(n),h&&(It(this._container,"leaflet-interactive"),this._fireEvent([h],n,"mouseover"),this._hoveredLayer=h)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,s,l){this._map._fireDOMEvent(s,l||s.type,n)},_bringToFront:function(n){var s=n._order;if(s){var l=s.next,h=s.prev;if(l)l.prev=h;else return;h?h.next=l:l&&(this._drawFirst=l),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(n)}},_bringToBack:function(n){var s=n._order;if(s){var l=s.next,h=s.prev;if(h)h.next=l;else return;l?l.prev=h:h&&(this._drawLast=h),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(n)}}});function Dc(n){return ht.canvas?new Mc(n):null}var Cr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),fp={_initContainer:function(){this._container=zt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($n.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var s=n._container=Cr("shape");It(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",n._path=Cr("path"),s.appendChild(n._path),this._updateStyle(n),this._layers[m(n)]=n},_addPath:function(n){var s=n._container;this._container.appendChild(s),n.options.interactive&&n.addInteractiveTarget(s)},_removePath:function(n){var s=n._container;Yt(s),n.removeInteractiveTarget(s),delete this._layers[m(n)]},_updateStyle:function(n){var s=n._stroke,l=n._fill,h=n.options,p=n._container;p.stroked=!!h.stroke,p.filled=!!h.fill,h.stroke?(s||(s=n._stroke=Cr("stroke")),p.appendChild(s),s.weight=h.weight+"px",s.color=h.color,s.opacity=h.opacity,h.dashArray?s.dashStyle=Q(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=h.lineCap.replace("butt","flat"),s.joinstyle=h.lineJoin):s&&(p.removeChild(s),n._stroke=null),h.fill?(l||(l=n._fill=Cr("fill")),p.appendChild(l),l.color=h.fillColor||h.color,l.opacity=h.fillOpacity):l&&(p.removeChild(l),n._fill=null)},_updateCircle:function(n){var s=n._point.round(),l=Math.round(n._radius),h=Math.round(n._radiusY||l);this._setPath(n,n._empty()?"M0 0":"AL "+s.x+","+s.y+" "+l+","+h+" 0,"+65535*360)},_setPath:function(n,s){n._path.v=s},_bringToFront:function(n){Un(n._container)},_bringToBack:function(n){ui(n._container)}},Wo=ht.vml?Cr:H,xr=$n.extend({_initContainer:function(){this._container=Wo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Yt(this._container),qt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){$n.prototype._update.call(this);var n=this._bounds,s=n.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,l.setAttribute("width",s.x),l.setAttribute("height",s.y)),Tt(l,n.min),l.setAttribute("viewBox",[n.min.x,n.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(n){var s=n._path=Wo("path");n.options.className&&It(s,n.options.className),n.options.interactive&&It(s,"leaflet-interactive"),this._updateStyle(n),this._layers[m(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){Yt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[m(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var s=n._path,l=n.options;s&&(l.stroke?(s.setAttribute("stroke",l.color),s.setAttribute("stroke-opacity",l.opacity),s.setAttribute("stroke-width",l.weight),s.setAttribute("stroke-linecap",l.lineCap),s.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?s.setAttribute("stroke-dasharray",l.dashArray):s.removeAttribute("stroke-dasharray"),l.dashOffset?s.setAttribute("stroke-dashoffset",l.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),l.fill?(s.setAttribute("fill",l.fillColor||l.color),s.setAttribute("fill-opacity",l.fillOpacity),s.setAttribute("fill-rule",l.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(n,s){this._setPath(n,W(n._parts,s))},_updateCircle:function(n){var s=n._point,l=Math.max(Math.round(n._radius),1),h=Math.max(Math.round(n._radiusY),1)||l,p="a"+l+","+h+" 0 1,0 ",g=n._empty()?"M0 0":"M"+(s.x-l)+","+s.y+p+l*2+",0 "+p+-l*2+",0 ";this._setPath(n,g)},_setPath:function(n,s){n._path.setAttribute("d",s)},_bringToFront:function(n){Un(n._path)},_bringToBack:function(n){ui(n._path)}});ht.vml&&xr.include(fp);function Nc(n){return ht.svg||ht.vml?new xr(n):null}Mt.include({getRenderer:function(n){var s=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var s=this._paneRenderers[n];return s===void 0&&(s=this._createRenderer({pane:n}),this._paneRenderers[n]=s),s},_createRenderer:function(n){return this.options.preferCanvas&&Dc(n)||Nc(n)}});var Bc=Is.extend({initialize:function(n,s){Is.prototype.initialize.call(this,this._boundsToLatLngs(n),s)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=Gt(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function dp(n,s){return new Bc(n,s)}xr.create=Wo,xr.pointsToPath=W,Zn.geometryToLayer=Bo,Zn.coordsToLatLng=Va,Zn.coordsToLatLngs=zo,Zn.latLngToCoords=Wa,Zn.latLngsToCoords=Uo,Zn.getFeature=Ss,Zn.asFeature=Fo,Mt.mergeOptions({boxZoom:!0});var zc=Ze.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){qt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Yt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),pn(),ur(),this._startPoint=this._map.mouseEventToContainerPoint(n),vt(document,{contextmenu:We,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=zt("div","leaflet-zoom-box",this._container),It(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var s=new Nt(this._point,this._startPoint),l=s.getSize();Tt(this._box,s.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Yt(this._box),ie(this._container,"leaflet-crosshair")),mn(),hr(),qt(document,{contextmenu:We,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new kt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Mt.addInitHook("addHandler","boxZoom",zc),Mt.mergeOptions({doubleClickZoom:!0});var Uc=Ze.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var s=this._map,l=s.getZoom(),h=s.options.zoomDelta,p=n.originalEvent.shiftKey?l-h:l+h;s.options.doubleClickZoom==="center"?s.setZoom(p):s.setZoomAround(n.containerPoint,p)}});Mt.addInitHook("addHandler","doubleClickZoom",Uc),Mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fc=Ze.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new _n(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}It(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ie(this._map._container,"leaflet-grab"),ie(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=Gt(this._map.options.maxBounds);this._offsetLimit=Lt(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var s=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(s),this._prunePositions(s)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,s){return n-(n-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;n.x<s.min.x&&(n.x=this._viscousLimit(n.x,s.min.x)),n.y<s.min.y&&(n.y=this._viscousLimit(n.y,s.min.y)),n.x>s.max.x&&(n.x=this._viscousLimit(n.x,s.max.x)),n.y>s.max.y&&(n.y=this._viscousLimit(n.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,s=Math.round(n/2),l=this._initialWorldOffset,h=this._draggable._newPos.x,p=(h-s+l)%n+s-l,g=(h+s+l)%n-s-l,S=Math.abs(p+l)<Math.abs(g+l)?p:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(n){var s=this._map,l=s.options,h=!l.inertia||n.noInertia||this._times.length<2;if(s.fire("dragend",n),h)s.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,S=l.easeLinearity,B=p.multiplyBy(S/g),U=B.distanceTo([0,0]),G=Math.min(l.inertiaMaxSpeed,U),ot=B.multiplyBy(G/U),yt=G/(l.inertiaDeceleration*S),Rt=ot.multiplyBy(-yt/2).round();!Rt.x&&!Rt.y?s.fire("moveend"):(Rt=s._limitOffset(Rt,s.options.maxBounds),x(function(){s.panBy(Rt,{duration:yt,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});Mt.addInitHook("addHandler","dragging",Fc),Mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var jc=Ze.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),vt(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),qt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,s=document.documentElement,l=n.scrollTop||s.scrollTop,h=n.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(h,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var s=this._panKeys={},l=this.keyCodes,h,p;for(h=0,p=l.left.length;h<p;h++)s[l.left[h]]=[-1*n,0];for(h=0,p=l.right.length;h<p;h++)s[l.right[h]]=[n,0];for(h=0,p=l.down.length;h<p;h++)s[l.down[h]]=[0,n];for(h=0,p=l.up.length;h<p;h++)s[l.up[h]]=[0,-1*n]},_setZoomDelta:function(n){var s=this._zoomKeys={},l=this.keyCodes,h,p;for(h=0,p=l.zoomIn.length;h<p;h++)s[l.zoomIn[h]]=n;for(h=0,p=l.zoomOut.length;h<p;h++)s[l.zoomOut[h]]=-n},_addHooks:function(){vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){qt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var s=n.keyCode,l=this._map,h;if(s in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(h=this._panKeys[s],n.shiftKey&&(h=ft(h).multiplyBy(3)),l.options.maxBounds&&(h=l._limitOffset(ft(h),l.options.maxBounds)),l.options.worldCopyJump){var p=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(h)));l.panTo(p)}else l.panBy(h)}else if(s in this._zoomKeys)l.setZoom(l.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;We(n)}}});Mt.addInitHook("addHandler","keyboard",jc),Mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Hc=Ze.extend({addHooks:function(){vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){qt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var s=Ao(n),l=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var h=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),h),We(n)},_performZoom:function(){var n=this._map,s=n.getZoom(),l=this._map.options.zoomSnap||0;n._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,g=l?Math.ceil(p/l)*l:p,S=n._limitZoom(s+(this._delta>0?g:-g))-s;this._delta=0,this._startTime=null,S&&(n.options.scrollWheelZoom==="center"?n.setZoom(s+S):n.setZoomAround(this._lastMousePos,s+S))}});Mt.addInitHook("addHandler","scrollWheelZoom",Hc);var pp=600;Mt.mergeOptions({tapHold:ht.touchNative&&ht.safari&&ht.mobile,tapTolerance:15});var Vc=Ze.extend({addHooks:function(){vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){qt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var s=n.touches[0];this._startPos=this._newPos=new tt(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(vt(document,"touchend",re),vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),pp),vt(document,"touchend touchcancel contextmenu",this._cancel,this),vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){qt(document,"touchend",re),qt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),qt(document,"touchend touchcancel contextmenu",this._cancel,this),qt(document,"touchmove",this._onMove,this)},_onMove:function(n){var s=n.touches[0];this._newPos=new tt(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,s){var l=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});l._simulated=!0,s.target.dispatchEvent(l)}});Mt.addInitHook("addHandler","tapHold",Vc),Mt.mergeOptions({touchZoom:ht.touch,bounceAtZoomLimits:!0});var Wc=Ze.extend({addHooks:function(){It(this._map._container,"leaflet-touch-zoom"),vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ie(this._map._container,"leaflet-touch-zoom"),qt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var s=this._map;if(!(!n.touches||n.touches.length!==2||s._animatingZoom||this._zooming)){var l=s.mouseEventToContainerPoint(n.touches[0]),h=s.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(l.add(h)._divideBy(2))),this._startDist=l.distanceTo(h),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),vt(document,"touchmove",this._onTouchMove,this),vt(document,"touchend touchcancel",this._onTouchEnd,this),re(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var s=this._map,l=s.mouseEventToContainerPoint(n.touches[0]),h=s.mouseEventToContainerPoint(n.touches[1]),p=l.distanceTo(h)/this._startDist;if(this._zoom=s.getScaleZoom(p,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&p<1||this._zoom>s.getMaxZoom()&&p>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var g=l._add(h)._divideBy(2)._subtract(this._centerPoint);if(p===1&&g.x===0&&g.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),O(this._animRequest);var S=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=x(S,this,!0),re(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,O(this._animRequest),qt(document,"touchmove",this._onTouchMove,this),qt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Mt.addInitHook("addHandler","touchZoom",Wc),Mt.BoxZoom=zc,Mt.DoubleClickZoom=Uc,Mt.Drag=Fc,Mt.Keyboard=jc,Mt.ScrollWheelZoom=Hc,Mt.TapHold=Vc,Mt.TouchZoom=Wc,i.Bounds=Nt,i.Browser=ht,i.CRS=j,i.Canvas=Mc,i.Circle=Ha,i.CircleMarker=No,i.Class=ee,i.Control=Be,i.DivIcon=kc,i.DivOverlay=Cn,i.DomEvent=Lo,i.DomUtil=Co,i.Draggable=_n,i.Evented=xt,i.FeatureGroup=ze,i.GeoJSON=Zn,i.GridLayer=Sr,i.Handler=Ze,i.Icon=Ps,i.ImageOverlay=jo,i.LatLng=At,i.LatLngBounds=kt,i.Layer=Jt,i.LayerGroup=$e,i.LineUtil=N,i.Map=Mt,i.Marker=Do,i.Mixin=Vi,i.Path=_i,i.Point=tt,i.PolyUtil=Ts,i.Polygon=Is,i.Polyline=Wn,i.Popup=Ho,i.PosAnimation=vr,i.Projection=Kt,i.Rectangle=Bc,i.Renderer=$n,i.SVG=xr,i.SVGOverlay=Lc,i.TileLayer=Cs,i.Tooltip=Vo,i.Transformation=Bt,i.Util=I,i.VideoOverlay=Ac,i.bind=u,i.bounds=Lt,i.canvas=Dc,i.circle=tp,i.circleMarker=Qd,i.control=Ce,i.divIcon=cp,i.extend=o,i.featureGroup=Pr,i.geoJSON=xc,i.geoJson=ip,i.gridLayer=up,i.icon=Yd,i.imageOverlay=sp,i.latLng=gt,i.latLngBounds=Gt,i.layerGroup=Ge,i.map=_s,i.marker=Xd,i.point=ft,i.polygon=np,i.polyline=ep,i.popup=ap,i.rectangle=dp,i.setOptions=Z,i.stamp=m,i.svg=Nc,i.svgOverlay=op,i.tileLayer=Rc,i.tooltip=lp,i.transformation=T,i.version=r,i.videoOverlay=rp;var mp=window.L;i.noConflict=function(){return window.L=mp,this},window.L=i})}(Or,Or.exports)),Or.exports}var Mv=Ov();const ol=kv(Mv),Dv={name:"TravelPoints",props:["trip"],data(){return{travelPoints:[],newPoint:"",map:null}},methods:{addPoint(){if(this.newPoint.trim()){const e=52.2297+Math.random()*.02-.01,t=21.0122+Math.random()*.02-.01,i={name:this.newPoint.trim(),lat:e,lng:t};this.travelPoints.push(i),this.addMarker(i),this.newPoint=""}},addMarker(e){this.map&&ol.marker([e.lat,e.lng]).addTo(this.map).bindPopup(e.name)}},mounted(){this.map=ol.map("map").setView([52.2297,21.0122],13),ol.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(this.map),this.travelPoints.forEach(e=>{this.addMarker(e)})}},Nv={class:"container"},Bv={class:"mb-3"},zv={class:"list-group mb-3"};function Uv(e,t,i,r,o,c){return bt(),Pt("div",Nv,[D("h3",null,"Punkty do zwiedzenia - "+Ht(i.trip.name),1),D("div",Bv,[t[2]||(t[2]=D("label",{for:"newPoint",class:"form-label"},"Nowy punkt do zwiedzenia",-1)),se(D("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>o.newPoint=u),type:"text",id:"newPoint",class:"form-control",placeholder:"Wpisz nazwę miejsca, które chcesz odwiedzić"},null,512),[[le,o.newPoint]]),D("button",{class:"btn btn-primary mt-2",onClick:t[1]||(t[1]=(...u)=>c.addPoint&&c.addPoint(...u))},"Dodaj punkt")]),D("ul",zv,[(bt(!0),Pt(Oe,null,js(o.travelPoints,(u,d)=>(bt(),Pt("li",{key:d,class:"list-group-item"},Ht(u.name)+" ("+Ht(u.lat.toFixed(4))+", "+Ht(u.lng.toFixed(4))+") ",1))),128))]),t[3]||(t[3]=D("div",{id:"map",style:{height:"400px"}},null,-1))])}const Fv=Qe(Dv,[["render",Uv],["__scopeId","data-v-e8eae67a"]]),jv={name:"BudgetPlanner",props:["trip"],data(){return{totalBudget:0,expenses:[],newExpense:{name:"",amount:0,persons:0,description:"",date:"",file:null,paid:!1}}},computed:{totalSpent(){return this.expenses.reduce((e,t)=>e+Number(t.amount),0)},remainingBudget(){return(this.totalBudget-this.totalSpent).toFixed(2)}},methods:{handleFileUpload(e){const t=e.target.files[0];t&&(this.newExpense.file=URL.createObjectURL(t))},addExpense(){this.newExpense.name.trim()&&this.newExpense.amount>0?(this.expenses.push({...this.newExpense}),this.newExpense={name:"",amount:0,persons:0,description:"",date:"",file:null,paid:!1}):alert("Wprowadź nazwę wydatku i kwotę większą od 0!")}}},Hv={class:"container py-4"},Vv={class:"row mb-4"},Wv={class:"col-md-4"},Zv={class:"card text-white bg-success mb-3"},$v={class:"card-body"},Gv={class:"card-text"},Kv={class:"col-md-4"},qv={class:"card text-white bg-danger mb-3"},Jv={class:"card-body"},Yv={class:"card-text"},Xv={class:"col-md-4"},Qv={class:"card text-white bg-info mb-3"},ty={class:"card-body"},ey={class:"mb-4"},ny={class:"mb-2"},iy={class:"mb-2"},sy={class:"mb-2"},ry={key:0,class:"text-muted"},oy={class:"mb-2"},ay={class:"mb-2"},ly={class:"mb-2"},cy={key:0},uy={class:"list-group"},hy={class:"d-flex justify-content-between align-items-center flex-wrap"},fy={class:"text-muted"},dy={key:0},py={key:1},my={key:2},_y={key:0},gy=["href"],vy={class:"form-check"},yy=["onUpdate:modelValue","id"],wy=["for"];function by(e,t,i,r,o,c){return bt(),Pt("div",Hv,[D("h3",null,"Budżet podróży - "+Ht(i.trip.name),1),D("div",Vv,[D("div",Wv,[D("div",Zv,[D("div",$v,[t[8]||(t[8]=D("h5",{class:"card-title"},"Pozostało",-1)),D("p",Gv,Ht(c.remainingBudget)+" PLN ",1)])])]),D("div",Kv,[D("div",qv,[D("div",Jv,[t[9]||(t[9]=D("h5",{class:"card-title"},"Wydatki",-1)),D("p",Yv,Ht(c.totalSpent)+" PLN ",1)])])]),D("div",Xv,[D("div",Qv,[D("div",ty,[t[10]||(t[10]=D("h5",{class:"card-title"},"Całkowity budżet",-1)),se(D("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>o.totalBudget=u),type:"number",class:"form-control"},null,512),[[le,o.totalBudget,void 0,{number:!0}]]),t[11]||(t[11]=He(" PLN "))])])])]),D("div",ey,[t[13]||(t[13]=D("h4",null,"Dodaj nowy wydatek",-1)),D("div",ny,[se(D("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>o.newExpense.name=u),placeholder:"Nazwa wydatku (wymagane)",class:"form-control"},null,512),[[le,o.newExpense.name]])]),D("div",iy,[se(D("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>o.newExpense.amount=u),placeholder:"Kwota wydatku (PLN, wymagana)",type:"number",class:"form-control"},null,512),[[le,o.newExpense.amount,void 0,{number:!0}]])]),D("div",sy,[se(D("input",{"onUpdate:modelValue":t[3]||(t[3]=u=>o.newExpense.persons=u),placeholder:"Liczba osób do podziału (opcjonalnie)",type:"number",class:"form-control"},null,512),[[le,o.newExpense.persons,void 0,{number:!0}]]),o.newExpense.persons>0?(bt(),Pt("small",ry," Równy podział: "+Ht((o.newExpense.amount/o.newExpense.persons).toFixed(2))+" PLN na osobę ",1)):pe("",!0)]),D("div",oy,[se(D("input",{"onUpdate:modelValue":t[4]||(t[4]=u=>o.newExpense.description=u),placeholder:"Opis wydatku (opcjonalnie)",class:"form-control"},null,512),[[le,o.newExpense.description]])]),D("div",ay,[se(D("input",{"onUpdate:modelValue":t[5]||(t[5]=u=>o.newExpense.date=u),type:"date",class:"form-control",placeholder:"Data wydatku (opcjonalnie)"},null,512),[[le,o.newExpense.date]])]),D("div",ly,[D("input",{type:"file",onChange:t[6]||(t[6]=(...u)=>c.handleFileUpload&&c.handleFileUpload(...u)),class:"form-control"},null,32),t[12]||(t[12]=D("small",{class:"text-muted"},"Załącz zdjęcie/plik (opcjonalnie)",-1))]),D("button",{class:"btn btn-primary",onClick:t[7]||(t[7]=(...u)=>c.addExpense&&c.addExpense(...u))},"Dodaj wydatek")]),o.expenses.length?(bt(),Pt("div",cy,[t[14]||(t[14]=D("h4",null,"Wydatki",-1)),D("ul",uy,[(bt(!0),Pt(Oe,null,js(o.expenses,(u,d)=>(bt(),Pt("li",{key:d,class:"list-group-item"},[D("div",hy,[D("div",null,[D("strong",null,Ht(u.name),1),He(" - "+Ht(u.amount)+" PLN ",1),D("div",fy,[u.date?(bt(),Pt("span",dy,"Data: "+Ht(u.date)+" | ",1)):pe("",!0),u.description?(bt(),Pt("span",py,"Opis: "+Ht(u.description)+" | ",1)):pe("",!0),u.persons?(bt(),Pt("span",my," Podzielone między: "+Ht(u.persons)+" ("+Ht((u.amount/u.persons).toFixed(2))+" PLN/os.) | ",1)):pe("",!0)]),u.file?(bt(),Pt("div",_y,[D("a",{href:u.file,target:"_blank"},"Zobacz załącznik",8,gy)])):pe("",!0)]),D("div",vy,[se(D("input",{type:"checkbox","onUpdate:modelValue":m=>u.paid=m,class:"form-check-input",id:"paid-"+d},null,8,yy),[[Uf,u.paid]]),D("label",{for:"paid-"+d,class:"form-check-label"},"Opłacone",8,wy)])])]))),128))])])):pe("",!0)])}const Ty=Qe(jv,[["render",by],["__scopeId","data-v-5eac2e31"]]),Ey={name:"PackingList",props:["trip"],data(){return{categories:[{name:"Clothing",items:[]},{name:"Essentials",items:[]},{name:"Toiletries",items:[]},{name:"Other",items:[]}],selectedCategory:null,showAddCategory:!1,showAddItem:!1,newCategory:"",newItem:""}},methods:{selectCategory(e){this.selectedCategory=e,this.showAddItem=!1},addCategory(){this.newCategory.trim()&&(this.categories.push({name:this.newCategory.trim(),items:[]}),this.newCategory="",this.showAddCategory=!1)},addItem(){const e=this.categories.find(t=>t.name===this.selectedCategory);e&&this.newItem.trim()&&(e.items.push({name:this.newItem.trim(),checked:!1}),this.newItem="",this.showAddItem=!1)},getItemsForCategory(e){const t=this.categories.find(i=>i.name===e);return t?t.items:[]},countRemaining(e){const t=this.categories.find(i=>i.name===e);return t?t.items.filter(i=>!i.checked).length:0}}},Py={class:"container py-4"},Iy={class:"row mb-4"},Sy=["onClick"],Cy={class:"card-body text-center"},xy={class:"card-title"},Ay={class:"card-text"},Ly={class:"mb-4 d-flex gap-3"},ky=["disabled"],Ry={key:0,class:"mb-3"},Oy={key:1,class:"mb-3"},My={key:2},Dy={class:"list-group w-75"},Ny=["onUpdate:modelValue"];function By(e,t,i,r,o,c){return bt(),Pt("div",Py,[D("h3",null,"Lista pakowania - "+Ht(i.trip.name),1),D("div",Iy,[(bt(!0),Pt(Oe,null,js(o.categories,(u,d)=>(bt(),Pt("div",{key:d,class:"col-md-3 mb-3"},[D("div",{class:"card h-100",onClick:m=>c.selectCategory(u.name),style:{cursor:"pointer"}},[D("div",Cy,[D("h5",xy,Ht(u.name),1),D("p",Ay," Do odhaczenia: "+Ht(c.countRemaining(u.name))+" / "+Ht(u.items.length),1)])],8,Sy)]))),128))]),D("div",Ly,[D("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=u=>o.showAddCategory=!0)},"Dodaj kategorię"),D("button",{class:"btn btn-success",onClick:t[1]||(t[1]=u=>o.showAddItem=!0),disabled:!o.selectedCategory},"Dodaj rzecz do "+Ht(o.selectedCategory),9,ky)]),o.showAddCategory?(bt(),Pt("div",Ry,[se(D("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>o.newCategory=u),placeholder:"Nazwa kategorii",class:"form-control w-50 d-inline"},null,512),[[le,o.newCategory]]),D("button",{class:"btn btn-secondary ms-2",onClick:t[3]||(t[3]=(...u)=>c.addCategory&&c.addCategory(...u))},"Dodaj")])):pe("",!0),o.showAddItem&&o.selectedCategory?(bt(),Pt("div",Oy,[se(D("input",{"onUpdate:modelValue":t[4]||(t[4]=u=>o.newItem=u),placeholder:"Nazwa rzeczy",class:"form-control w-50 d-inline"},null,512),[[le,o.newItem]]),D("button",{class:"btn btn-secondary ms-2",onClick:t[5]||(t[5]=(...u)=>c.addItem&&c.addItem(...u))},"Dodaj")])):pe("",!0),o.selectedCategory?(bt(),Pt("div",My,[D("h4",null,"Rzeczy w kategorii: "+Ht(o.selectedCategory),1),D("ul",Dy,[(bt(!0),Pt(Oe,null,js(c.getItemsForCategory(o.selectedCategory),(u,d)=>(bt(),Pt("li",{key:d,class:"list-group-item d-flex justify-content-between align-items-center"},[D("div",null,[se(D("input",{type:"checkbox","onUpdate:modelValue":m=>u.checked=m,class:"form-check-input me-2"},null,8,Ny),[[Uf,u.checked]]),D("span",{class:Ca({"text-decoration-line-through":u.checked})},Ht(u.name),3)])]))),128))])])):pe("",!0)])}const zy=Qe(Ey,[["render",By],["__scopeId","data-v-3e25a0d7"]]),Uy={name:"Reservations",props:["trip"],data(){return{newReservation:{name:"",link:"",file:null},reservations:[]}},methods:{handleFileUpload(e){const t=e.target.files[0];t&&(this.newReservation.file=URL.createObjectURL(t))},addReservation(){this.newReservation.name.trim()&&(this.reservations.push({name:this.newReservation.name.trim(),link:this.newReservation.link.trim(),file:this.newReservation.file}),this.newReservation={name:"",link:"",file:null})}}},Fy={class:"container py-4"},jy={class:"mb-3"},Hy={key:0},Vy={class:"list-group"},Wy={key:0},Zy=["href"],$y={key:1},Gy=["href"];function Ky(e,t,i,r,o,c){return bt(),Pt("div",Fy,[D("h3",null,"Rezerwacje - "+Ht(i.trip.name),1),D("div",jy,[se(D("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>o.newReservation.name=u),placeholder:"Nazwa rezerwacji (np. Lot do Paryża)",class:"form-control mb-2"},null,512),[[le,o.newReservation.name]]),se(D("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>o.newReservation.link=u),placeholder:"Link do rezerwacji (opcjonalnie)",class:"form-control mb-2"},null,512),[[le,o.newReservation.link]]),D("input",{type:"file",onChange:t[2]||(t[2]=(...u)=>c.handleFileUpload&&c.handleFileUpload(...u)),class:"form-control mb-2"},null,32),D("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...u)=>c.addReservation&&c.addReservation(...u))},"Dodaj rezerwację")]),o.reservations.length?(bt(),Pt("div",Hy,[t[4]||(t[4]=D("h4",null,"Lista rezerwacji",-1)),D("ul",Vy,[(bt(!0),Pt(Oe,null,js(o.reservations,(u,d)=>(bt(),Pt("li",{key:d,class:"list-group-item"},[D("strong",null,Ht(u.name),1),u.link?(bt(),Pt("div",Wy,[D("a",{href:u.link,target:"_blank"},"Otwórz link",8,Zy)])):pe("",!0),u.file?(bt(),Pt("div",$y,[D("a",{href:u.file,target:"_blank"},"Zobacz załącznik",8,Gy)])):pe("",!0)]))),128))])])):pe("",!0)])}const qy=Qe(Uy,[["render",Ky],["__scopeId","data-v-8254bed2"]]),Jy={name:"TripDetails",components:{TravelPoints:Fv,Budget:Ty,PackingList:zy,Reservations:qy},props:["id"],data(){return{trip:{id:this.id,name:"Przykładowa podróż",country:"Hiszpania",departureDate:"2025-06-01",arrivalDate:"2025-06-15"},isTravelPointsVisible:!1,isBudgetVisible:!1,isPackingListVisible:!1,isReservationsVisible:!1}},methods:{addTravelPoints(){this.isTravelPointsVisible=!0,this.isBudgetVisible=!1,this.isPackingListVisible=!1,this.isReservationsVisible=!1},planBudget(){this.isTravelPointsVisible=!1,this.isBudgetVisible=!0,this.isPackingListVisible=!1,this.isReservationsVisible=!1},addPackingList(){this.isTravelPointsVisible=!1,this.isBudgetVisible=!1,this.isPackingListVisible=!0,this.isReservationsVisible=!1},addReservations(){this.isTravelPointsVisible=!1,this.isBudgetVisible=!1,this.isPackingListVisible=!1,this.isReservationsVisible=!0},closeSection(){this.isTravelPointsVisible=!1,this.isBudgetVisible=!1,this.isPackingListVisible=!1,this.isReservationsVisible=!1}}},Yy={class:"container py-5"},Xy={class:"d-flex gap-3 my-4"},Qy={key:0},tw={key:1},ew={key:2},nw={key:3};function iw(e,t,i,r,o,c){const u=gn("router-link"),d=gn("TravelPoints"),m=gn("Budget"),y=gn("PackingList"),b=gn("Reservations");return bt(),Pt("div",Yy,[ne(u,{to:"/",class:"btn btn-outline-secondary mb-3"},{default:Si(()=>t[4]||(t[4]=[He("Powrót")])),_:1}),D("h2",null,Ht(o.trip.name)+" - Szczegóły",1),D("p",null,[t[5]||(t[5]=D("strong",null,"Kraj:",-1)),He(" "+Ht(o.trip.country),1)]),D("p",null,[t[6]||(t[6]=D("strong",null,"Data wyjazdu:",-1)),He(" "+Ht(o.trip.departureDate||"Brak danych"),1)]),D("p",null,[t[7]||(t[7]=D("strong",null,"Data przyjazdu:",-1)),He(" "+Ht(o.trip.arrivalDate||"Brak danych"),1)]),D("div",Xy,[D("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...w)=>c.addTravelPoints&&c.addTravelPoints(...w))},"Dodaj punkty podróży"),D("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=(...w)=>c.planBudget&&c.planBudget(...w))},"Planowanie budżetu"),D("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=(...w)=>c.addPackingList&&c.addPackingList(...w))},"Dodaj do listy pakowania"),D("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...w)=>c.addReservations&&c.addReservations(...w))},"Rezerwacje")]),o.isTravelPointsVisible?(bt(),Pt("div",Qy,[ne(d,{trip:o.trip,onClose:c.closeSection},null,8,["trip","onClose"])])):pe("",!0),o.isBudgetVisible?(bt(),Pt("div",tw,[ne(m,{trip:o.trip,onClose:c.closeSection},null,8,["trip","onClose"])])):pe("",!0),o.isPackingListVisible?(bt(),Pt("div",ew,[ne(y,{trip:o.trip,onClose:c.closeSection},null,8,["trip","onClose"])])):pe("",!0),o.isReservationsVisible?(bt(),Pt("div",nw,[ne(b,{trip:o.trip,onClose:c.closeSection},null,8,["trip","onClose"])])):pe("",!0)])}const sw=Qe(Jy,[["render",iw],["__scopeId","data-v-6dd7fdec"]]),rw=()=>{};var Zu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=function(e){const t=[];let i=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},ow=function(e){const t=[];let i=0,r=0;for(;i<e.length;){const o=e[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=e[i++];t[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=e[i++],u=e[i++],d=e[i++],m=((o&7)<<18|(c&63)<<12|(u&63)<<6|d&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const c=e[i++],u=e[i++];t[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return t.join("")},ed={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const c=e[o],u=o+1<e.length,d=u?e[o+1]:0,m=o+2<e.length,y=m?e[o+2]:0,b=c>>2,w=(c&3)<<4|d>>4;let R=(d&15)<<2|y>>6,z=y&63;m||(z=64,u||(R=64)),r.push(i[b],i[w],i[R],i[z])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(td(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ow(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const c=i[e.charAt(o++)],d=o<e.length?i[e.charAt(o)]:0;++o;const y=o<e.length?i[e.charAt(o)]:64;++o;const w=o<e.length?i[e.charAt(o)]:64;if(++o,c==null||d==null||y==null||w==null)throw new aw;const R=c<<2|d>>4;if(r.push(R),y!==64){const z=d<<4&240|y>>2;if(r.push(z),w!==64){const $=y<<6&192|w;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lw=function(e){const t=td(e);return ed.encodeByteArray(t,!0)},pa=function(e){return lw(e).replace(/\./g,"")},nd=function(e){try{return ed.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=()=>cw().__FIREBASE_DEFAULTS__,hw=()=>{if(typeof process>"u"||typeof Zu>"u")return;const e=Zu.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},fw=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&nd(e[1]);return t&&JSON.parse(t)},lc=()=>{try{return rw()||uw()||hw()||fw()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},id=e=>{var t,i;return(i=(t=lc())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[e]},dw=e=>{const t=id(e);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},sd=()=>{var e;return(e=lc())===null||e===void 0?void 0:e.config},rd=e=>{var t;return(t=lc())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,c=e.sub||e.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},e);return[pa(JSON.stringify(i)),pa(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _w(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function gw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function yw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ww(){const e=Me();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function bw(){try{return typeof indexedDB=="object"}catch{return!1}}function Tw(){return new Promise((e,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="FirebaseError";class oi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=Ew,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lo.prototype.create)}}class lo{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],u=c?Pw(c,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new oi(o,d,r)}}function Pw(e,t){return e.replace(Iw,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const Iw=/\{\$([^}]+)}/g;function Sw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ts(e,t){if(e===t)return!0;const i=Object.keys(e),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const c=e[o],u=t[o];if($u(c)&&$u(u)){if(!ts(c,u))return!1}else if(c!==u)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function $u(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(e){const t=[];for(const[i,r]of Object.entries(e))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Mr(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");t[decodeURIComponent(o)]=decodeURIComponent(c)}}),t}function Dr(e){const t=e.indexOf("?");if(!t)return"";const i=e.indexOf("#",t);return e.substring(t,i>0?i:void 0)}function Cw(e,t){const i=new xw(e,t);return i.subscribe.bind(i)}class xw{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let o;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");Aw(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:r},o.next===void 0&&(o.next=al),o.error===void 0&&(o.error=al),o.complete===void 0&&(o.complete=al);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Aw(e,t){if(typeof e!="object"||e===null)return!1;for(const i of t)if(i in e&&typeof e[i]=="function")return!0;return!1}function al(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e){return e&&e._delegate?e._delegate:e}class es{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new pw;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Rw(t))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(t=Ki){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ki){return this.instances.has(t)}getOptions(t=Ki){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);r===d&&u.resolve(o)}return o}onInit(t,i){var r;const o=this.normalizeInstanceIdentifier(i),c=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;c.add(t),this.onInitCallbacks.set(o,c);const u=this.instances.get(o);return u&&t(u,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kw(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ki){return this.component?this.component.multipleInstances?t:Ki:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kw(e){return e===Ki?void 0:e}function Rw(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Lw(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})($t||($t={}));const Mw={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},Dw=$t.INFO,Nw={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},Bw=(e,t,...i)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),o=Nw[t];if(o)console[o](`[${r}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cc{constructor(t){this.name=t,this._logLevel=Dw,this._logHandler=Bw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Mw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const zw=(e,t)=>t.some(i=>e instanceof i);let Gu,Ku;function Uw(){return Gu||(Gu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fw(){return Ku||(Ku=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const od=new WeakMap,Ll=new WeakMap,ad=new WeakMap,ll=new WeakMap,uc=new WeakMap;function jw(e){const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("success",c),e.removeEventListener("error",u)},c=()=>{i(xi(e.result)),o()},u=()=>{r(e.error),o()};e.addEventListener("success",c),e.addEventListener("error",u)});return t.then(i=>{i instanceof IDBCursor&&od.set(i,e)}).catch(()=>{}),uc.set(t,e),t}function Hw(e){if(Ll.has(e))return;const t=new Promise((i,r)=>{const o=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",u),e.removeEventListener("abort",u)},c=()=>{i(),o()},u=()=>{r(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",c),e.addEventListener("error",u),e.addEventListener("abort",u)});Ll.set(e,t)}let kl={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return Ll.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ad.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xi(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Vw(e){kl=e(kl)}function Ww(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=e.call(cl(this),t,...i);return ad.set(r,t.sort?t.sort():[t]),xi(r)}:Fw().includes(e)?function(...t){return e.apply(cl(this),t),xi(od.get(this))}:function(...t){return xi(e.apply(cl(this),t))}}function Zw(e){return typeof e=="function"?Ww(e):(e instanceof IDBTransaction&&Hw(e),zw(e,Uw())?new Proxy(e,kl):e)}function xi(e){if(e instanceof IDBRequest)return jw(e);if(ll.has(e))return ll.get(e);const t=Zw(e);return t!==e&&(ll.set(e,t),uc.set(t,e)),t}const cl=e=>uc.get(e);function $w(e,t,{blocked:i,upgrade:r,blocking:o,terminated:c}={}){const u=indexedDB.open(e,t),d=xi(u);return r&&u.addEventListener("upgradeneeded",m=>{r(xi(u.result),m.oldVersion,m.newVersion,xi(u.transaction),m)}),i&&u.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const Gw=["get","getKey","getAll","getAllKeys","count"],Kw=["put","add","delete","clear"],ul=new Map;function qu(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(ul.get(t))return ul.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=Kw.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Gw.includes(i)))return;const c=async function(u,...d){const m=this.transaction(u,o?"readwrite":"readonly");let y=m.store;return r&&(y=y.index(d.shift())),(await Promise.all([y[i](...d),o&&m.done]))[0]};return ul.set(t,c),c}Vw(e=>({...e,get:(t,i,r)=>qu(t,i)||e.get(t,i,r),has:(t,i)=>!!qu(t,i)||e.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Jw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Jw(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Rl="@firebase/app",Ju="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new cc("@firebase/app"),Yw="@firebase/app-compat",Xw="@firebase/analytics-compat",Qw="@firebase/analytics",tb="@firebase/app-check-compat",eb="@firebase/app-check",nb="@firebase/auth",ib="@firebase/auth-compat",sb="@firebase/database",rb="@firebase/data-connect",ob="@firebase/database-compat",ab="@firebase/functions",lb="@firebase/functions-compat",cb="@firebase/installations",ub="@firebase/installations-compat",hb="@firebase/messaging",fb="@firebase/messaging-compat",db="@firebase/performance",pb="@firebase/performance-compat",mb="@firebase/remote-config",_b="@firebase/remote-config-compat",gb="@firebase/storage",vb="@firebase/storage-compat",yb="@firebase/firestore",wb="@firebase/vertexai",bb="@firebase/firestore-compat",Tb="firebase",Eb="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol="[DEFAULT]",Pb={[Rl]:"fire-core",[Yw]:"fire-core-compat",[Qw]:"fire-analytics",[Xw]:"fire-analytics-compat",[eb]:"fire-app-check",[tb]:"fire-app-check-compat",[nb]:"fire-auth",[ib]:"fire-auth-compat",[sb]:"fire-rtdb",[rb]:"fire-data-connect",[ob]:"fire-rtdb-compat",[ab]:"fire-fn",[lb]:"fire-fn-compat",[cb]:"fire-iid",[ub]:"fire-iid-compat",[hb]:"fire-fcm",[fb]:"fire-fcm-compat",[db]:"fire-perf",[pb]:"fire-perf-compat",[mb]:"fire-rc",[_b]:"fire-rc-compat",[gb]:"fire-gcs",[vb]:"fire-gcs-compat",[yb]:"fire-fst",[bb]:"fire-fst-compat",[wb]:"fire-vertex","fire-js":"fire-js",[Tb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new Map,Ib=new Map,Ml=new Map;function Yu(e,t){try{e.container.addComponent(t)}catch(i){ii.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function $s(e){const t=e.name;if(Ml.has(t))return ii.debug(`There were multiple attempts to register component ${t}.`),!1;Ml.set(t,e);for(const i of ma.values())Yu(i,e);for(const i of Ib.values())Yu(i,e);return!0}function hc(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function Je(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new lo("app","Firebase",Sb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(t,i,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=Eb;function ld(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ol,automaticDataCollectionEnabled:!1},t),o=r.name;if(typeof o!="string"||!o)throw Ai.create("bad-app-name",{appName:String(o)});if(i||(i=sd()),!i)throw Ai.create("no-options");const c=ma.get(o);if(c){if(ts(i,c.options)&&ts(r,c.config))return c;throw Ai.create("duplicate-app",{appName:o})}const u=new Ow(o);for(const m of Ml.values())u.addComponent(m);const d=new Cb(i,r,u);return ma.set(o,d),d}function cd(e=Ol){const t=ma.get(e);if(!t&&e===Ol&&sd())return ld();if(!t)throw Ai.create("no-app",{appName:e});return t}function Li(e,t,i){var r;let o=(r=Pb[e])!==null&&r!==void 0?r:e;i&&(o+=`-${i}`);const c=o.match(/\s|\//),u=t.match(/\s|\//);if(c||u){const d=[`Unable to register library "${o}" with version "${t}":`];c&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ii.warn(d.join(" "));return}$s(new es(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firebase-heartbeat-database",Ab=1,eo="firebase-heartbeat-store";let hl=null;function ud(){return hl||(hl=$w(xb,Ab,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(eo)}catch(i){console.warn(i)}}}}).catch(e=>{throw Ai.create("idb-open",{originalErrorMessage:e.message})})),hl}async function Lb(e){try{const i=(await ud()).transaction(eo),r=await i.objectStore(eo).get(hd(e));return await i.done,r}catch(t){if(t instanceof oi)ii.warn(t.message);else{const i=Ai.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ii.warn(i.message)}}}async function Xu(e,t){try{const r=(await ud()).transaction(eo,"readwrite");await r.objectStore(eo).put(t,hd(e)),await r.done}catch(i){if(i instanceof oi)ii.warn(i.message);else{const r=Ai.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ii.warn(r.message)}}}function hd(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=1024,Rb=30;class Ob{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Db(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Qu();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Rb){const u=Nb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ii.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Qu(),{heartbeatsToSend:r,unsentEntries:o}=Mb(this._heartbeatsCache.heartbeats),c=pa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return ii.warn(i),""}}}function Qu(){return new Date().toISOString().substring(0,10)}function Mb(e,t=kb){const i=[];let r=e.slice();for(const o of e){const c=i.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),th(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),th(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Db{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bw()?Tw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Lb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xu(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xu(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function th(e){return pa(JSON.stringify({version:2,heartbeats:e})).length}function Nb(e){if(e.length===0)return-1;let t=0,i=e[0].date;for(let r=1;r<e.length;r++)e[r].date<i&&(i=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(e){$s(new es("platform-logger",t=>new qw(t),"PRIVATE")),$s(new es("heartbeat",t=>new Ob(t),"PRIVATE")),Li(Rl,Ju,e),Li(Rl,Ju,"esm2017"),Li("fire-js","")}Bb("");function fc(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]]);return i}function fd(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zb=fd,dd=new lo("auth","Firebase",fd());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new cc("@firebase/auth");function Ub(e,...t){_a.logLevel<=$t.WARN&&_a.warn(`Auth (${qs}): ${e}`,...t)}function na(e,...t){_a.logLevel<=$t.ERROR&&_a.error(`Auth (${qs}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e,...t){throw pc(e,...t)}function Tn(e,...t){return pc(e,...t)}function dc(e,t,i){const r=Object.assign(Object.assign({},zb()),{[t]:i});return new lo("auth","Firebase",r).create(t,{appName:e.name})}function ni(e){return dc(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fb(e,t,i){const r=i;if(!(t instanceof r))throw r.name!==t.constructor.name&&un(e,"argument-error"),dc(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pc(e,...t){if(typeof e!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(i,...r)}return dd.create(e,...t)}function wt(e,t,...i){if(!e)throw pc(t,...i)}function Qn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw na(t),new Error(t)}function si(e,t){e||Qn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function jb(){return eh()==="http:"||eh()==="https:"}function eh(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jb()||vw()||"connection"in navigator)?navigator.onLine:!0}function Vb(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t,i){this.shortDelay=t,this.longDelay=i,si(i>t,"Short delay should be less than long delay!"),this.isMobile=_w()||yw()}get(){return Hb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(e,t){si(e.emulator,"Emulator should always be set here");const{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$b=new uo(3e4,6e4);function Oi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Mi(e,t,i,r,o={}){return md(e,o,async()=>{let c={},u={};r&&(t==="GET"?u=r:c={body:JSON.stringify(r)});const d=co(Object.assign({key:e.config.apiKey},u)).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const y=Object.assign({method:t,headers:m},c);return gw()||(y.referrerPolicy="no-referrer"),pd.fetch()(await _d(e,e.config.apiHost,i,d),y)})}async function md(e,t,i){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Wb),t);try{const o=new Kb(e),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw qo(e,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const d=c.ok?u.errorMessage:u.error.message,[m,y]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw qo(e,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw qo(e,"email-already-in-use",u);if(m==="USER_DISABLED")throw qo(e,"user-disabled",u);const b=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw dc(e,b,y);un(e,b)}}catch(o){if(o instanceof oi)throw o;un(e,"network-request-failed",{message:String(o)})}}async function ho(e,t,i,r,o={}){const c=await Mi(e,t,i,r,o);return"mfaPendingCredential"in c&&un(e,"multi-factor-auth-required",{_serverResponse:c}),c}async function _d(e,t,i,r){const o=`${t}${i}?${r}`,c=e,u=c.config.emulator?mc(e.config,o):`${e.config.apiScheme}://${o}`;return Zb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function Gb(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Kb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Tn(this.auth,"network-request-failed")),$b.get())})}}function qo(e,t,i){const r={appName:e.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const o=Tn(e,t,r);return o.customData._tokenResponse=i,o}function nh(e){return e!==void 0&&e.enterprise!==void 0}class qb{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return Gb(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jb(e,t){return Mi(e,"GET","/v2/recaptchaConfig",Oi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(e,t){return Mi(e,"POST","/v1/accounts:delete",t)}async function ga(e,t){return Mi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Xb(e,t=!1){const i=rs(e),r=await i.getIdToken(t),o=_c(r);wt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:Wr(fl(o.auth_time)),issuedAtTime:Wr(fl(o.iat)),expirationTime:Wr(fl(o.exp)),signInProvider:u||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function fl(e){return Number(e)*1e3}function _c(e){const[t,i,r]=e.split(".");if(t===void 0||i===void 0||r===void 0)return na("JWT malformed, contained fewer than 3 sections"),null;try{const o=nd(i);return o?JSON.parse(o):(na("Failed to decode base64 JWT payload"),null)}catch(o){return na("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ih(e){const t=_c(e);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(e,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof oi&&Qb(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Qb({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wr(this.lastLoginAt),this.creationTime=Wr(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(e){var t;const i=e.auth,r=await e.getIdToken(),o=await no(e,ga(i,{idToken:r}));wt(o==null?void 0:o.users.length,i,"internal-error");const c=o.users[0];e._notifyReloadListener(c);const u=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?gd(c.providerUserInfo):[],d=n0(e.providerData,u),m=e.isAnonymous,y=!(e.email&&c.passwordHash)&&!(d!=null&&d.length),b=m?y:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:d,metadata:new Nl(c.createdAt,c.lastLoginAt),isAnonymous:b};Object.assign(e,w)}async function e0(e){const t=rs(e);await va(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function n0(e,t){return[...e.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function gd(e){return e.map(t=>{var{providerId:i}=t,r=fc(t,["providerId"]);return{providerId:i,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i0(e,t){const i=await md(e,{},async()=>{const r=co({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=e.config,u=await _d(e,o,"/v1/token",`key=${c}`),d=await e._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",pd.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function s0(e,t){return Mi(e,"POST","/v2/accounts:revokeToken",Oi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ih(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const i=ih(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:o,expiresIn:c}=await i0(t,i);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:o,expirationTime:c}=i,u=new zs;return r&&(wt(typeof r=="string","internal-error",{appName:t}),u.refreshToken=r),o&&(wt(typeof o=="string","internal-error",{appName:t}),u.accessToken=o),c&&(wt(typeof c=="number","internal-error",{appName:t}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(e,t){wt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class yn{constructor(t){var{uid:i,auth:r,stsTokenManager:o}=t,c=fc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Nl(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await no(this,this.stsTokenManager.getToken(this.auth,t));return wt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Xb(this,t)}reload(){return e0(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new yn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await va(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Je(this.auth.app))return Promise.reject(ni(this.auth));const t=await this.getIdToken();return await no(this,Yb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var r,o,c,u,d,m,y,b;const w=(r=i.displayName)!==null&&r!==void 0?r:void 0,R=(o=i.email)!==null&&o!==void 0?o:void 0,z=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,$=(u=i.photoURL)!==null&&u!==void 0?u:void 0,Z=(d=i.tenantId)!==null&&d!==void 0?d:void 0,at=(m=i._redirectEventId)!==null&&m!==void 0?m:void 0,ct=(y=i.createdAt)!==null&&y!==void 0?y:void 0,rt=(b=i.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:Q,emailVerified:st,isAnonymous:Ct,providerData:Dt,stsTokenManager:A}=i;wt(Q&&A,t,"internal-error");const E=zs.fromJSON(this.name,A);wt(typeof Q=="string",t,"internal-error"),vi(w,t.name),vi(R,t.name),wt(typeof st=="boolean",t,"internal-error"),wt(typeof Ct=="boolean",t,"internal-error"),vi(z,t.name),vi($,t.name),vi(Z,t.name),vi(at,t.name),vi(ct,t.name),vi(rt,t.name);const C=new yn({uid:Q,auth:t,email:R,emailVerified:st,displayName:w,isAnonymous:Ct,photoURL:$,phoneNumber:z,tenantId:Z,stsTokenManager:E,createdAt:ct,lastLoginAt:rt});return Dt&&Array.isArray(Dt)&&(C.providerData=Dt.map(k=>Object.assign({},k))),at&&(C._redirectEventId=at),C}static async _fromIdTokenResponse(t,i,r=!1){const o=new zs;o.updateFromServerResponse(i);const c=new yn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await va(c),c}static async _fromGetAccountInfoResponse(t,i,r){const o=i.users[0];wt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?gd(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),d=new zs;d.updateFromIdToken(r);const m=new yn({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:u}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Nl(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Map;function ti(e){si(e instanceof Function,"Expected a class definition");let t=sh.get(e);return t?(si(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,sh.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}vd.type="NONE";const rh=vd;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(e,t,i){return`firebase:${e}:${t}:${i}`}class Us{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=ia(this.userKey,o.apiKey,c),this.fullPersistenceKey=ia("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ga(this.auth,{idToken:t}).catch(()=>{});return i?yn._fromGetAccountInfoResponse(this.auth,i,t):null}return yn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Us(ti(rh),t,r);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ti(rh);const u=ia(r,t.config.apiKey,t.name);let d=null;for(const y of i)try{const b=await y._get(u);if(b){let w;if(typeof b=="string"){const R=await ga(t,{idToken:b}).catch(()=>{});if(!R)break;w=await yn._fromGetAccountInfoResponse(t,R,b)}else w=yn._fromJSON(t,b);y!==c&&(d=w),c=y;break}}catch{}const m=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new Us(c,t,r):(c=m[0],d&&await c._set(u,d.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(u)}catch{}})),new Us(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Td(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yd(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Pd(t))return"Blackberry";if(Id(t))return"Webos";if(wd(t))return"Safari";if((t.includes("chrome/")||bd(t))&&!t.includes("edge/"))return"Chrome";if(Ed(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(i);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yd(e=Me()){return/firefox\//i.test(e)}function wd(e=Me()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bd(e=Me()){return/crios\//i.test(e)}function Td(e=Me()){return/iemobile/i.test(e)}function Ed(e=Me()){return/android/i.test(e)}function Pd(e=Me()){return/blackberry/i.test(e)}function Id(e=Me()){return/webos/i.test(e)}function gc(e=Me()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function r0(e=Me()){var t;return gc(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function o0(){return ww()&&document.documentMode===10}function Sd(e=Me()){return gc(e)||Ed(e)||Id(e)||Pd(e)||/windows phone/i.test(e)||Td(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(e,t=[]){let i;switch(e){case"Browser":i=oh(Me());break;case"Worker":i=`${oh(Me())}-${e}`;break;default:i=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${qs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((u,d)=>{try{const m=t(c);u(m)}catch(m){d(m)}});r.onAbort=i,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0(e,t={}){return Mi(e,"GET","/v2/passwordPolicy",Oi(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=6;class u0{constructor(t){var i,r,o,c;const u=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=u.minPasswordLength)!==null&&i!==void 0?i:c0,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,r,o,c,u,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(i=m.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(c=m.containsUppercaseLetter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,i,r,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ah(this),this.idTokenSubscription=new ah(this),this.beforeStateQueue=new a0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dd,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ti(i)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await Us.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ga(this,{idToken:t}),r=await yn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Je(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===d)&&(m!=null&&m.user)&&(o=m.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await va(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Vb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Je(this.app))return Promise.reject(ni(this));const i=t?rs(t):null;return i&&wt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Je(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Je(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await l0(this),i=new u0(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new lo("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await s0(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ti(t)||this._popupRedirectResolver;wt(i,this,"argument-error"),this.redirectPersistenceManager=await Us.create(this,[ti(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,r;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(d,this,"internal-error"),d.then(()=>{u||c(this.currentUser)}),typeof i=="function"){const m=t.addObserver(i,r,o);return()=>{u=!0,m()}}else{const m=t.addObserver(i);return()=>{u=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Cd(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(i["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var t;if(Je(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&Ub(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Di(e){return rs(e)}class ah{constructor(t){this.auth=t,this.observer=null,this.addObserver=Cw(i=>this.observer=i)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f0(e){Ba=e}function xd(e){return Ba.loadJS(e)}function d0(){return Ba.recaptchaEnterpriseScript}function p0(){return Ba.gapiScript}function m0(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class _0{constructor(){this.enterprise=new g0}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class g0{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const v0="recaptcha-enterprise",Ad="NO_RECAPTCHA";class y0{constructor(t){this.type=v0,this.auth=Di(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,d)=>{Jb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new qb(m);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,u(y.siteKey)}}).catch(m=>{d(m)})})}function o(c,u,d){const m=window.grecaptcha;nh(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:t}).then(y=>{u(y)}).catch(()=>{u(Ad)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _0().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{r(this.auth).then(d=>{if(!i&&nh(window.grecaptcha))o(d,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=d0();m.length!==0&&(m+=d),xd(m).then(()=>{o(d,c,u)}).catch(y=>{u(y)})}}).catch(d=>{u(d)})})}}async function lh(e,t,i,r=!1,o=!1){const c=new y0(e);let u;if(o)u=Ad;else try{u=await c.verify(i)}catch{u=await c.verify(i,!0)}const d=Object.assign({},t);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Bl(e,t,i,r,o){var c;if(!((c=e._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await lh(e,t,i,i==="getOobCode");return r(e,u)}else return r(e,t).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await lh(e,t,i,i==="getOobCode");return r(e,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(e,t){const i=hc(e,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(ts(c,t??{}))return o;un(o,"already-initialized")}return i.initialize({options:t})}function b0(e,t){const i=(t==null?void 0:t.persistence)||[],r=(Array.isArray(i)?i:[i]).map(ti);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function T0(e,t,i){const r=Di(e);wt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,c=Ld(t),{host:u,port:d}=E0(t),m=d===null?"":`:${d}`,y={url:`${c}//${u}${m}/`},b=Object.freeze({host:u,port:d,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){wt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),wt(ts(y,r.config.emulator)&&ts(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,P0()}function Ld(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function E0(e){const t=Ld(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:ch(r.substr(c.length+1))}}else{const[c,u]=r.split(":");return{host:c,port:ch(u)}}}function ch(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function P0(){function e(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Qn("not implemented")}_getIdTokenResponse(t){return Qn("not implemented")}_linkToIdToken(t,i){return Qn("not implemented")}_getReauthenticationResolver(t){return Qn("not implemented")}}async function I0(e,t){return Mi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(e,t){return ho(e,"POST","/v1/accounts:signInWithPassword",Oi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C0(e,t){return ho(e,"POST","/v1/accounts:signInWithEmailLink",Oi(e,t))}async function x0(e,t){return ho(e,"POST","/v1/accounts:signInWithEmailLink",Oi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends vc{constructor(t,i,r,o=null){super("password",r),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new io(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new io(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bl(t,i,"signInWithPassword",S0);case"emailLink":return C0(t,{email:this._email,oobCode:this._password});default:un(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bl(t,r,"signUpPassword",I0);case"emailLink":return x0(t,{idToken:i,email:this._email,oobCode:this._password});default:un(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(e,t){return ho(e,"POST","/v1/accounts:signInWithIdp",Oi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="http://localhost";class ns extends vc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):un("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o}=i,c=fc(i,["providerId","signInMethod"]);if(!r||!o)return null;const u=new ns(r,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(t){const i=this.buildRequest();return Fs(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Fs(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fs(t,i)}buildRequest(){const t={requestUri:A0,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=co(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k0(e){const t=Mr(Dr(e)).link,i=t?Mr(Dr(t)).deep_link_id:null,r=Mr(Dr(e)).deep_link_id;return(r?Mr(Dr(r)).link:null)||r||i||t||e}class yc{constructor(t){var i,r,o,c,u,d;const m=Mr(Dr(t)),y=(i=m.apiKey)!==null&&i!==void 0?i:null,b=(r=m.oobCode)!==null&&r!==void 0?r:null,w=L0((o=m.mode)!==null&&o!==void 0?o:null);wt(y&&b&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=b,this.continueUrl=(c=m.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(u=m.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const i=k0(t);try{return new yc(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.providerId=Js.PROVIDER_ID}static credential(t,i){return io._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=yc.parseLink(i);return wt(r,"argument-error"),io._fromEmailAndCode(t,r.code,r.tenantId)}}Js.PROVIDER_ID="password";Js.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Js.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends wc{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends fo{constructor(){super("facebook.com")}static credential(t){return ns._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ei.credentialFromTaggedObject(t)}static credentialFromError(t){return Ei.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ei.credential(t.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn extends fo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ns._fromParams({providerId:Xn.PROVIDER_ID,signInMethod:Xn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Xn.credentialFromTaggedObject(t)}static credentialFromError(t){return Xn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Xn.credential(i,r)}catch{return null}}}Xn.GOOGLE_SIGN_IN_METHOD="google.com";Xn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends fo{constructor(){super("github.com")}static credential(t){return ns._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pi.credentialFromTaggedObject(t)}static credentialFromError(t){return Pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pi.credential(t.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends fo{constructor(){super("twitter.com")}static credential(t,i){return ns._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ii.credentialFromTaggedObject(t)}static credentialFromError(t){return Ii.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Ii.credential(i,r)}catch{return null}}}Ii.TWITTER_SIGN_IN_METHOD="twitter.com";Ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(e,t){return ho(e,"POST","/v1/accounts:signUp",Oi(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,o=!1){const c=await yn._fromIdTokenResponse(t,r,o),u=uh(r);return new is({user:c,providerId:u,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const o=uh(r);return new is({user:t,providerId:o,_tokenResponse:r,operationType:i})}}function uh(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends oi{constructor(t,i,r,o){var c;super(i.code,i.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ya.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,o){return new ya(t,i,r,o)}}function kd(e,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(e):i._getIdTokenResponse(e)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ya._fromErrorAndOperation(e,c,t,r):c})}async function O0(e,t,i=!1){const r=await no(e,t._linkToIdToken(e.auth,await e.getIdToken()),i);return is._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M0(e,t,i=!1){const{auth:r}=e;if(Je(r.app))return Promise.reject(ni(r));const o="reauthenticate";try{const c=await no(e,kd(r,o,t,e),i);wt(c.idToken,r,"internal-error");const u=_c(c.idToken);wt(u,r,"internal-error");const{sub:d}=u;return wt(e.uid===d,r,"user-mismatch"),is._forOperation(e,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&un(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(e,t,i=!1){if(Je(e.app))return Promise.reject(ni(e));const r="signIn",o=await kd(e,r,t),c=await is._fromIdTokenResponse(e,r,o);return i||await e._updateCurrentUser(c.user),c}async function D0(e,t){return Rd(Di(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Od(e){const t=Di(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function N0(e,t,i){if(Je(e.app))return Promise.reject(ni(e));const r=Di(e),u=await Bl(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R0).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Od(e),m}),d=await is._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function B0(e,t,i){return Je(e.app)?Promise.reject(ni(e)):D0(rs(e),Js.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Od(e),r})}function z0(e,t,i,r){return rs(e).onIdTokenChanged(t,i,r)}function U0(e,t,i){return rs(e).beforeAuthStateChanged(t,i)}const wa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(wa,"1"),this.storage.removeItem(wa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=1e3,j0=10;class Dd extends Md{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sd(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const r=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!i&&this.localCache[r]===u||this.notifyListeners(r,u)},c=this.storage.getItem(r);o0()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,j0):o()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},F0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Dd.type="LOCAL";const H0=Dd;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends Md{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Nd.type="SESSION";const Bd=Nd;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new za(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:o,data:c}=i.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async y=>y(i.origin,c)),m=await V0(d);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}za.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(e="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return e+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((d,m)=>{const y=bc("",20);o.port1.start();const b=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(R.data.response);break;default:clearTimeout(b),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return window}function Z0(e){On().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}async function $0(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G0(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function K0(){return zd()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="firebaseLocalStorageDb",q0=1,ba="firebaseLocalStorage",Fd="fbase_key";class po{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ua(e,t){return e.transaction([ba],t?"readwrite":"readonly").objectStore(ba)}function J0(){const e=indexedDB.deleteDatabase(Ud);return new po(e).toPromise()}function zl(){const e=indexedDB.open(Ud,q0);return new Promise((t,i)=>{e.addEventListener("error",()=>{i(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(ba,{keyPath:Fd})}catch(o){i(o)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(ba)?t(r):(r.close(),await J0(),t(await zl()))})})}async function hh(e,t,i){const r=Ua(e,!0).put({[Fd]:t,value:i});return new po(r).toPromise()}async function Y0(e,t){const i=Ua(e,!1).get(t),r=await new po(i).toPromise();return r===void 0?null:r.value}function fh(e,t){const i=Ua(e,!0).delete(t);return new po(i).toPromise()}const X0=800,Q0=3;class jd{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zl(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>Q0)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zd()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=za._getInstance(K0()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await $0(),!this.activeServiceWorker)return;this.sender=new W0(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||G0()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zl();return await hh(t,wa,"1"),await fh(t,wa),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>hh(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>Y0(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>fh(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Ua(o,!1).getAll();return new po(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jd.type="LOCAL";const tT=jd;new uo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(e,t){return t?ti(t):(wt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends vc{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fs(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fs(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fs(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function eT(e){return Rd(e.auth,new Tc(e),e.bypassAuthState)}function nT(e){const{auth:t,user:i}=e;return wt(i,t,"internal-error"),M0(i,new Tc(e),e.bypassAuthState)}async function iT(e){const{auth:t,user:i}=e;return wt(i,t,"internal-error"),O0(i,new Tc(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(t,i,r,o,c=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:o,tenantId:c,error:u,type:d}=t;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eT;case"linkViaPopup":case"linkViaRedirect":return iT;case"reauthViaPopup":case"reauthViaRedirect":return nT;default:un(this.auth,"internal-error")}}resolve(t){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=new uo(2e3,1e4);async function rT(e,t,i){if(Je(e.app))return Promise.reject(Tn(e,"operation-not-supported-in-this-environment"));const r=Di(e);Fb(e,t,wc);const o=Hd(r,i);return new qi(r,"signInViaPopup",t,o).executeNotNull()}class qi extends Vd{constructor(t,i,r,o,c){super(t,i,o,c),this.provider=r,this.authWindow=null,this.pollId=null,qi.currentPopupAction&&qi.currentPopupAction.cancel(),qi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const t=bc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sT.get())};t()}}qi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="pendingRedirect",sa=new Map;class aT extends Vd{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=sa.get(this.auth._key());if(!t){try{const r=await lT(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}sa.set(this.auth._key(),t)}return this.bypassAuthState||sa.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lT(e,t){const i=hT(t),r=uT(e);if(!await r._isAvailable())return!1;const o=await r._get(i)==="true";return await r._remove(i),o}function cT(e,t){sa.set(e._key(),t)}function uT(e){return ti(e._redirectPersistence)}function hT(e){return ia(oT,e.config.apiKey,e.name)}async function fT(e,t,i=!1){if(Je(e.app))return Promise.reject(ni(e));const r=Di(e),o=Hd(r,t),u=await new aT(r,o,i).execute();return u&&!i&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=10*60*1e3;class pT{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mT(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var r;if(t.error&&!Wd(t)){const o=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";i.onError(Tn(this.auth,o))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dT&&this.cachedEventUids.clear(),this.cachedEventUids.has(dh(t))}saveEventToCache(t){this.cachedEventUids.add(dh(t)),this.lastProcessedEventTime=Date.now()}}function dh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Wd({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mT(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wd(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _T(e,t={}){return Mi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vT=/^https?/;async function yT(e){if(e.config.emulator)return;const{authorizedDomains:t}=await _T(e);for(const i of t)try{if(wT(i))return}catch{}un(e,"unauthorized-domain")}function wT(e){const t=Dl(),{protocol:i,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const u=new URL(e);return u.hostname===""&&r===""?i==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&u.hostname===r}if(!vT.test(i))return!1;if(gT.test(e))return r===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new uo(3e4,6e4);function ph(){const e=On().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let i=0;i<e.CP.length;i++)e.CP[i]=null}}function TT(e){return new Promise((t,i)=>{var r,o,c;function u(){ph(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ph(),i(Tn(e,"network-request-failed"))},timeout:bT.get()})}if(!((o=(r=On().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((c=On().gapi)===null||c===void 0)&&c.load)u();else{const d=m0("iframefcb");return On()[d]=()=>{gapi.load?u():i(Tn(e,"network-request-failed"))},xd(`${p0()}?onload=${d}`).catch(m=>i(m))}}).catch(t=>{throw ra=null,t})}let ra=null;function ET(e){return ra=ra||TT(e),ra}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new uo(5e3,15e3),IT="__/auth/iframe",ST="emulator/auth/iframe",CT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AT(e){const t=e.config;wt(t.authDomain,e,"auth-domain-config-required");const i=t.emulator?mc(t,ST):`https://${e.config.authDomain}/${IT}`,r={apiKey:t.apiKey,appName:e.name,v:qs},o=xT.get(e.config.apiHost);o&&(r.eid=o);const c=e._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${co(r).slice(1)}`}async function LT(e){const t=await ET(e),i=On().gapi;return wt(i,e,"internal-error"),t.open({where:document.body,url:AT(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CT,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const u=Tn(e,"network-request-failed"),d=On().setTimeout(()=>{c(u)},PT.get());function m(){On().clearTimeout(d),o(r)}r.ping(m).then(m,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RT=500,OT=600,MT="_blank",DT="http://localhost";class mh{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NT(e,t,i,r=RT,o=OT){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m=Object.assign(Object.assign({},kT),{width:r.toString(),height:o.toString(),top:c,left:u}),y=Me().toLowerCase();i&&(d=bd(y)?MT:i),yd(y)&&(t=t||DT,m.scrollbars="yes");const b=Object.entries(m).reduce((R,[z,$])=>`${R}${z}=${$},`,"");if(r0(y)&&d!=="_self")return BT(t||"",d),new mh(null);const w=window.open(t||"",d,b);wt(w,e,"popup-blocked");try{w.focus()}catch{}return new mh(w)}function BT(e,t){const i=document.createElement("a");i.href=e,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="__/auth/handler",UT="emulator/auth/handler",FT=encodeURIComponent("fac");async function _h(e,t,i,r,o,c){wt(e.config.authDomain,e,"auth-domain-config-required"),wt(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:r,v:qs,eventId:o};if(t instanceof wc){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",Sw(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,w]of Object.entries({}))u[b]=w}if(t instanceof fo){const b=t.getScopes().filter(w=>w!=="");b.length>0&&(u.scopes=b.join(","))}e.tenantId&&(u.tid=e.tenantId);const d=u;for(const b of Object.keys(d))d[b]===void 0&&delete d[b];const m=await e._getAppCheckToken(),y=m?`#${FT}=${encodeURIComponent(m)}`:"";return`${jT(e)}?${co(d).slice(1)}${y}`}function jT({config:e}){return e.emulator?mc(e,UT):`https://${e.authDomain}/${zT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="webStorageSupport";class HT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bd,this._completeRedirectFn=fT,this._overrideRedirectResult=cT}async _openPopup(t,i,r,o){var c;si((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const u=await _h(t,i,r,Dl(),o);return NT(t,u,bc())}async _openRedirect(t,i,r,o){await this._originValidation(t);const c=await _h(t,i,r,Dl(),o);return Z0(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(si(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await LT(t),r=new pT(t);return i.register("authEvent",o=>(wt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(dl,{type:dl},o=>{var c;const u=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[dl];u!==void 0&&i(!!u),un(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=yT(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Sd()||wd()||gc()}}const VT=HT;var gh="@firebase/auth",vh="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $T(e){$s(new es("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;wt(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cd(e)},y=new h0(r,o,c,m);return b0(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),$s(new es("auth-internal",t=>{const i=Di(t.getProvider("auth").getImmediate());return(r=>new WT(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(gh,vh,ZT(e)),Li(gh,vh,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=5*60,KT=rd("authIdTokenMaxAge")||GT;let yh=null;const qT=e=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>KT)return;const o=i==null?void 0:i.token;yh!==o&&(yh=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JT(e=cd()){const t=hc(e,"auth");if(t.isInitialized())return t.getImmediate();const i=w0(e,{popupRedirectResolver:VT,persistence:[tT,H0,Bd]}),r=rd("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const u=qT(c.toString());U0(i,u,()=>u(i.currentUser)),z0(i,d=>u(d))}}const o=id("auth");return o&&T0(i,`http://${o}`),i}function YT(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}f0({loadJS(e){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=o=>{const c=Tn("internal-error");c.customData=o,i(c)},r.type="text/javascript",r.charset="UTF-8",YT().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$T("Browser");var XT="firebase",QT="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li(XT,QT,"app");var wh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zd;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,E){function C(){}C.prototype=E.prototype,A.D=E.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(k,x,O){for(var I=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)I[ee-2]=arguments[ee];return E.prototype[x].apply(k,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,E,C){C||(C=0);var k=Array(16);if(typeof E=="string")for(var x=0;16>x;++x)k[x]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(x=0;16>x;++x)k[x]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=A.g[0],C=A.g[1],x=A.g[2];var O=A.g[3],I=E+(O^C&(x^O))+k[0]+3614090360&4294967295;E=C+(I<<7&4294967295|I>>>25),I=O+(x^E&(C^x))+k[1]+3905402710&4294967295,O=E+(I<<12&4294967295|I>>>20),I=x+(C^O&(E^C))+k[2]+606105819&4294967295,x=O+(I<<17&4294967295|I>>>15),I=C+(E^x&(O^E))+k[3]+3250441966&4294967295,C=x+(I<<22&4294967295|I>>>10),I=E+(O^C&(x^O))+k[4]+4118548399&4294967295,E=C+(I<<7&4294967295|I>>>25),I=O+(x^E&(C^x))+k[5]+1200080426&4294967295,O=E+(I<<12&4294967295|I>>>20),I=x+(C^O&(E^C))+k[6]+2821735955&4294967295,x=O+(I<<17&4294967295|I>>>15),I=C+(E^x&(O^E))+k[7]+4249261313&4294967295,C=x+(I<<22&4294967295|I>>>10),I=E+(O^C&(x^O))+k[8]+1770035416&4294967295,E=C+(I<<7&4294967295|I>>>25),I=O+(x^E&(C^x))+k[9]+2336552879&4294967295,O=E+(I<<12&4294967295|I>>>20),I=x+(C^O&(E^C))+k[10]+4294925233&4294967295,x=O+(I<<17&4294967295|I>>>15),I=C+(E^x&(O^E))+k[11]+2304563134&4294967295,C=x+(I<<22&4294967295|I>>>10),I=E+(O^C&(x^O))+k[12]+1804603682&4294967295,E=C+(I<<7&4294967295|I>>>25),I=O+(x^E&(C^x))+k[13]+4254626195&4294967295,O=E+(I<<12&4294967295|I>>>20),I=x+(C^O&(E^C))+k[14]+2792965006&4294967295,x=O+(I<<17&4294967295|I>>>15),I=C+(E^x&(O^E))+k[15]+1236535329&4294967295,C=x+(I<<22&4294967295|I>>>10),I=E+(x^O&(C^x))+k[1]+4129170786&4294967295,E=C+(I<<5&4294967295|I>>>27),I=O+(C^x&(E^C))+k[6]+3225465664&4294967295,O=E+(I<<9&4294967295|I>>>23),I=x+(E^C&(O^E))+k[11]+643717713&4294967295,x=O+(I<<14&4294967295|I>>>18),I=C+(O^E&(x^O))+k[0]+3921069994&4294967295,C=x+(I<<20&4294967295|I>>>12),I=E+(x^O&(C^x))+k[5]+3593408605&4294967295,E=C+(I<<5&4294967295|I>>>27),I=O+(C^x&(E^C))+k[10]+38016083&4294967295,O=E+(I<<9&4294967295|I>>>23),I=x+(E^C&(O^E))+k[15]+3634488961&4294967295,x=O+(I<<14&4294967295|I>>>18),I=C+(O^E&(x^O))+k[4]+3889429448&4294967295,C=x+(I<<20&4294967295|I>>>12),I=E+(x^O&(C^x))+k[9]+568446438&4294967295,E=C+(I<<5&4294967295|I>>>27),I=O+(C^x&(E^C))+k[14]+3275163606&4294967295,O=E+(I<<9&4294967295|I>>>23),I=x+(E^C&(O^E))+k[3]+4107603335&4294967295,x=O+(I<<14&4294967295|I>>>18),I=C+(O^E&(x^O))+k[8]+1163531501&4294967295,C=x+(I<<20&4294967295|I>>>12),I=E+(x^O&(C^x))+k[13]+2850285829&4294967295,E=C+(I<<5&4294967295|I>>>27),I=O+(C^x&(E^C))+k[2]+4243563512&4294967295,O=E+(I<<9&4294967295|I>>>23),I=x+(E^C&(O^E))+k[7]+1735328473&4294967295,x=O+(I<<14&4294967295|I>>>18),I=C+(O^E&(x^O))+k[12]+2368359562&4294967295,C=x+(I<<20&4294967295|I>>>12),I=E+(C^x^O)+k[5]+4294588738&4294967295,E=C+(I<<4&4294967295|I>>>28),I=O+(E^C^x)+k[8]+2272392833&4294967295,O=E+(I<<11&4294967295|I>>>21),I=x+(O^E^C)+k[11]+1839030562&4294967295,x=O+(I<<16&4294967295|I>>>16),I=C+(x^O^E)+k[14]+4259657740&4294967295,C=x+(I<<23&4294967295|I>>>9),I=E+(C^x^O)+k[1]+2763975236&4294967295,E=C+(I<<4&4294967295|I>>>28),I=O+(E^C^x)+k[4]+1272893353&4294967295,O=E+(I<<11&4294967295|I>>>21),I=x+(O^E^C)+k[7]+4139469664&4294967295,x=O+(I<<16&4294967295|I>>>16),I=C+(x^O^E)+k[10]+3200236656&4294967295,C=x+(I<<23&4294967295|I>>>9),I=E+(C^x^O)+k[13]+681279174&4294967295,E=C+(I<<4&4294967295|I>>>28),I=O+(E^C^x)+k[0]+3936430074&4294967295,O=E+(I<<11&4294967295|I>>>21),I=x+(O^E^C)+k[3]+3572445317&4294967295,x=O+(I<<16&4294967295|I>>>16),I=C+(x^O^E)+k[6]+76029189&4294967295,C=x+(I<<23&4294967295|I>>>9),I=E+(C^x^O)+k[9]+3654602809&4294967295,E=C+(I<<4&4294967295|I>>>28),I=O+(E^C^x)+k[12]+3873151461&4294967295,O=E+(I<<11&4294967295|I>>>21),I=x+(O^E^C)+k[15]+530742520&4294967295,x=O+(I<<16&4294967295|I>>>16),I=C+(x^O^E)+k[2]+3299628645&4294967295,C=x+(I<<23&4294967295|I>>>9),I=E+(x^(C|~O))+k[0]+4096336452&4294967295,E=C+(I<<6&4294967295|I>>>26),I=O+(C^(E|~x))+k[7]+1126891415&4294967295,O=E+(I<<10&4294967295|I>>>22),I=x+(E^(O|~C))+k[14]+2878612391&4294967295,x=O+(I<<15&4294967295|I>>>17),I=C+(O^(x|~E))+k[5]+4237533241&4294967295,C=x+(I<<21&4294967295|I>>>11),I=E+(x^(C|~O))+k[12]+1700485571&4294967295,E=C+(I<<6&4294967295|I>>>26),I=O+(C^(E|~x))+k[3]+2399980690&4294967295,O=E+(I<<10&4294967295|I>>>22),I=x+(E^(O|~C))+k[10]+4293915773&4294967295,x=O+(I<<15&4294967295|I>>>17),I=C+(O^(x|~E))+k[1]+2240044497&4294967295,C=x+(I<<21&4294967295|I>>>11),I=E+(x^(C|~O))+k[8]+1873313359&4294967295,E=C+(I<<6&4294967295|I>>>26),I=O+(C^(E|~x))+k[15]+4264355552&4294967295,O=E+(I<<10&4294967295|I>>>22),I=x+(E^(O|~C))+k[6]+2734768916&4294967295,x=O+(I<<15&4294967295|I>>>17),I=C+(O^(x|~E))+k[13]+1309151649&4294967295,C=x+(I<<21&4294967295|I>>>11),I=E+(x^(C|~O))+k[4]+4149444226&4294967295,E=C+(I<<6&4294967295|I>>>26),I=O+(C^(E|~x))+k[11]+3174756917&4294967295,O=E+(I<<10&4294967295|I>>>22),I=x+(E^(O|~C))+k[2]+718787259&4294967295,x=O+(I<<15&4294967295|I>>>17),I=C+(O^(x|~E))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,A.g[2]=A.g[2]+x&4294967295,A.g[3]=A.g[3]+O&4294967295}r.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var C=E-this.blockSize,k=this.B,x=this.h,O=0;O<E;){if(x==0)for(;O<=C;)o(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<E;)if(k[x++]=A.charCodeAt(O++),x==this.blockSize){o(this,k),x=0;break}}else for(;O<E;)if(k[x++]=A[O++],x==this.blockSize){o(this,k),x=0;break}}this.h=x,this.o+=E},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var C=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=C&255,C/=256;for(this.u(A),A=Array(16),E=C=0;4>E;++E)for(var k=0;32>k;k+=8)A[C++]=this.g[E]>>>k&255;return A};function c(A,E){var C=d;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=E(A)}function u(A,E){this.h=E;for(var C=[],k=!0,x=A.length-1;0<=x;x--){var O=A[x]|0;k&&O==E||(C[x]=O,k=!1)}this.g=C}var d={};function m(A){return-128<=A&&128>A?c(A,function(E){return new u([E|0],0>E?-1:0)}):new u([A|0],0>A?-1:0)}function y(A){if(isNaN(A)||!isFinite(A))return w;if(0>A)return at(y(-A));for(var E=[],C=1,k=0;A>=C;k++)E[k]=A/C|0,C*=4294967296;return new u(E,0)}function b(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return at(b(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(E,8)),k=w,x=0;x<A.length;x+=8){var O=Math.min(8,A.length-x),I=parseInt(A.substring(x,x+O),E);8>O?(O=y(Math.pow(E,O)),k=k.j(O).add(y(I))):(k=k.j(C),k=k.add(y(I)))}return k}var w=m(0),R=m(1),z=m(16777216);e=u.prototype,e.m=function(){if(Z(this))return-at(this).m();for(var A=0,E=1,C=0;C<this.g.length;C++){var k=this.i(C);A+=(0<=k?k:4294967296+k)*E,E*=4294967296}return A},e.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if($(this))return"0";if(Z(this))return"-"+at(this).toString(A);for(var E=y(Math.pow(A,6)),C=this,k="";;){var x=st(C,E).g;C=ct(C,x.j(E));var O=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=x,$(C))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},e.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function $(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function Z(A){return A.h==-1}e.l=function(A){return A=ct(this,A),Z(A)?-1:$(A)?0:1};function at(A){for(var E=A.g.length,C=[],k=0;k<E;k++)C[k]=~A.g[k];return new u(C,~A.h).add(R)}e.abs=function(){return Z(this)?at(this):this},e.add=function(A){for(var E=Math.max(this.g.length,A.g.length),C=[],k=0,x=0;x<=E;x++){var O=k+(this.i(x)&65535)+(A.i(x)&65535),I=(O>>>16)+(this.i(x)>>>16)+(A.i(x)>>>16);k=I>>>16,O&=65535,I&=65535,C[x]=I<<16|O}return new u(C,C[C.length-1]&-2147483648?-1:0)};function ct(A,E){return A.add(at(E))}e.j=function(A){if($(this)||$(A))return w;if(Z(this))return Z(A)?at(this).j(at(A)):at(at(this).j(A));if(Z(A))return at(this.j(at(A)));if(0>this.l(z)&&0>A.l(z))return y(this.m()*A.m());for(var E=this.g.length+A.g.length,C=[],k=0;k<2*E;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var x=0;x<A.g.length;x++){var O=this.i(k)>>>16,I=this.i(k)&65535,ee=A.i(x)>>>16,De=A.i(x)&65535;C[2*k+2*x]+=I*De,rt(C,2*k+2*x),C[2*k+2*x+1]+=O*De,rt(C,2*k+2*x+1),C[2*k+2*x+1]+=I*ee,rt(C,2*k+2*x+1),C[2*k+2*x+2]+=O*ee,rt(C,2*k+2*x+2)}for(k=0;k<E;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=E;k<2*E;k++)C[k]=0;return new u(C,0)};function rt(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function Q(A,E){this.g=A,this.h=E}function st(A,E){if($(E))throw Error("division by zero");if($(A))return new Q(w,w);if(Z(A))return E=st(at(A),E),new Q(at(E.g),at(E.h));if(Z(E))return E=st(A,at(E)),new Q(at(E.g),E.h);if(30<A.g.length){if(Z(A)||Z(E))throw Error("slowDivide_ only works with positive integers.");for(var C=R,k=E;0>=k.l(A);)C=Ct(C),k=Ct(k);var x=Dt(C,1),O=Dt(k,1);for(k=Dt(k,2),C=Dt(C,2);!$(k);){var I=O.add(k);0>=I.l(A)&&(x=x.add(C),O=I),k=Dt(k,1),C=Dt(C,1)}return E=ct(A,x.j(E)),new Q(x,E)}for(x=w;0<=A.l(E);){for(C=Math.max(1,Math.floor(A.m()/E.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=y(C),I=O.j(E);Z(I)||0<I.l(A);)C-=k,O=y(C),I=O.j(E);$(O)&&(O=R),x=x.add(O),A=ct(A,I)}return new Q(x,A)}e.A=function(A){return st(this,A).h},e.and=function(A){for(var E=Math.max(this.g.length,A.g.length),C=[],k=0;k<E;k++)C[k]=this.i(k)&A.i(k);return new u(C,this.h&A.h)},e.or=function(A){for(var E=Math.max(this.g.length,A.g.length),C=[],k=0;k<E;k++)C[k]=this.i(k)|A.i(k);return new u(C,this.h|A.h)},e.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),C=[],k=0;k<E;k++)C[k]=this.i(k)^A.i(k);return new u(C,this.h^A.h)};function Ct(A){for(var E=A.g.length+1,C=[],k=0;k<E;k++)C[k]=A.i(k)<<1|A.i(k-1)>>>31;return new u(C,A.h)}function Dt(A,E){var C=E>>5;E%=32;for(var k=A.g.length-C,x=[],O=0;O<k;O++)x[O]=0<E?A.i(O+C)>>>E|A.i(O+C+1)<<32-E:A.i(O+C);return new u(x,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=b,Zd=u}).apply(typeof wh<"u"?wh:typeof self<"u"?self:typeof window<"u"?window:{});var Jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,_){return a==Array.prototype||a==Object.prototype||(a[f]=_.value),a};function i(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jo=="object"&&Jo];for(var f=0;f<a.length;++f){var _=a[f];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(a,f){if(f)t:{var _=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var N=a[v];if(!(N in _))break t;_=_[N]}a=a[a.length-1],v=_[a],f=f(v),f!=v&&f!=null&&t(_,a,{configurable:!0,writable:!0,value:f})}}function c(a,f){a instanceof String&&(a+="");var _=0,v=!1,N={next:function(){if(!v&&_<a.length){var F=_++;return{value:f(F,a[F]),done:!1}}return v=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}o("Array.prototype.values",function(a){return a||function(){return c(this,function(f,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function m(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function y(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function b(a,f,_){return a.call.apply(a.bind,arguments)}function w(a,f,_){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,v),a.apply(f,N)}}return function(){return a.apply(f,arguments)}}function R(a,f,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:w,R.apply(null,arguments)}function z(a,f){var _=Array.prototype.slice.call(arguments,1);return function(){var v=_.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function $(a,f){function _(){}_.prototype=f.prototype,a.aa=f.prototype,a.prototype=new _,a.prototype.constructor=a,a.Qb=function(v,N,F){for(var J=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)J[Kt-2]=arguments[Kt];return f.prototype[N].apply(v,J)}}function Z(a){const f=a.length;if(0<f){const _=Array(f);for(let v=0;v<f;v++)_[v]=a[v];return _}return[]}function at(a,f){for(let _=1;_<arguments.length;_++){const v=arguments[_];if(m(v)){const N=a.length||0,F=v.length||0;a.length=N+F;for(let J=0;J<F;J++)a[N+J]=v[J]}else a.push(v)}}class ct{constructor(f,_){this.i=f,this.j=_,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function rt(a){return/^[\s\xa0]*$/.test(a)}function Q(){var a=d.navigator;return a&&(a=a.userAgent)?a:""}function st(a){return st[" "](a),a}st[" "]=function(){};var Ct=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function Dt(a,f,_){for(const v in a)f.call(_,a[v],v,a)}function A(a,f){for(const _ in a)f.call(void 0,a[_],_,a)}function E(a){const f={};for(const _ in a)f[_]=a[_];return f}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(a,f){let _,v;for(let N=1;N<arguments.length;N++){v=arguments[N];for(_ in v)a[_]=v[_];for(let F=0;F<C.length;F++)_=C[F],Object.prototype.hasOwnProperty.call(v,_)&&(a[_]=v[_])}}function x(a){var f=1;a=a.split(":");const _=[];for(;0<f&&a.length;)_.push(a.shift()),f--;return a.length&&_.push(a.join(":")),_}function O(a){d.setTimeout(()=>{throw a},0)}function I(){var a=we;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class ee{constructor(){this.h=this.g=null}add(f,_){const v=De.get();v.set(f,_),this.h?this.h.next=v:this.g=v,this.h=v}}var De=new ct(()=>new Ft,a=>a.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(f,_){this.h=f,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let xt,tt=!1,we=new ee,ft=()=>{const a=d.Promise.resolve(void 0);xt=()=>{a.then(Nt)}};var Nt=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(_){O(_)}var f=De;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}tt=!1};function Lt(){this.s=this.s,this.C=this.C}Lt.prototype.s=!1,Lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function kt(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}kt.prototype.h=function(){this.defaultPrevented=!0};var Gt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const _=()=>{};d.addEventListener("test",_,f),d.removeEventListener("test",_,f)}catch{}return a}();function At(a,f){if(kt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var _=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(Ct){t:{try{st(f.nodeName);var N=!0;break t}catch{}N=!1}N||(f=null)}}else _=="mouseover"?f=a.fromElement:_=="mouseout"&&(f=a.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:gt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&At.aa.h.call(this)}}$(At,kt);var gt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),et=0;function nt(a,f,_,v,N){this.listener=a,this.proxy=null,this.src=f,this.type=_,this.capture=!!v,this.ha=N,this.key=++et,this.da=this.fa=!1}function lt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Bt(a){this.src=a,this.g={},this.h=0}Bt.prototype.add=function(a,f,_,v,N){var F=a.toString();a=this.g[F],a||(a=this.g[F]=[],this.h++);var J=P(a,f,v,N);return-1<J?(f=a[J],_||(f.fa=!1)):(f=new nt(f,this.src,F,!!v,N),f.fa=_,a.push(f)),f};function T(a,f){var _=f.type;if(_ in a.g){var v=a.g[_],N=Array.prototype.indexOf.call(v,f,void 0),F;(F=0<=N)&&Array.prototype.splice.call(v,N,1),F&&(lt(f),a.g[_].length==0&&(delete a.g[_],a.h--))}}function P(a,f,_,v){for(var N=0;N<a.length;++N){var F=a[N];if(!F.da&&F.listener==f&&F.capture==!!_&&F.ha==v)return N}return-1}var M="closure_lm_"+(1e6*Math.random()|0),H={};function W(a,f,_,v,N){if(Array.isArray(f)){for(var F=0;F<f.length;F++)W(a,f[F],_,v,N);return null}return _=mt(_),a&&a[j]?a.K(f,_,y(v)?!!v.capture:!1,N):V(a,f,_,!1,v,N)}function V(a,f,_,v,N,F){if(!f)throw Error("Invalid event type");var J=y(N)?!!N.capture:!!N,Kt=it(a);if(Kt||(a[M]=Kt=new Bt(a)),_=Kt.add(f,_,v,J,F),_.proxy)return _;if(v=X(),_.proxy=v,v.src=a,v.listener=_,a.addEventListener)Gt||(N=J),N===void 0&&(N=!1),a.addEventListener(f.toString(),v,N);else if(a.attachEvent)a.attachEvent(K(f.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return _}function X(){function a(_){return f.call(a.src,a.listener,_)}const f=pt;return a}function Y(a,f,_,v,N){if(Array.isArray(f))for(var F=0;F<f.length;F++)Y(a,f[F],_,v,N);else v=y(v)?!!v.capture:!!v,_=mt(_),a&&a[j]?(a=a.i,f=String(f).toString(),f in a.g&&(F=a.g[f],_=P(F,_,v,N),-1<_&&(lt(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete a.g[f],a.h--)))):a&&(a=it(a))&&(f=a.g[f.toString()],a=-1,f&&(a=P(f,_,v,N)),(_=-1<a?f[a]:null)&&q(_))}function q(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[j])T(f.i,a);else{var _=a.type,v=a.proxy;f.removeEventListener?f.removeEventListener(_,v,a.capture):f.detachEvent?f.detachEvent(K(_),v):f.addListener&&f.removeListener&&f.removeListener(v),(_=it(f))?(T(_,a),_.h==0&&(_.src=null,f[M]=null)):lt(a)}}}function K(a){return a in H?H[a]:H[a]="on"+a}function pt(a,f){if(a.da)a=!0;else{f=new At(f,this);var _=a.listener,v=a.ha||a.src;a.fa&&q(a),a=_.call(v,f)}return a}function it(a){return a=a[M],a instanceof Bt?a:null}var ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function mt(a){return typeof a=="function"?a:(a[ut]||(a[ut]=function(f){return a.handleEvent(f)}),a[ut])}function dt(){Lt.call(this),this.i=new Bt(this),this.M=this,this.F=null}$(dt,Lt),dt.prototype[j]=!0,dt.prototype.removeEventListener=function(a,f,_,v){Y(this,a,f,_,v)};function Et(a,f){var _,v=a.F;if(v)for(_=[];v;v=v.F)_.push(v);if(a=a.M,v=f.type||f,typeof f=="string")f=new kt(f,a);else if(f instanceof kt)f.target=f.target||a;else{var N=f;f=new kt(v,a),k(f,N)}if(N=!0,_)for(var F=_.length-1;0<=F;F--){var J=f.g=_[F];N=Ot(J,v,!0,f)&&N}if(J=f.g=a,N=Ot(J,v,!0,f)&&N,N=Ot(J,v,!1,f)&&N,_)for(F=0;F<_.length;F++)J=f.g=_[F],N=Ot(J,v,!1,f)&&N}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var _=a.g[f],v=0;v<_.length;v++)lt(_[v]);delete a.g[f],a.h--}}this.F=null},dt.prototype.K=function(a,f,_,v){return this.i.add(String(a),f,!1,_,v)},dt.prototype.L=function(a,f,_,v){return this.i.add(String(a),f,!0,_,v)};function Ot(a,f,_,v){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var N=!0,F=0;F<f.length;++F){var J=f[F];if(J&&!J.da&&J.capture==_){var Kt=J.listener,de=J.ha||J.src;J.fa&&T(a.i,J),N=Kt.call(de,v)!==!1&&N}}return N&&!v.defaultPrevented}function me(a,f,_){if(typeof a=="function")_&&(a=R(a,_));else if(a&&typeof a.handleEvent=="function")a=R(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:d.setTimeout(a,f||0)}function ce(a){a.g=me(()=>{a.g=null,a.i&&(a.i=!1,ce(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Se extends Lt{constructor(f,_){super(),this.m=f,this.l=_,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ce(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _e(a){Lt.call(this),this.h=a,this.g={}}$(_e,Lt);var hn=[];function Nn(a){Dt(a.g,function(f,_){this.g.hasOwnProperty(_)&&q(f)},a),a.g={}}_e.prototype.N=function(){_e.aa.N.call(this),Nn(this)},_e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=d.JSON.stringify,Ne=d.JSON.parse,Pn=class{stringify(a){return d.JSON.stringify(a,void 0)}parse(a){return d.JSON.parse(a,void 0)}};function Ys(){}Ys.prototype.h=null;function _o(a){return a.h||(a.h=a.i())}function go(){}var ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function os(){kt.call(this,"d")}$(os,kt);function Xs(){kt.call(this,"c")}$(Xs,kt);var li={},vo=null;function Qs(){return vo=vo||new dt}li.La="serverreachability";function yo(a){kt.call(this,li.La,a)}$(yo,kt);function Ni(a){const f=Qs();Et(f,new yo(f))}li.STAT_EVENT="statevent";function as(a,f){kt.call(this,li.STAT_EVENT,a),this.stat=f}$(as,kt);function ye(a){const f=Qs();Et(f,new as(f,a))}li.Ma="timingevent";function wo(a,f){kt.call(this,li.Ma,a),this.size=f}$(wo,kt);function Bi(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){a()},f)}function zi(){this.g=!0}zi.prototype.xa=function(){this.g=!1};function tn(a,f,_,v,N,F){a.info(function(){if(a.g)if(F)for(var J="",Kt=F.split("&"),de=0;de<Kt.length;de++){var Ut=Kt[de].split("=");if(1<Ut.length){var ge=Ut[0];Ut=Ut[1];var Jt=ge.split("_");J=2<=Jt.length&&Jt[1]=="type"?J+(ge+"="+Ut+"&"):J+(ge+"=redacted&")}}else J=null;else J=F;return"XMLHTTP REQ ("+v+") [attempt "+N+"]: "+f+`
`+_+`
`+J})}function ht(a,f,_,v,N,F,J){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+N+"]: "+f+`
`+_+`
`+F+" "+J})}function Bn(a,f,_,v){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+To(a,_)+(v?" "+v:"")})}function bo(a,f){a.info(function(){return"TIMEOUT: "+f})}zi.prototype.info=function(){};function To(a,f){if(!a.g)return f;if(!f)return null;try{var _=JSON.parse(f);if(_){for(a=0;a<_.length;a++)if(Array.isArray(_[a])){var v=_[a];if(!(2>v.length)){var N=v[1];if(Array.isArray(N)&&!(1>N.length)){var F=N[0];if(F!="noop"&&F!="stop"&&F!="close")for(var J=1;J<N.length;J++)N[J]=""}}}}return ue(_)}catch{return f}}var ls={NO_ERROR:0,TIMEOUT:8},tr={},cs;function fn(){}$(fn,Ys),fn.prototype.g=function(){return new XMLHttpRequest},fn.prototype.i=function(){return{}},cs=new fn;function dn(a,f,_,v){this.j=a,this.i=f,this.l=_,this.R=v||1,this.U=new _e(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Eo}function Eo(){this.i=null,this.g="",this.h=!1}var Po={},er={};function nr(a,f,_){a.L=1,a.v=nn(ae(f)),a.m=_,a.P=!0,ir(a,null)}function ir(a,f){a.F=Date.now(),hs(a),a.A=ae(a.v);var _=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),Co(_.i,"t",v),a.C=0,_=a.j.J,a.h=new Eo,a.g=Mo(a.j,_?f:null,!a.m),0<a.O&&(a.M=new Se(R(a.Y,a,a.g),a.O)),f=a.U,_=a.g,v=a.ca;var N="readystatechange";Array.isArray(N)||(N&&(hn[0]=N.toString()),N=hn);for(var F=0;F<N.length;F++){var J=W(_,N[F],v||f.handleEvent,!1,f.h||f);if(!J)break;f.g[J.key]=J}f=a.H?E(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Ni(),tn(a.i,a.u,a.A,a.l,a.R,a.m)}dn.prototype.ca=function(a){a=a.target;const f=this.M;f&&Ce(a)==3?f.j():this.Y(a)},dn.prototype.Y=function(a){try{if(a==this.g)t:{const Jt=Ce(this.g);var f=this.g.Ba();const $e=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||yr(this.g)))){this.J||Jt!=4||f==7||(f==8||0>=$e?Ni(3):Ni(2)),sr(this);var _=this.g.Z();this.X=_;e:if(Io(this)){var v=yr(this.g);a="";var N=v.length,F=Ce(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zn(this),Ui(this);var J="";break e}this.h.i=new d.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,a+=this.h.i.decode(v[f],{stream:!(F&&f==N-1)});v.length=0,this.h.g+=a,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=_==200,ht(this.i,this.u,this.A,this.l,this.R,Jt,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Kt,de=this.g;if((Kt=de.g?de.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(Kt)){var Ut=Kt;break e}}Ut=null}if(_=Ut)Bn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fi(this,_);else{this.o=!1,this.s=3,ye(12),zn(this),Ui(this);break t}}if(this.P){_=!0;let Ge;for(;!this.J&&this.C<J.length;)if(Ge=us(this,J),Ge==er){Jt==4&&(this.s=4,ye(14),_=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==Po){this.s=4,ye(15),Bn(this.i,this.l,J,"[Invalid Chunk]"),_=!1;break}else Bn(this.i,this.l,Ge,null),Fi(this,Ge);if(Io(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||J.length!=0||this.h.h||(this.s=1,ye(16),_=!1),this.o=this.o&&_,!_)Bn(this.i,this.l,J,"[Invalid Chunked Response]"),zn(this),Ui(this);else if(0<J.length&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.ba&&!ge.M&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ws(ge),ge.M=!0,ye(11))}}else Bn(this.i,this.l,J,null),Fi(this,J);Jt==4&&zn(this),this.o&&!this.J&&(Jt==4?br(this.j,this):(this.o=!1,hs(this)))}else Fa(this.g),_==400&&0<J.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),zn(this),Ui(this)}}}catch{}finally{}};function Io(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function us(a,f){var _=a.C,v=f.indexOf(`
`,_);return v==-1?er:(_=Number(f.substring(_,v)),isNaN(_)?Po:(v+=1,v+_>f.length?er:(f=f.slice(v,v+_),a.C=v+_,f)))}dn.prototype.cancel=function(){this.J=!0,zn(this)};function hs(a){a.S=Date.now()+a.I,So(a,a.I)}function So(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Bi(R(a.ba,a),f)}function sr(a){a.B&&(d.clearTimeout(a.B),a.B=null)}dn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(bo(this.i,this.A),this.L!=2&&(Ni(),ye(17)),zn(this),this.s=2,Ui(this)):So(this,this.S-a)};function Ui(a){a.j.G==0||a.J||br(a.j,a)}function zn(a){sr(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,Nn(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function Fi(a,f){try{var _=a.j;if(_.G!=0&&(_.g==a||zt(_.h,a))){if(!a.K&&zt(_.h,a)&&_.G==3){try{var v=_.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var N=v;if(N[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<a.F)Ts(_),vs(_);else break t;ys(_),ye(18)}}else _.za=N[1],0<_.za-_.T&&37500>N[2]&&_.F&&_.v==0&&!_.C&&(_.C=Bi(R(_.Za,_),6e3));if(1>=ci(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vn(_,11)}else if((a.K||_.g==a)&&Ts(_),!rt(f))for(N=_.Da.g.parse(f),f=0;f<N.length;f++){let Ut=N[f];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const ge=Ut[3];ge!=null&&(_.la=ge,_.j.info("VER="+_.la));const Jt=Ut[4];Jt!=null&&(_.Aa=Jt,_.j.info("SVER="+_.Aa));const $e=Ut[5];$e!=null&&typeof $e=="number"&&0<$e&&(v=1.5*$e,_.L=v,_.j.info("backChannelRequestTimeoutMs_="+v)),v=_;const Ge=a.g;if(Ge){const ze=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ze){var F=v.h;F.g||ze.indexOf("spdy")==-1&&ze.indexOf("quic")==-1&&ze.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Yt(F,F.h),F.h=null))}if(v.D){const Pr=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Pr&&(v.ya=Pr,Tt(v.I,v.D,Pr))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-a.F,_.j.info("Handshake RTT: "+_.R+"ms")),v=_;var J=a;if(v.qa=Es(v,v.J?v.ia:null,v.W),J.K){Hi(v.h,J);var Kt=J,de=v.L;de&&(Kt.I=de),Kt.B&&(sr(Kt),hs(Kt)),v.g=J}else _n(v);0<_.i.length&&pi(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Vn(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Vn(_,7):gs(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Ni(4)}catch{}}var ji=class{constructor(a,f){this.g=a,this.map=f}};function rr(a){this.l=a||10,d.PerformanceNavigationTiming?(a=d.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function or(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ci(a){return a.h?1:a.g?a.g.size:0}function zt(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function Yt(a,f){a.g?a.g.add(f):a.h=f}function Hi(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}rr.prototype.cancel=function(){if(this.i=Un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Un(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const _ of a.g.values())f=f.concat(_.D);return f}return Z(a.i)}function ui(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(m(a)){for(var f=[],_=a.length,v=0;v<_;v++)f.push(a[v]);return f}f=[],_=0;for(v in a)f[_++]=a[v];return f}function ar(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(m(a)||typeof a=="string"){var f=[];a=a.length;for(var _=0;_<a;_++)f.push(_);return f}f=[],_=0;for(const v in a)f[_++]=v;return f}}}function It(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(m(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var _=ar(a),v=ui(a),N=v.length,F=0;F<N;F++)f.call(void 0,v[F],_&&_[F],a)}var ie=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lr(a,f){if(a){a=a.split("&");for(var _=0;_<a.length;_++){var v=a[_].indexOf("="),N=null;if(0<=v){var F=a[_].substring(0,v);N=a[_].substring(v+1)}else F=a[_];f(F,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function en(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof en){this.h=a.h,fs(this,a.j),this.o=a.o,this.g=a.g,Fn(this,a.s),this.l=a.l;var f=a.i,_=new jn;_.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),In(this,_),this.m=a.m}else a&&(f=String(a).match(ie))?(this.h=!1,fs(this,f[1]||"",!0),this.o=pn(f[2]||""),this.g=pn(f[3]||"",!0),Fn(this,f[4]),this.l=pn(f[5]||"",!0),In(this,f[6]||"",!0),this.m=pn(f[7]||"")):(this.h=!1,this.i=new jn(null,this.h))}en.prototype.toString=function(){var a=[],f=this.j;f&&a.push(mn(f,hi,!0),":");var _=this.g;return(_||f=="file")&&(a.push("//"),(f=this.o)&&a.push(mn(f,hi,!0),"@"),a.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&a.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&a.push("/"),a.push(mn(_,_.charAt(0)=="/"?hr:ur,!0))),(_=this.i.toString())&&a.push("?",_),(_=this.m)&&a.push("#",mn(_,fr)),a.join("")};function ae(a){return new en(a)}function fs(a,f,_){a.j=_?pn(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function Fn(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function In(a,f,_){f instanceof jn?(a.i=f,sn(a.i,a.h)):(_||(f=mn(f,ds)),a.i=new jn(f,a.h))}function Tt(a,f,_){a.i.set(f,_)}function nn(a){return Tt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function pn(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function mn(a,f,_){return typeof a=="string"?(a=encodeURI(a).replace(f,cr),_&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function cr(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var hi=/[#\/\?@]/g,ur=/[#\?:]/g,hr=/[#\?]/g,ds=/[#\?@]/g,fr=/#/g;function jn(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function Ve(a){a.g||(a.g=new Map,a.h=0,a.i&&lr(a.i,function(f,_){a.add(decodeURIComponent(f.replace(/\+/g," ")),_)}))}e=jn.prototype,e.add=function(a,f){Ve(this),this.i=null,a=vt(this,a);var _=this.g.get(a);return _||this.g.set(a,_=[]),_.push(f),this.h+=1,this};function dr(a,f){Ve(a),f=vt(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function ps(a,f){return Ve(a),f=vt(a,f),a.g.has(f)}e.forEach=function(a,f){Ve(this),this.g.forEach(function(_,v){_.forEach(function(N){a.call(f,N,v,this)},this)},this)},e.na=function(){Ve(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),_=[];for(let v=0;v<f.length;v++){const N=a[v];for(let F=0;F<N.length;F++)_.push(f[v])}return _},e.V=function(a){Ve(this);let f=[];if(typeof a=="string")ps(this,a)&&(f=f.concat(this.g.get(vt(this,a))));else{a=Array.from(this.g.values());for(let _=0;_<a.length;_++)f=f.concat(a[_])}return f},e.set=function(a,f){return Ve(this),this.i=null,a=vt(this,a),ps(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},e.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function Co(a,f,_){dr(a,f),0<_.length&&(a.i=null,a.g.set(vt(a,f),Z(_)),a.h+=_.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var _=0;_<f.length;_++){var v=f[_];const F=encodeURIComponent(String(v)),J=this.V(v);for(v=0;v<J.length;v++){var N=F;J[v]!==""&&(N+="="+encodeURIComponent(String(J[v]))),a.push(N)}}return this.i=a.join("&")};function vt(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function sn(a,f){f&&!a.j&&(Ve(a),a.i=null,a.g.forEach(function(_,v){var N=v.toLowerCase();v!=N&&(dr(this,v),Co(this,N,_))},a)),a.j=f}function qt(a,f){const _=new zi;if(d.Image){const v=new Image;v.onload=z(rn,_,"TestLoadImage: loaded",!0,f,v),v.onerror=z(rn,_,"TestLoadImage: error",!1,f,v),v.onabort=z(rn,_,"TestLoadImage: abort",!1,f,v),v.ontimeout=z(rn,_,"TestLoadImage: timeout",!1,f,v),d.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else f(!1)}function xo(a,f){const _=new zi,v=new AbortController,N=setTimeout(()=>{v.abort(),rn(_,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:v.signal}).then(F=>{clearTimeout(N),F.ok?rn(_,"TestPingServer: ok",!0,f):rn(_,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),rn(_,"TestPingServer: error",!1,f)})}function rn(a,f,_,v,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),v(_)}catch{}}function pr(){this.g=new Pn}function mr(a,f,_){const v=_||"";try{It(a,function(N,F){let J=N;y(N)&&(J=ue(N)),f.push(v+F+"="+encodeURIComponent(J))})}catch(N){throw f.push(v+"type="+encodeURIComponent("_badmap")),N}}function on(a){this.l=a.Ub||null,this.j=a.eb||!1}$(on,Ys),on.prototype.g=function(){return new fi(this.l,this.j)},on.prototype.i=function(a){return function(){return a}}({});function fi(a,f){dt.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(fi,dt),e=fi.prototype,e.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,We(this)},e.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||d).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,re(this)),this.readyState=0},e.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,We(this)),this.g&&(this.readyState=3,We(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;di(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function di(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}e.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?re(this):We(this),this.readyState==3&&di(this)}},e.Ra=function(a){this.g&&(this.response=this.responseText=a,re(this))},e.Qa=function(a){this.g&&(this.response=a,re(this))},e.ga=function(){this.g&&re(this)};function re(a){a.readyState=4,a.l=null,a.j=null,a.v=null,We(a)}e.setRequestHeader=function(a,f){this.u.append(a,f)},e.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var _=f.next();!_.done;)_=_.value,a.push(_[0]+": "+_[1]),_=f.next();return a.join(`\r
`)};function We(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function _r(a){let f="";return Dt(a,function(_,v){f+=v,f+=":",f+=_,f+=`\r
`}),f}function ms(a,f,_){t:{for(v in _){var v=!1;break t}v=!0}v||(_=_r(_),typeof a=="string"?_!=null&&encodeURIComponent(String(_)):Tt(a,f,_))}function oe(a){dt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(oe,dt);var Ao=/^https?$/i,gr=["POST","PUT"];e=oe.prototype,e.Ha=function(a){this.J=a},e.ea=function(a,f,_,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cs.g(),this.v=this.o?_o(this.o):_o(cs),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(F){Lo(this,F);return}if(a=_||"",_=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var N in v)_.set(N,v[N]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const F of v.keys())_.set(F,v.get(F));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),N=d.FormData&&a instanceof d.FormData,!(0<=Array.prototype.indexOf.call(gr,f,void 0))||v||N||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,J]of _)this.g.setRequestHeader(F,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Be(this),this.u=!0,this.g.send(a),this.u=!1}catch(F){Lo(this,F)}};function Lo(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,vr(a),_s(a)}function vr(a){a.A||(a.A=!0,Et(a,"complete"),Et(a,"error"))}e.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Et(this,"complete"),Et(this,"abort"),_s(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_s(this,!0)),oe.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Mt(this):this.bb())},e.bb=function(){Mt(this)};function Mt(a){if(a.h&&typeof u<"u"&&(!a.v[1]||Ce(a)!=4||a.Z()!=2)){if(a.u&&Ce(a)==4)me(a.Ea,0,a);else if(Et(a,"readystatechange"),Ce(a)==4){a.h=!1;try{const J=a.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break t;default:f=!1}var _;if(!(_=f)){var v;if(v=J===0){var N=String(a.D).match(ie)[1]||null;!N&&d.self&&d.self.location&&(N=d.self.location.protocol.slice(0,-1)),v=!Ao.test(N?N.toLowerCase():"")}_=v}if(_)Et(a,"complete"),Et(a,"success");else{a.m=6;try{var F=2<Ce(a)?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.Z()+"]",vr(a)}}finally{_s(a)}}}}function _s(a,f){if(a.g){Be(a);const _=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||Et(a,"ready");try{_.onreadystatechange=v}catch{}}}function Be(a){a.I&&(d.clearTimeout(a.I),a.I=null)}e.isActive=function(){return!!this.g};function Ce(a){return a.g?a.g.readyState:0}e.Z=function(){try{return 2<Ce(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),Ne(f)}};function yr(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Fa(a){const f={};a=(a.g&&2<=Ce(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(rt(a[v]))continue;var _=x(a[v]);const N=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=f[N]||[];f[N]=F,F.push(_)}A(f,function(v){return v.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hn(a,f,_){return _&&_.internalChannelParams&&_.internalChannelParams[a]||f}function ko(a){this.Aa=0,this.i=[],this.j=new zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hn("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hn("baseRetryDelayMs",5e3,a),this.cb=Hn("retryDelaySeedMs",1e4,a),this.Wa=Hn("forwardChannelMaxRetries",2,a),this.wa=Hn("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new rr(a&&a.concurrentRequestLimit),this.Da=new pr,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ko.prototype,e.la=8,e.G=1,e.connect=function(a,f,_,v){ye(0),this.W=a,this.H=f||{},_&&v!==void 0&&(this.H.OSID=_,this.H.OAID=v),this.F=this.X,this.I=Es(this,null,this.W),pi(this)};function gs(a){if(Ro(a),a.G==3){var f=a.U++,_=ae(a.I);if(Tt(_,"SID",a.K),Tt(_,"RID",f),Tt(_,"TYPE","terminate"),Vi(a,_),f=new dn(a,a.j,f),f.L=2,f.v=nn(ae(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(f.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=f.v,_=!0),_||(f.g=Mo(f.j,null),f.g.ea(f.v)),f.F=Date.now(),hs(f)}Oo(a)}function vs(a){a.g&&(ws(a),a.g.cancel(),a.g=null)}function Ro(a){vs(a),a.u&&(d.clearTimeout(a.u),a.u=null),Ts(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&d.clearTimeout(a.s),a.s=null)}function pi(a){if(!or(a.h)&&!a.s){a.s=!0;var f=a.Ga;xt||ft(),tt||(xt(),tt=!0),we.add(f,a),a.B=0}}function ja(a,f){return ci(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Bi(R(a.Ga,a,f),Tr(a,a.B)),a.B++,!0)}e.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const N=new dn(this,this.j,a);let F=this.o;if(this.S&&(F?(F=E(F),k(F,this.S)):F=this.S),this.m!==null||this.O||(N.H=F,F=null),this.P)t:{for(var f=0,_=0;_<this.i.length;_++){e:{var v=this.i[_];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break e}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=_;break t}if(f===4096||_===this.i.length-1){f=_+1;break t}}f=1e3}else f=1e3;f=wr(this,N,f),_=ae(this.I),Tt(_,"RID",a),Tt(_,"CVER",22),this.D&&Tt(_,"X-HTTP-Session-Id",this.D),Vi(this,_),F&&(this.O?f="headers="+encodeURIComponent(String(_r(F)))+"&"+f:this.m&&ms(_,this.m,F)),Yt(this.h,N),this.Ua&&Tt(_,"TYPE","init"),this.P?(Tt(_,"$req",f),Tt(_,"SID","null"),N.T=!0,nr(N,_,null)):nr(N,_,f),this.G=2}}else this.G==3&&(a?Ze(this,a):this.i.length==0||or(this.h)||Ze(this))};function Ze(a,f){var _;f?_=f.l:_=a.U++;const v=ae(a.I);Tt(v,"SID",a.K),Tt(v,"RID",_),Tt(v,"AID",a.T),Vi(a,v),a.m&&a.o&&ms(v,a.m,a.o),_=new dn(a,a.j,_,a.B+1),a.m===null&&(_.H=a.o),f&&(a.i=f.D.concat(a.i)),f=wr(a,_,1e3),_.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Yt(a.h,_),nr(_,v,f)}function Vi(a,f){a.H&&Dt(a.H,function(_,v){Tt(f,v,_)}),a.l&&It({},function(_,v){Tt(f,v,_)})}function wr(a,f,_){_=Math.min(a.i.length,_);var v=a.l?R(a.l.Na,a.l,a):null;t:{var N=a.i;let F=-1;for(;;){const J=["count="+_];F==-1?0<_?(F=N[0].g,J.push("ofs="+F)):F=0:J.push("ofs="+F);let Kt=!0;for(let de=0;de<_;de++){let Ut=N[de].g;const ge=N[de].map;if(Ut-=F,0>Ut)F=Math.max(0,N[de].g-100),Kt=!1;else try{mr(ge,J,"req"+Ut+"_")}catch{v&&v(ge)}}if(Kt){v=J.join("&");break t}}}return a=a.i.splice(0,_),f.D=a,v}function _n(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;xt||ft(),tt||(xt(),tt=!0),we.add(f,a),a.v=0}}function ys(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Bi(R(a.Fa,a),Tr(a,a.v)),a.v++,!0)}e.Fa=function(){if(this.u=null,bs(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Bi(R(this.ab,this),a)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),vs(this),bs(this))};function ws(a){a.A!=null&&(d.clearTimeout(a.A),a.A=null)}function bs(a){a.g=new dn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=ae(a.qa);Tt(f,"RID","rpc"),Tt(f,"SID",a.K),Tt(f,"AID",a.T),Tt(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&Tt(f,"TO",a.ja),Tt(f,"TYPE","xmlhttp"),Vi(a,f),a.m&&a.o&&ms(f,a.m,a.o),a.L&&(a.g.I=a.L);var _=a.g;a=a.ia,_.L=1,_.v=nn(ae(f)),_.m=null,_.P=!0,ir(_,a)}e.Za=function(){this.C!=null&&(this.C=null,vs(this),ys(this),ye(19))};function Ts(a){a.C!=null&&(d.clearTimeout(a.C),a.C=null)}function br(a,f){var _=null;if(a.g==f){Ts(a),ws(a),a.g=null;var v=2}else if(zt(a.h,f))_=f.D,Hi(a.h,f),v=1;else return;if(a.G!=0){if(f.o)if(v==1){_=f.m?f.m.length:0,f=Date.now()-f.F;var N=a.B;v=Qs(),Et(v,new wo(v,_)),pi(a)}else _n(a);else if(N=f.s,N==3||N==0&&0<f.X||!(v==1&&ja(a,f)||v==2&&ys(a)))switch(_&&0<_.length&&(f=a.h,f.i=f.i.concat(_)),N){case 1:Vn(a,5);break;case 4:Vn(a,10);break;case 3:Vn(a,6);break;default:Vn(a,2)}}}function Tr(a,f){let _=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(_*=2),_*f}function Vn(a,f){if(a.j.info("Error code "+f),f==2){var _=R(a.fb,a),v=a.Xa;const N=!v;v=new en(v||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||fs(v,"https"),nn(v),N?qt(v.toString(),_):xo(v.toString(),_)}else ye(2);a.G=0,a.l&&a.l.sa(f),Oo(a),Ro(a)}e.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function Oo(a){if(a.G=0,a.ka=[],a.l){const f=Un(a.h);(f.length!=0||a.i.length!=0)&&(at(a.ka,f),at(a.ka,a.i),a.h.i.length=0,Z(a.i),a.i.length=0),a.l.ra()}}function Es(a,f,_){var v=_ instanceof en?ae(_):new en(_);if(v.g!="")f&&(v.g=f+"."+v.g),Fn(v,v.s);else{var N=d.location;v=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var F=new en(null);v&&fs(F,v),f&&(F.g=f),N&&Fn(F,N),_&&(F.l=_),v=F}return _=a.D,f=a.ya,_&&f&&Tt(v,_,f),Tt(v,"VER",a.la),Vi(a,v),v}function Mo(a,f,_){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new oe(new on({eb:_})):new oe(a.pa),f.Ha(a.J),f}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Er(){}e=Er.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function xe(a,f){dt.call(this),this.g=new ko(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!rt(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!rt(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new mi(this)}$(xe,dt),xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xe.prototype.close=function(){gs(this.g)},xe.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var _={};_.__data__=a,a=_}else this.u&&(_={},_.__data__=ue(a),a=_);f.i.push(new ji(f.Ya++,a)),f.G==3&&pi(f)},xe.prototype.N=function(){this.g.l=null,delete this.j,gs(this.g),delete this.g,xe.aa.N.call(this)};function Wi(a){os.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){t:{for(const _ in f){a=_;break t}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}$(Wi,os);function Sn(){Xs.call(this),this.status=1}$(Sn,Xs);function mi(a){this.g=a}$(mi,Er),mi.prototype.ua=function(){Et(this.g,"a")},mi.prototype.ta=function(a){Et(this.g,new Wi(a))},mi.prototype.sa=function(a){Et(this.g,new Sn)},mi.prototype.ra=function(){Et(this.g,"b")},xe.prototype.send=xe.prototype.o,xe.prototype.open=xe.prototype.m,xe.prototype.close=xe.prototype.close,ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,tr.COMPLETE="complete",go.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",dt.prototype.listen=dt.prototype.K,oe.prototype.listenOnce=oe.prototype.L,oe.prototype.getLastError=oe.prototype.Ka,oe.prototype.getLastErrorCode=oe.prototype.Ba,oe.prototype.getStatus=oe.prototype.Z,oe.prototype.getResponseJson=oe.prototype.Oa,oe.prototype.getResponseText=oe.prototype.oa,oe.prototype.send=oe.prototype.ea,oe.prototype.setWithCredentials=oe.prototype.Ha}).apply(typeof Jo<"u"?Jo:typeof self<"u"?self:typeof window<"u"?window:{});const bh="@firebase/firestore",Th="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ke.UNAUTHENTICATED=new ke(null),ke.GOOGLE_CREDENTIALS=new ke("google-credentials-uid"),ke.FIRST_PARTY=new ke("first-party-uid"),ke.MOCK_USER=new ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new cc("@firebase/firestore");function wn(e,...t){if(Gs.logLevel<=$t.DEBUG){const i=t.map(Ec);Gs.debug(`Firestore (${mo}): ${e}`,...i)}}function $d(e,...t){if(Gs.logLevel<=$t.ERROR){const i=t.map(Ec);Gs.error(`Firestore (${mo}): ${e}`,...i)}}function tE(e,...t){if(Gs.logLevel<=$t.WARN){const i=t.map(Ec);Gs.warn(`Firestore (${mo}): ${e}`,...i)}}function Ec(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(e="Unexpected state"){const t=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: `+e;throw $d(t),new Error(t)}function Zr(e,t){e||Pc()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class je extends oi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(ke.UNAUTHENTICATED))}shutdown(){}}class nE{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class iE{constructor(t){this.t=t,this.currentUser=ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zr(this.o===void 0);let r=this.i;const o=m=>this.i!==r?(r=this.i,i(m)):Promise.resolve();let c=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $r,t.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const m=c;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{wn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(wn("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $r)}},0),u()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==t?(wn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zr(typeof r.accessToken=="string"),new Gd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zr(t===null||typeof t=="string"),new ke(t)}}class sE{constructor(t,i,r){this.l=t,this.h=i,this.P=r,this.type="FirstParty",this.user=ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class rE{constructor(t,i,r){this.l=t,this.h=i,this.P=r}getToken(){return Promise.resolve(new sE(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Eh{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oE{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Je(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Zr(this.o===void 0);const r=c=>{c.error!=null&&wn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.R;return this.R=c.token,wn("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>r(c))};const o=c=>{wn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):wn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Eh(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Zr(typeof i.token=="string"),this.R=i.token,new Eh(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function aE(e){return e.name==="IndexedDbTransactionError"}const Ul="(default)";class Ta{constructor(t,i){this.projectId=t,this.database=i||Ul}static empty(){return new Ta("","")}get isDefaultDatabase(){return this.database===Ul}isEqual(t){return t instanceof Ta&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ph,jt;(jt=Ph||(Ph={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Zd([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=1048576;function pl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t,i,r=1e3,o=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=r,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-r);o>0&&wn("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,i,r,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,c){const u=Date.now()+r,d=new Ic(t,i,u,o,c);return d.start(r),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(Fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Ih,Sh;(Sh=Ih||(Ih={}))._a="default",Sh.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map;function fE(e,t,i,r){if(t===!0&&r===!0)throw new je(Fe.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function dE(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Pc()}function pE(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new je(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=dE(e);throw new je(Fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="firestore.googleapis.com",xh=!0;class Ah{constructor(t){var i,r;if(t.host===void 0){if(t.ssl!==void 0)throw new je(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kd,this.ssl=xh}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:xh;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=lE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<cE)throw new je(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hE((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new je(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new je(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new je(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qd{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ah({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new je(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ah(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eE;switch(r.type){case"firstParty":return new rE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=Ch.get(i);r&&(wn("ComponentProvider","Removing Datastore"),Ch.delete(i),r.terminate())}(this),Promise.resolve()}}function mE(e,t,i,r={}){var o;const c=(e=pE(e,qd))._getSettings(),u=Object.assign(Object.assign({},c),{emulatorOptions:e._getEmulatorOptions()}),d=`${t}:${i}`;c.host!==Kd&&c.host!==d&&tE("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},c),{host:d,ssl:!1,emulatorOptions:r});if(!ts(m,u)&&(e._setSettings(m),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=ke.MOCK_USER;else{y=mw(r.mockUserToken,(o=e._app)===null||o===void 0?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new je(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ke(w)}e._authCredentials=new nE(new Gd(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh="AsyncQueue";class kh{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new uE(this,"async_queue_retry"),this.Su=()=>{const r=pl();r&&wn(Lh,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const i=pl();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=pl();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new $r;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!aE(t))throw t;wn(Lh,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const o=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(r);throw $d("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=i,i}enqueueAfterDelay(t,i,r){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const o=Ic.createAndSchedule(this,t,i,r,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&Pc()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class _E extends qd{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new kh,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kh(t),this._firestoreClient=void 0,await t}}}function gE(e,t){const i=typeof e=="object"?e:cd(),r=typeof e=="string"?e:Ul,o=hc(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=dw("firestore");c&&mE(o,...c)}return o}(function(t,i=!0){(function(o){mo=o})(qs),$s(new es("firestore",(r,{instanceIdentifier:o,options:c})=>{const u=r.getProvider("app").getImmediate(),d=new _E(new iE(r.getProvider("auth-internal")),new oE(u,r.getProvider("app-check-internal")),function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new je(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ta(y.options.projectId,b)}(u,o),u);return c=Object.assign({useFetchStreams:i},c),d._setSettings(c),d},"PUBLIC").setMultipleInstances(!0)),Li(bh,Th,t),Li(bh,Th,"esm2017")})();const vE={apiKey:"AIzaSyDx3EgoNVGjwsjvugK7-YwfwxRX2aPSB6k",authDomain:"tripmaster-64cb7.firebaseapp.com",projectId:"tripmaster-64cb7",storageBucket:"tripmaster-64cb7.firebasestorage.app",messagingSenderId:"1015671912746",appId:"1:1015671912746:web:9379e6f43ed18c9fe38653",measurementId:"G-MD5JGE52F8"},Jd=ld(vE);gE(Jd);const Fl=JT(Jd),yE={name:"Login",setup(){const e=Yi(""),t=Yi(""),i=Yi(""),r=ac();return{email:e,password:t,loginWithEmail:async()=>{try{const u=await B0(Fl,e.value,t.value);console.log("User logged in:",u.user),r.push("/")}catch(u){i.value="Login failed: "+u.message,console.error("Error during login",u)}},loginWithGoogle:async()=>{try{const u=new Xn,d=await rT(Fl,u);console.log("User logged in with Google:",d.user),r.push("/")}catch(u){i.value="Google login failed: "+u.message,console.error("Error during Google login",u)}},errorMessage:i}}},wE={class:"login-page"},bE={key:0,class:"error"};function TE(e,t,i,r,o,c){return bt(),Pt("div",wE,[t[7]||(t[7]=D("h1",null,"Welcome to Trip Master!",-1)),r.errorMessage?(bt(),Pt("div",bE,Ht(r.errorMessage),1)):pe("",!0),D("form",{onSubmit:t[2]||(t[2]=rc((...u)=>r.loginWithEmail&&r.loginWithEmail(...u),["prevent"]))},[D("div",null,[t[4]||(t[4]=D("label",{for:"email"},"Email:",-1)),se(D("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=u=>r.email=u),id:"email",required:""},null,512),[[le,r.email]])]),D("div",null,[t[5]||(t[5]=D("label",{for:"password"},"Password:",-1)),se(D("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=u=>r.password=u),id:"password",required:""},null,512),[[le,r.password]])]),t[6]||(t[6]=D("button",{type:"submit"},"Login",-1))],32),D("button",{onClick:t[3]||(t[3]=(...u)=>r.loginWithGoogle&&r.loginWithGoogle(...u))},"Login with Google")])}const EE=Qe(yE,[["render",TE],["__scopeId","data-v-aad426dc"]]),PE={setup(){const e=Yi(""),t=Yi(""),i=Yi(""),r=ac();return{email:e,password:t,errorMessage:i,registerUser:async()=>{try{await N0(Fl,e.value,t.value),r.push("/login")}catch(c){i.value=c.message}}}}},IE={class:"register"},SE={key:0,class:"error"};function CE(e,t,i,r,o,c){const u=gn("router-link");return bt(),Pt("div",IE,[t[8]||(t[8]=D("h2",null,"Create an Account",-1)),D("form",{onSubmit:t[2]||(t[2]=rc((...d)=>r.registerUser&&r.registerUser(...d),["prevent"]))},[D("div",null,[t[3]||(t[3]=D("label",{for:"email"},"Email:",-1)),se(D("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=d=>r.email=d),id:"email",required:""},null,512),[[le,r.email]])]),D("div",null,[t[4]||(t[4]=D("label",{for:"password"},"Password:",-1)),se(D("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=d=>r.password=d),id:"password",required:""},null,512),[[le,r.password]])]),t[5]||(t[5]=D("button",{type:"submit"},"Register",-1))],32),r.errorMessage?(bt(),Pt("p",SE,Ht(r.errorMessage),1)):pe("",!0),D("div",null,[D("p",null,[t[7]||(t[7]=He("Already have an account? ")),ne(u,{to:"/login"},{default:Si(()=>t[6]||(t[6]=[He("Login here")])),_:1})])])])}const xE=Qe(PE,[["render",CE],["__scopeId","data-v-45cfffd4"]]),AE={},LE={class:"info-page"},kE={class:"authors"};function RE(e,t){return bt(),Pt("div",LE,[t[4]||(t[4]=D("div",{class:"about-app"},[D("h2",null,"About App"),D("p",null," Planning a trip can be overwhelming, but with TripMaster, organizing your adventures has never been easier. TripMaster is a comprehensive travel planning app designed to simplify every step of your journey—from choosing a destination to packing your bags. Whether you’re a spontaneous explorer or a meticulous planner, this app ensures that you can focus on the excitement of travel rather than the hassle of logistics. ")],-1)),D("div",kE,[t[3]||(t[3]=D("h2",null,"Authors",-1)),D("ul",null,[D("li",null,[se(D("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>e.author1=i),placeholder:"Amanda Miśkiewicz"},null,512),[[le,e.author1]])]),D("li",null,[se(D("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=i=>e.author2=i),placeholder:"Julia Mieszaniec"},null,512),[[le,e.author2]])]),D("li",null,[se(D("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=i=>e.author3=i),placeholder:"Jan Paluch"},null,512),[[le,e.author3]])])])])])}const OE=Qe(AE,[["render",RE],["__scopeId","data-v-a854975f"]]),ME=[{path:"/",name:"Home",component:sv},{path:"/",name:"HomeView",component:Vu},{path:"/info",name:"Info",component:OE},{path:"/login",name:"Login",component:EE},{path:"/register",name:"Register",component:xE},{path:"/trips",name:"Trips",component:Vu},{path:"/trip/:id",name:"TripDetails",component:sw,props:!0}],DE=Jg({history:Ig(),routes:ME}),NE="modulepreload",BE=function(e){return"/"+e},Rh={},zE=function(t,i,r){let o=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(i.map(m=>{if(m=BE(m),m in Rh)return;Rh[m]=!0;const y=m.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${b}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":NE,y||(w.as="script"),w.crossOrigin="",w.href=m,d&&w.setAttribute("nonce",d),document.head.appendChild(w),y)return new Promise((R,z)=>{w.addEventListener("load",R),w.addEventListener("error",()=>z(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&c(d.reason);return t().catch(c)})};function UE(e={}){const{immediate:t=!1,onNeedRefresh:i,onOfflineReady:r,onRegistered:o,onRegisteredSW:c,onRegisterError:u}=e;let d,m;const y=async(w=!0)=>{await m};async function b(){if("serviceWorker"in navigator){if(d=await zE(async()=>{const{Workbox:w}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:w}},[]).then(({Workbox:w})=>new w("/sw.js",{scope:"/",type:"classic"})).catch(w=>{u==null||u(w)}),!d)return;d.addEventListener("activated",w=>{(w.isUpdate||w.isExternal)&&window.location.reload()}),d.addEventListener("installed",w=>{w.isUpdate||r==null||r()}),d.register({immediate:t}).then(w=>{c?c("/sw.js",w):o==null||o(w)}).catch(w=>{u==null||u(w)})}}return m=b(),y}V_(K_).use(DE).mount("#app");UE({onNeedRefresh(){console.log("Nowa wersja dostępna. Odśwież stronę!")},onOfflineReady(){console.log("Aplikacja jest teraz dostępna offline!")}});
